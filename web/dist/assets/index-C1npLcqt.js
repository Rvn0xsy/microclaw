var BT=Object.defineProperty;var By=e=>{throw TypeError(e)};var $T=(e,t,n)=>t in e?BT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>$T(e,typeof t!="symbol"?t+"":t,n),$y=(e,t,n)=>t.has(e)||By("Cannot "+n);var Mi=(e,t,n)=>($y(e,t,"read from private field"),n?n.call(e):t.get(e)),Oi=(e,t,n)=>t.has(e)?By("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Li=(e,t,n,r)=>($y(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function UT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ob={exports:{}},vu={},ib={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),HT=Symbol.for("react.portal"),VT=Symbol.for("react.fragment"),WT=Symbol.for("react.strict_mode"),KT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),QT=Symbol.for("react.memo"),JT=Symbol.for("react.lazy"),Uy=Symbol.iterator;function ZT(e){return e===null||typeof e!="object"?null:(e=Uy&&e[Uy]||e["@@iterator"],typeof e=="function"?e:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,cb={};function hi(e,t,n){this.props=e,this.context=t,this.refs=cb,this.updater=n||ab}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ub(){}ub.prototype=hi.prototype;function op(e,t,n){this.props=e,this.context=t,this.refs=cb,this.updater=n||ab}var ip=op.prototype=new ub;ip.constructor=op;lb(ip,hi.prototype);ip.isPureReactComponent=!0;var Hy=Array.isArray,db=Object.prototype.hasOwnProperty,ap={current:null},fb={key:!0,ref:!0,__self:!0,__source:!0};function hb(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)db.call(t,r)&&!fb.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xa,type:e,key:o,ref:i,props:s,_owner:ap.current}}function eN(e,t){return{$$typeof:Xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xa}function tN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vy=/\/+/g;function _d(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tN(""+e.key):t.toString(36)}function tc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xa:case HT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+_d(i,0):r,Hy(s)?(n="",e!=null&&(n=e.replace(Vy,"$&/")+"/"),tc(s,t,n,"",function(u){return u})):s!=null&&(lp(s)&&(s=eN(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Vy,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Hy(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+_d(o,a);i+=tc(o,t,n,l,s)}else if(l=ZT(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+_d(o,a++),i+=tc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xl(e,t,n){if(e==null)return e;var r=[],s=0;return tc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function nN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},nc={transition:null},rN={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:nc,ReactCurrentOwner:ap};function pb(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:xl,forEach:function(e,t,n){xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xl(e,function(){t++}),t},toArray:function(e){return xl(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=hi;ge.Fragment=VT;ge.Profiler=KT;ge.PureComponent=op;ge.StrictMode=WT;ge.Suspense=XT;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rN;ge.act=pb;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lb({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ap.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)db.call(t,l)&&!fb.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xa,type:e.type,key:s,ref:o,props:r,_owner:i}};ge.createContext=function(e){return e={$$typeof:GT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qT,_context:e},e.Consumer=e};ge.createElement=hb;ge.createFactory=function(e){var t=hb.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:YT,render:e}};ge.isValidElement=lp;ge.lazy=function(e){return{$$typeof:JT,_payload:{_status:-1,_result:e},_init:nN}};ge.memo=function(e,t){return{$$typeof:QT,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=nc.transition;nc.transition={};try{e()}finally{nc.transition=t}};ge.unstable_act=pb;ge.useCallback=function(e,t){return Mt.current.useCallback(e,t)};ge.useContext=function(e){return Mt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Mt.current.useEffect(e,t)};ge.useId=function(){return Mt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Mt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Mt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Mt.current.useReducer(e,t,n)};ge.useRef=function(e){return Mt.current.useRef(e)};ge.useState=function(e){return Mt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Mt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Mt.current.useTransition()};ge.version="18.3.1";ib.exports=ge;var f=ib.exports;const Se=fi(f),cp=UT({__proto__:null,default:Se},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=f,oN=Symbol.for("react.element"),iN=Symbol.for("react.fragment"),aN=Object.prototype.hasOwnProperty,lN=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cN={key:!0,ref:!0,__self:!0,__source:!0};function mb(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)aN.call(t,r)&&!cN.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:oN,type:e,key:o,ref:i,props:s,_owner:lN.current}}vu.Fragment=iN;vu.jsx=mb;vu.jsxs=mb;ob.exports=vu;var c=ob.exports,gb={exports:{}},sn={},yb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var S=A.length;A.push(U);e:for(;0<S;){var ae=S-1>>>1,fe=A[ae];if(0<s(fe,U))A[ae]=U,A[S]=fe,S=ae;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var U=A[0],S=A.pop();if(S!==U){A[0]=S;e:for(var ae=0,fe=A.length,E=fe>>>1;ae<E;){var Te=2*(ae+1)-1,He=A[Te],be=Te+1,Q=A[be];if(0>s(He,S))be<fe&&0>s(Q,He)?(A[ae]=Q,A[be]=S,ae=be):(A[ae]=He,A[Te]=S,ae=Te);else if(be<fe&&0>s(Q,S))A[ae]=Q,A[be]=S,ae=be;else break e}}return U}function s(A,U){var S=A.sortIndex-U.sortIndex;return S!==0?S:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=A)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function C(A){if(y=!1,x(A),!w)if(n(l)!==null)w=!0,q(N);else{var U=n(u);U!==null&&ee(C,U.startTime-A)}}function N(A,U){w=!1,y&&(y=!1,g(I),I=-1),m=!0;var S=p;try{for(x(U),h=n(l);h!==null&&(!(h.expirationTime>U)||A&&!L());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var fe=ae(h.expirationTime<=U);U=e.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),x(U)}else r(l);h=n(l)}if(h!==null)var E=!0;else{var Te=n(u);Te!==null&&ee(C,Te.startTime-U),E=!1}return E}finally{h=null,p=S,m=!1}}var k=!1,T=null,I=-1,O=5,j=-1;function L(){return!(e.unstable_now()-j<O)}function D(){if(T!==null){var A=e.unstable_now();j=A;var U=!0;try{U=T(!0,A)}finally{U?K():(k=!1,T=null)}}else k=!1}var K;if(typeof v=="function")K=function(){v(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=D,K=function(){G.postMessage(null)}}else K=function(){b(D,0)};function q(A){T=A,k||(k=!0,K())}function ee(A,U){I=b(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,q(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var S=p;p=U;try{return A()}finally{p=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var S=p;p=A;try{return U()}finally{p=S}},e.unstable_scheduleCallback=function(A,U,S){var ae=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?ae+S:ae):S=ae,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=S+fe,A={id:d++,callback:U,priorityLevel:A,startTime:S,expirationTime:fe,sortIndex:-1},S>ae?(A.sortIndex=S,t(u,A),n(l)===null&&A===n(u)&&(y?(g(I),I=-1):y=!0,ee(C,S-ae))):(A.sortIndex=fe,t(l,A),w||m||(w=!0,q(N))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var U=p;return function(){var S=p;p=U;try{return A.apply(this,arguments)}finally{p=S}}}})(vb);yb.exports=vb;var uN=yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=f,rn=uN;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xb=new Set,ba={};function to(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(ba[e]=t,e=0;e<t.length;e++)xb.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=Object.prototype.hasOwnProperty,fN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wy={},Ky={};function hN(e){return Rf.call(Ky,e)?!0:Rf.call(Wy,e)?!1:fN.test(e)?Ky[e]=!0:(Wy[e]=!0,!1)}function pN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mN(e,t,n,r){if(t===null||typeof t>"u"||pN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var up=/[\-:]([a-z])/g;function dp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(up,dp);mt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(up,dp);mt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(up,dp);mt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function fp(e,t,n,r){var s=mt.hasOwnProperty(t)?mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mN(t,n,s,r)&&(n=null),r||s===null?hN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Co=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),bb=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),mp=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),_b=Symbol.for("react.offscreen"),qy=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=qy&&e[qy]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Sd;function Xi(e){if(Sd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sd=t&&t[1]||""}return`
`+Sd+e}var Cd=!1;function kd(e,t){if(!e||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xi(e):""}function gN(e){switch(e.tag){case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return e=kd(e.type,!1),e;case 11:return e=kd(e.type.render,!1),e;case 1:return e=kd(e.type,!0),e;default:return""}}function jf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case Co:return"Portal";case If:return"Profiler";case hp:return"StrictMode";case Pf:return"Suspense";case Af:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bb:return(e.displayName||"Context")+".Consumer";case wb:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mp:return t=e.displayName||null,t!==null?t:jf(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return jf(e(t))}catch{}}return null}function yN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jf(t);case 8:return t===hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vN(e){var t=Sb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=vN(e))}function Cb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ec(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mf(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kb(e,t){t=t.checked,t!=null&&fp(e,"checked",t,!1)}function Of(e,t){kb(e,t);var n=ms(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lf(e,t.type,ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lf(e,t,n){(t!=="number"||Ec(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qi=Array.isArray;function Bo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ms(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Df(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Qi(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ms(n)}}function Eb(e,t){var n=ms(t.value),r=ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _l,Nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_l=_l||document.createElement("div"),_l.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xN=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(e){xN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ta[t]=ta[e]})});function Rb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ta.hasOwnProperty(e)&&ta[e]?(""+t).trim():t+"px"}function Ib(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Rb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var wN=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zf(e,t){if(t){if(wN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Bf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uf=null,$o=null,Uo=null;function Jy(e){if(e=Za(e)){if(typeof Uf!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Su(t),Uf(e.stateNode,e.type,t))}}function Pb(e){$o?Uo?Uo.push(e):Uo=[e]:$o=e}function Ab(){if($o){var e=$o,t=Uo;if(Uo=$o=null,Jy(e),t)for(e=0;e<t.length;e++)Jy(t[e])}}function jb(e,t){return e(t)}function Mb(){}var Ed=!1;function Ob(e,t,n){if(Ed)return e(t,n);Ed=!0;try{return jb(e,t,n)}finally{Ed=!1,($o!==null||Uo!==null)&&(Mb(),Ab())}}function Sa(e,t){var n=e.stateNode;if(n===null)return null;var r=Su(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Hf=!1;if(Tr)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Hf=!1}function bN(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var na=!1,Tc=null,Nc=!1,Vf=null,_N={onError:function(e){na=!0,Tc=e}};function SN(e,t,n,r,s,o,i,a,l){na=!1,Tc=null,bN.apply(_N,arguments)}function CN(e,t,n,r,s,o,i,a,l){if(SN.apply(this,arguments),na){if(na){var u=Tc;na=!1,Tc=null}else throw Error(z(198));Nc||(Nc=!0,Vf=u)}}function no(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zy(e){if(no(e)!==e)throw Error(z(188))}function kN(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Zy(s),e;if(o===r)return Zy(s),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Db(e){return e=kN(e),e!==null?Fb(e):null}function Fb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fb(e);if(t!==null)return t;e=e.sibling}return null}var zb=rn.unstable_scheduleCallback,ev=rn.unstable_cancelCallback,EN=rn.unstable_shouldYield,TN=rn.unstable_requestPaint,Je=rn.unstable_now,NN=rn.unstable_getCurrentPriorityLevel,yp=rn.unstable_ImmediatePriority,Bb=rn.unstable_UserBlockingPriority,Rc=rn.unstable_NormalPriority,RN=rn.unstable_LowPriority,$b=rn.unstable_IdlePriority,xu=null,or=null;function IN(e){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(xu,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:jN,PN=Math.log,AN=Math.LN2;function jN(e){return e>>>=0,e===0?32:31-(PN(e)/AN|0)|0}var Sl=64,Cl=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ji(a):(o&=i,o!==0&&(r=Ji(o)))}else i=n&~s,i!==0?r=Ji(i):o!==0&&(r=Ji(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),s=1<<n,r|=e[n],t&=~s;return r}function MN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ON(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-On(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=MN(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Wf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ub(){var e=Sl;return Sl<<=1,!(Sl&4194240)&&(Sl=64),e}function Td(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function LN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-On(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function vp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ae=0;function Hb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vb,xp,Wb,Kb,qb,Kf=!1,kl=[],as=null,ls=null,cs=null,Ca=new Map,ka=new Map,ts=[],DN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tv(e,t){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function zi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Za(t),t!==null&&xp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function FN(e,t,n,r,s){switch(t){case"focusin":return as=zi(as,e,t,n,r,s),!0;case"dragenter":return ls=zi(ls,e,t,n,r,s),!0;case"mouseover":return cs=zi(cs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ca.set(o,zi(Ca.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ka.set(o,zi(ka.get(o)||null,e,t,n,r,s)),!0}return!1}function Gb(e){var t=Fs(e.target);if(t!==null){var n=no(t);if(n!==null){if(t=n.tag,t===13){if(t=Lb(n),t!==null){e.blockedOn=t,qb(e.priority,function(){Wb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return t=Za(n),t!==null&&xp(t),e.blockedOn=n,!1;t.shift()}return!0}function nv(e,t,n){rc(e)&&n.delete(t)}function zN(){Kf=!1,as!==null&&rc(as)&&(as=null),ls!==null&&rc(ls)&&(ls=null),cs!==null&&rc(cs)&&(cs=null),Ca.forEach(nv),ka.forEach(nv)}function Bi(e,t){e.blockedOn===t&&(e.blockedOn=null,Kf||(Kf=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,zN)))}function Ea(e){function t(s){return Bi(s,e)}if(0<kl.length){Bi(kl[0],e);for(var n=1;n<kl.length;n++){var r=kl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(as!==null&&Bi(as,e),ls!==null&&Bi(ls,e),cs!==null&&Bi(cs,e),Ca.forEach(t),ka.forEach(t),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&ts.shift()}var Ho=Or.ReactCurrentBatchConfig,Pc=!0;function BN(e,t,n,r){var s=Ae,o=Ho.transition;Ho.transition=null;try{Ae=1,wp(e,t,n,r)}finally{Ae=s,Ho.transition=o}}function $N(e,t,n,r){var s=Ae,o=Ho.transition;Ho.transition=null;try{Ae=4,wp(e,t,n,r)}finally{Ae=s,Ho.transition=o}}function wp(e,t,n,r){if(Pc){var s=qf(e,t,n,r);if(s===null)Dd(e,t,r,Ac,n),tv(e,r);else if(FN(s,e,t,n,r))r.stopPropagation();else if(tv(e,r),t&4&&-1<DN.indexOf(e)){for(;s!==null;){var o=Za(s);if(o!==null&&Vb(o),o=qf(e,t,n,r),o===null&&Dd(e,t,r,Ac,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Dd(e,t,r,null,n)}}var Ac=null;function qf(e,t,n,r){if(Ac=null,e=gp(r),e=Fs(e),e!==null)if(t=no(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ac=e,null}function Yb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NN()){case yp:return 1;case Bb:return 4;case Rc:case RN:return 16;case $b:return 536870912;default:return 16}default:return 16}}var ss=null,bp=null,sc=null;function Xb(){if(sc)return sc;var e,t=bp,n=t.length,r,s="value"in ss?ss.value:ss.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return sc=s.slice(e,1<r?1-r:void 0)}function oc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function rv(){return!1}function on(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?El:rv,this.isPropagationStopped=rv,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=on(pi),Ja=qe({},pi,{view:0,detail:0}),UN=on(Ja),Nd,Rd,$i,wu=qe({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(Nd=e.screenX-$i.screenX,Rd=e.screenY-$i.screenY):Rd=Nd=0,$i=e),Nd)},movementY:function(e){return"movementY"in e?e.movementY:Rd}}),sv=on(wu),HN=qe({},wu,{dataTransfer:0}),VN=on(HN),WN=qe({},Ja,{relatedTarget:0}),Id=on(WN),KN=qe({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),qN=on(KN),GN=qe({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YN=on(GN),XN=qe({},pi,{data:0}),ov=on(XN),QN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZN[e])?!!t[e]:!1}function Sp(){return eR}var tR=qe({},Ja,{key:function(e){if(e.key){var t=QN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(e){return e.type==="keypress"?oc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nR=on(tR),rR=qe({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=on(rR),sR=qe({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),oR=on(sR),iR=qe({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),aR=on(iR),lR=qe({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cR=on(lR),uR=[9,13,27,32],Cp=Tr&&"CompositionEvent"in window,ra=null;Tr&&"documentMode"in document&&(ra=document.documentMode);var dR=Tr&&"TextEvent"in window&&!ra,Qb=Tr&&(!Cp||ra&&8<ra&&11>=ra),av=" ",lv=!1;function Jb(e,t){switch(e){case"keyup":return uR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function fR(e,t){switch(e){case"compositionend":return Zb(t);case"keypress":return t.which!==32?null:(lv=!0,av);case"textInput":return e=t.data,e===av&&lv?null:e;default:return null}}function hR(e,t){if(Eo)return e==="compositionend"||!Cp&&Jb(e,t)?(e=Xb(),sc=bp=ss=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qb&&t.locale!=="ko"?null:t.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pR[e.type]:t==="textarea"}function e_(e,t,n,r){Pb(r),t=jc(t,"onChange"),0<t.length&&(n=new _p("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sa=null,Ta=null;function mR(e){d_(e,0)}function bu(e){var t=Ro(e);if(Cb(t))return e}function gR(e,t){if(e==="change")return t}var t_=!1;if(Tr){var Pd;if(Tr){var Ad="oninput"in document;if(!Ad){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),Ad=typeof uv.oninput=="function"}Pd=Ad}else Pd=!1;t_=Pd&&(!document.documentMode||9<document.documentMode)}function dv(){sa&&(sa.detachEvent("onpropertychange",n_),Ta=sa=null)}function n_(e){if(e.propertyName==="value"&&bu(Ta)){var t=[];e_(t,Ta,e,gp(e)),Ob(mR,t)}}function yR(e,t,n){e==="focusin"?(dv(),sa=t,Ta=n,sa.attachEvent("onpropertychange",n_)):e==="focusout"&&dv()}function vR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Ta)}function xR(e,t){if(e==="click")return bu(t)}function wR(e,t){if(e==="input"||e==="change")return bu(t)}function bR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:bR;function Na(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rf.call(t,s)||!Fn(e[s],t[s]))return!1}return!0}function fv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hv(e,t){var n=fv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fv(n)}}function r_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s_(){for(var e=window,t=Ec();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ec(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _R(e){var t=s_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&r_(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=hv(n,o);var i=hv(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SR=Tr&&"documentMode"in document&&11>=document.documentMode,To=null,Gf=null,oa=null,Yf=!1;function pv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||To==null||To!==Ec(r)||(r=To,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&Na(oa,r)||(oa=r,r=jc(Gf,"onSelect"),0<r.length&&(t=new _p("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=To)))}function Tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var No={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},jd={},o_={};Tr&&(o_=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function _u(e){if(jd[e])return jd[e];if(!No[e])return e;var t=No[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in o_)return jd[e]=t[n];return e}var i_=_u("animationend"),a_=_u("animationiteration"),l_=_u("animationstart"),c_=_u("transitionend"),u_=new Map,mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(e,t){u_.set(e,t),to(t,[e])}for(var Md=0;Md<mv.length;Md++){var Od=mv[Md],CR=Od.toLowerCase(),kR=Od[0].toUpperCase()+Od.slice(1);xs(CR,"on"+kR)}xs(i_,"onAnimationEnd");xs(a_,"onAnimationIteration");xs(l_,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(c_,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function gv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CN(r,t,void 0,e),e.currentTarget=null}function d_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;gv(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;gv(s,a,u),o=l}}}if(Nc)throw e=Vf,Nc=!1,Vf=null,e}function ze(e,t){var n=t[eh];n===void 0&&(n=t[eh]=new Set);var r=e+"__bubble";n.has(r)||(f_(t,e,2,!1),n.add(r))}function Ld(e,t,n){var r=0;t&&(r|=4),f_(n,e,r,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function Ra(e){if(!e[Nl]){e[Nl]=!0,xb.forEach(function(n){n!=="selectionchange"&&(ER.has(n)||Ld(n,!1,e),Ld(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Ld("selectionchange",!1,t))}}function f_(e,t,n,r){switch(Yb(t)){case 1:var s=BN;break;case 4:s=$N;break;default:s=wp}n=s.bind(null,t,n,e),s=void 0,!Hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Dd(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Fs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Ob(function(){var u=o,d=gp(n),h=[];e:{var p=u_.get(e);if(p!==void 0){var m=_p,w=e;switch(e){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":m=nR;break;case"focusin":w="focus",m=Id;break;case"focusout":w="blur",m=Id;break;case"beforeblur":case"afterblur":m=Id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=VN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oR;break;case i_:case a_:case l_:m=qN;break;case c_:m=aR;break;case"scroll":m=UN;break;case"wheel":m=cR;break;case"copy":case"cut":case"paste":m=YN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iv}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=Sa(v,g),C!=null&&y.push(Ia(v,C,x)))),b)break;v=v.return}0<y.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==$f&&(w=n.relatedTarget||n.fromElement)&&(Fs(w)||w[Nr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Fs(w):null,w!==null&&(b=no(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=sv,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=iv,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?p:Ro(m),x=w==null?p:Ro(w),p=new y(C,v+"leave",m,n,d),p.target=b,p.relatedTarget=x,C=null,Fs(d)===u&&(y=new y(g,v+"enter",w,n,d),y.target=x,y.relatedTarget=b,C=y),b=C,m&&w)t:{for(y=m,g=w,v=0,x=y;x;x=yo(x))v++;for(x=0,C=g;C;C=yo(C))x++;for(;0<v-x;)y=yo(y),v--;for(;0<x-v;)g=yo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=yo(y),g=yo(g)}y=null}else y=null;m!==null&&yv(h,p,m,y,!1),w!==null&&b!==null&&yv(h,b,w,y,!0)}}e:{if(p=u?Ro(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=gR;else if(cv(p))if(t_)N=wR;else{N=vR;var k=yR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=xR);if(N&&(N=N(e,u))){e_(h,N,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Lf(p,"number",p.value)}switch(k=u?Ro(u):window,e){case"focusin":(cv(k)||k.contentEditable==="true")&&(To=k,Gf=u,oa=null);break;case"focusout":oa=Gf=To=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,pv(h,n,d);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":pv(h,n,d)}var T;if(Cp)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Eo?Jb(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Qb&&n.locale!=="ko"&&(Eo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Eo&&(T=Xb()):(ss=d,bp="value"in ss?ss.value:ss.textContent,Eo=!0)),k=jc(u,I),0<k.length&&(I=new ov(I,e,null,n,d),h.push({event:I,listeners:k}),T?I.data=T:(T=Zb(n),T!==null&&(I.data=T)))),(T=dR?fR(e,n):hR(e,n))&&(u=jc(u,"onBeforeInput"),0<u.length&&(d=new ov("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}d_(h,t)})}function Ia(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Sa(e,n),o!=null&&r.unshift(Ia(e,o,s)),o=Sa(e,t),o!=null&&r.push(Ia(e,o,s))),e=e.return}return r}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yv(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Sa(n,o),l!=null&&i.unshift(Ia(n,l,a))):s||(l=Sa(n,o),l!=null&&i.push(Ia(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var TR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function vv(e){return(typeof e=="string"?e:""+e).replace(TR,`
`).replace(NR,"")}function Rl(e,t,n){if(t=vv(t),vv(e)!==t&&n)throw Error(z(425))}function Mc(){}var Xf=null,Qf=null;function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zf=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,IR=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(e){return xv.resolve(null).then(e).catch(PR)}:Zf;function PR(e){setTimeout(function(){throw e})}function Fd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ea(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ea(t)}function us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),er="__reactFiber$"+mi,Pa="__reactProps$"+mi,Nr="__reactContainer$"+mi,eh="__reactEvents$"+mi,AR="__reactListeners$"+mi,jR="__reactHandles$"+mi;function Fs(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wv(e);e!==null;){if(n=e[er])return n;e=wv(e)}return t}e=n,n=e.parentNode}return null}function Za(e){return e=e[er]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Su(e){return e[Pa]||null}var th=[],Io=-1;function ws(e){return{current:e}}function Be(e){0>Io||(e.current=th[Io],th[Io]=null,Io--)}function De(e,t){Io++,th[Io]=e.current,e.current=t}var gs={},Ct=ws(gs),Ht=ws(!1),Vs=gs;function Jo(e,t){var n=e.type.contextTypes;if(!n)return gs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function Oc(){Be(Ht),Be(Ct)}function bv(e,t,n){if(Ct.current!==gs)throw Error(z(168));De(Ct,t),De(Ht,n)}function h_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,yN(e)||"Unknown",s));return qe({},n,r)}function Lc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Vs=Ct.current,De(Ct,e),De(Ht,Ht.current),!0}function _v(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=h_(e,t,Vs),r.__reactInternalMemoizedMergedChildContext=e,Be(Ht),Be(Ct),De(Ct,e)):Be(Ht),De(Ht,n)}var wr=null,Cu=!1,zd=!1;function p_(e){wr===null?wr=[e]:wr.push(e)}function MR(e){Cu=!0,p_(e)}function bs(){if(!zd&&wr!==null){zd=!0;var e=0,t=Ae;try{var n=wr;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,Cu=!1}catch(s){throw wr!==null&&(wr=wr.slice(e+1)),zb(yp,bs),s}finally{Ae=t,zd=!1}}return null}var Po=[],Ao=0,Dc=null,Fc=0,mn=[],gn=0,Ws=null,Sr=1,Cr="";function Ms(e,t){Po[Ao++]=Fc,Po[Ao++]=Dc,Dc=e,Fc=t}function m_(e,t,n){mn[gn++]=Sr,mn[gn++]=Cr,mn[gn++]=Ws,Ws=e;var r=Sr;e=Cr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var o=32-On(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Sr=1<<32-On(t)+s|n<<s|r,Cr=o+e}else Sr=1<<o|n<<s|r,Cr=e}function Ep(e){e.return!==null&&(Ms(e,1),m_(e,1,0))}function Tp(e){for(;e===Dc;)Dc=Po[--Ao],Po[Ao]=null,Fc=Po[--Ao],Po[Ao]=null;for(;e===Ws;)Ws=mn[--gn],mn[gn]=null,Cr=mn[--gn],mn[gn]=null,Sr=mn[--gn],mn[gn]=null}var tn=null,Zt=null,Ue=!1,jn=null;function g_(e,t){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Zt=us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ws!==null?{id:Sr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Zt=null,!0):!1;default:return!1}}function nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rh(e){if(Ue){var t=Zt;if(t){var n=t;if(!Sv(e,t)){if(nh(e))throw Error(z(418));t=us(n.nextSibling);var r=tn;t&&Sv(e,t)?g_(r,n):(e.flags=e.flags&-4097|2,Ue=!1,tn=e)}}else{if(nh(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ue=!1,tn=e}}}function Cv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Il(e){if(e!==tn)return!1;if(!Ue)return Cv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jf(e.type,e.memoizedProps)),t&&(t=Zt)){if(nh(e))throw y_(),Error(z(418));for(;t;)g_(e,t),t=us(t.nextSibling)}if(Cv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=us(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=tn?us(e.stateNode.nextSibling):null;return!0}function y_(){for(var e=Zt;e;)e=us(e.nextSibling)}function Zo(){Zt=tn=null,Ue=!1}function Np(e){jn===null?jn=[e]:jn.push(e)}var OR=Or.ReactCurrentBatchConfig;function Ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Pl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kv(e){var t=e._init;return t(e._payload)}function v_(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=ps(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,C){return v===null||v.tag!==6?(v=Kd(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,C){var N=x.type;return N===ko?d(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&kv(N)===v.type)?(C=s(v,x.props),C.ref=Ui(g,v,x),C.return=g,C):(C=fc(x.type,x.key,x.props,null,g.mode,C),C.ref=Ui(g,v,x),C.return=g,C)}function u(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=qd(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function d(g,v,x,C,N){return v===null||v.tag!==7?(v=Us(x,g.mode,C,N),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Kd(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return x=fc(v.type,v.key,v.props,null,g.mode,x),x.ref=Ui(g,null,v),x.return=g,x;case Co:return v=qd(v,g.mode,x),v.return=g,v;case Qr:var C=v._init;return h(g,C(v._payload),x)}if(Qi(v)||Di(v))return v=Us(v,g.mode,x,null),v.return=g,v;Pl(g,v)}return null}function p(g,v,x,C){var N=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return x.key===N?l(g,v,x,C):null;case Co:return x.key===N?u(g,v,x,C):null;case Qr:return N=x._init,p(g,v,N(x._payload),C)}if(Qi(x)||Di(x))return N!==null?null:d(g,v,x,C,null);Pl(g,x)}return null}function m(g,v,x,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(v,g,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wl:return g=g.get(C.key===null?x:C.key)||null,l(v,g,C,N);case Co:return g=g.get(C.key===null?x:C.key)||null,u(v,g,C,N);case Qr:var k=C._init;return m(g,v,x,k(C._payload),N)}if(Qi(C)||Di(C))return g=g.get(x)||null,d(v,g,C,N,null);Pl(v,C)}return null}function w(g,v,x,C){for(var N=null,k=null,T=v,I=v=0,O=null;T!==null&&I<x.length;I++){T.index>I?(O=T,T=null):O=T.sibling;var j=p(g,T,x[I],C);if(j===null){T===null&&(T=O);break}e&&T&&j.alternate===null&&t(g,T),v=o(j,v,I),k===null?N=j:k.sibling=j,k=j,T=O}if(I===x.length)return n(g,T),Ue&&Ms(g,I),N;if(T===null){for(;I<x.length;I++)T=h(g,x[I],C),T!==null&&(v=o(T,v,I),k===null?N=T:k.sibling=T,k=T);return Ue&&Ms(g,I),N}for(T=r(g,T);I<x.length;I++)O=m(T,g,I,x[I],C),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?I:O.key),v=o(O,v,I),k===null?N=O:k.sibling=O,k=O);return e&&T.forEach(function(L){return t(g,L)}),Ue&&Ms(g,I),N}function y(g,v,x,C){var N=Di(x);if(typeof N!="function")throw Error(z(150));if(x=N.call(x),x==null)throw Error(z(151));for(var k=N=null,T=v,I=v=0,O=null,j=x.next();T!==null&&!j.done;I++,j=x.next()){T.index>I?(O=T,T=null):O=T.sibling;var L=p(g,T,j.value,C);if(L===null){T===null&&(T=O);break}e&&T&&L.alternate===null&&t(g,T),v=o(L,v,I),k===null?N=L:k.sibling=L,k=L,T=O}if(j.done)return n(g,T),Ue&&Ms(g,I),N;if(T===null){for(;!j.done;I++,j=x.next())j=h(g,j.value,C),j!==null&&(v=o(j,v,I),k===null?N=j:k.sibling=j,k=j);return Ue&&Ms(g,I),N}for(T=r(g,T);!j.done;I++,j=x.next())j=m(T,g,I,j.value,C),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?I:j.key),v=o(j,v,I),k===null?N=j:k.sibling=j,k=j);return e&&T.forEach(function(D){return t(g,D)}),Ue&&Ms(g,I),N}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:e:{for(var N=x.key,k=v;k!==null;){if(k.key===N){if(N=x.type,N===ko){if(k.tag===7){n(g,k.sibling),v=s(k,x.props.children),v.return=g,g=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qr&&kv(N)===k.type){n(g,k.sibling),v=s(k,x.props),v.ref=Ui(g,k,x),v.return=g,g=v;break e}n(g,k);break}else t(g,k);k=k.sibling}x.type===ko?(v=Us(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=fc(x.type,x.key,x.props,null,g.mode,C),C.ref=Ui(g,v,x),C.return=g,g=C)}return i(g);case Co:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=qd(x,g.mode,C),v.return=g,g=v}return i(g);case Qr:return k=x._init,b(g,v,k(x._payload),C)}if(Qi(x))return w(g,v,x,C);if(Di(x))return y(g,v,x,C);Pl(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=Kd(x,g.mode,C),v.return=g,g=v),i(g)):n(g,v)}return b}var ei=v_(!0),x_=v_(!1),zc=ws(null),Bc=null,jo=null,Rp=null;function Ip(){Rp=jo=Bc=null}function Pp(e){var t=zc.current;Be(zc),e._currentValue=t}function sh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Bc=e,Rp=jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},jo===null){if(Bc===null)throw Error(z(308));jo=e,Bc.dependencies={lanes:0,firstContext:e}}else jo=jo.next=e;return t}var zs=null;function Ap(e){zs===null?zs=[e]:zs.push(e)}function w_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ap(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rr(e,r)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jr=!1;function jp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rr(e,n)}return s=r.interleaved,s===null?(t.next=t,Ap(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rr(e,n)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vp(e,n)}}function Ev(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $c(e,t,n,r){var s=e.updateQueue;Jr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=qe({},h,p);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);qs|=i,e.lanes=i,e.memoizedState=h}}function Tv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var el={},ir=ws(el),Aa=ws(el),ja=ws(el);function Bs(e){if(e===el)throw Error(z(174));return e}function Mp(e,t){switch(De(ja,t),De(Aa,e),De(ir,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ff(t,e)}Be(ir),De(ir,t)}function ti(){Be(ir),Be(Aa),Be(ja)}function __(e){Bs(ja.current);var t=Bs(ir.current),n=Ff(t,e.type);t!==n&&(De(Aa,e),De(ir,n))}function Op(e){Aa.current===e&&(Be(ir),Be(Aa))}var We=ws(0);function Uc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bd=[];function Lp(){for(var e=0;e<Bd.length;e++)Bd[e]._workInProgressVersionPrimary=null;Bd.length=0}var ac=Or.ReactCurrentDispatcher,$d=Or.ReactCurrentBatchConfig,Ks=0,Ke=null,st=null,dt=null,Hc=!1,ia=!1,Ma=0,LR=0;function wt(){throw Error(z(321))}function Dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function Fp(e,t,n,r,s,o){if(Ks=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ac.current=e===null||e.memoizedState===null?BR:$R,e=n(r,s),ia){o=0;do{if(ia=!1,Ma=0,25<=o)throw Error(z(301));o+=1,dt=st=null,t.updateQueue=null,ac.current=UR,e=n(r,s)}while(ia)}if(ac.current=Vc,t=st!==null&&st.next!==null,Ks=0,dt=st=Ke=null,Hc=!1,t)throw Error(z(300));return e}function zp(){var e=Ma!==0;return Ma=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ke.memoizedState=dt=e:dt=dt.next=e,dt}function _n(){if(st===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=dt===null?Ke.memoizedState:dt.next;if(t!==null)dt=t,st=e;else{if(e===null)throw Error(z(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?Ke.memoizedState=dt=e:dt=dt.next=e}return dt}function Oa(e,t){return typeof t=="function"?t(e):t}function Ud(e){var t=_n(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=st,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Ks&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ke.lanes|=d,qs|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,Fn(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ke.lanes|=o,qs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hd(e){var t=_n(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Fn(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function S_(){}function C_(e,t){var n=Ke,r=_n(),s=t(),o=!Fn(r.memoizedState,s);if(o&&(r.memoizedState=s,Ut=!0),r=r.queue,Bp(T_.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,La(9,E_.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(z(349));Ks&30||k_(n,t,s)}return s}function k_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E_(e,t,n,r){t.value=n,t.getSnapshot=r,N_(t)&&R_(e)}function T_(e,t,n){return n(function(){N_(t)&&R_(e)})}function N_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function R_(e){var t=Rr(e,1);t!==null&&Ln(t,e,1,-1)}function Nv(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=zR.bind(null,Ke,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I_(){return _n().memoizedState}function lc(e,t,n,r){var s=Jn();Ke.flags|=e,s.memoizedState=La(1|t,n,void 0,r===void 0?null:r)}function ku(e,t,n,r){var s=_n();r=r===void 0?null:r;var o=void 0;if(st!==null){var i=st.memoizedState;if(o=i.destroy,r!==null&&Dp(r,i.deps)){s.memoizedState=La(t,n,o,r);return}}Ke.flags|=e,s.memoizedState=La(1|t,n,o,r)}function Rv(e,t){return lc(8390656,8,e,t)}function Bp(e,t){return ku(2048,8,e,t)}function P_(e,t){return ku(4,2,e,t)}function A_(e,t){return ku(4,4,e,t)}function j_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M_(e,t,n){return n=n!=null?n.concat([e]):null,ku(4,4,j_.bind(null,t,e),n)}function $p(){}function O_(e,t){var n=_n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function L_(e,t){var n=_n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function D_(e,t,n){return Ks&21?(Fn(n,t)||(n=Ub(),Ke.lanes|=n,qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function DR(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=$d.transition;$d.transition={};try{e(!1),t()}finally{Ae=n,$d.transition=r}}function F_(){return _n().memoizedState}function FR(e,t,n){var r=hs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z_(e))B_(t,n);else if(n=w_(e,t,n,r),n!==null){var s=jt();Ln(n,e,r,s),$_(n,t,r)}}function zR(e,t,n){var r=hs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z_(e))B_(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Fn(a,i)){var l=t.interleaved;l===null?(s.next=s,Ap(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=w_(e,t,s,r),n!==null&&(s=jt(),Ln(n,e,r,s),$_(n,t,r))}}function z_(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function B_(e,t){ia=Hc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vp(e,n)}}var Vc={readContext:bn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},BR={readContext:bn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:Rv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lc(4194308,4,j_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lc(4194308,4,e,t)},useInsertionEffect:function(e,t){return lc(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=FR.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:Nv,useDebugValue:$p,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=Nv(!1),t=e[0];return e=DR.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,s=Jn();if(Ue){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),ft===null)throw Error(z(349));Ks&30||k_(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Rv(T_.bind(null,r,o,e),[e]),r.flags|=2048,La(9,E_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jn(),t=ft.identifierPrefix;if(Ue){var n=Cr,r=Sr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$R={readContext:bn,useCallback:O_,useContext:bn,useEffect:Bp,useImperativeHandle:M_,useInsertionEffect:P_,useLayoutEffect:A_,useMemo:L_,useReducer:Ud,useRef:I_,useState:function(){return Ud(Oa)},useDebugValue:$p,useDeferredValue:function(e){var t=_n();return D_(t,st.memoizedState,e)},useTransition:function(){var e=Ud(Oa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:S_,useSyncExternalStore:C_,useId:F_,unstable_isNewReconciler:!1},UR={readContext:bn,useCallback:O_,useContext:bn,useEffect:Bp,useImperativeHandle:M_,useInsertionEffect:P_,useLayoutEffect:A_,useMemo:L_,useReducer:Hd,useRef:I_,useState:function(){return Hd(Oa)},useDebugValue:$p,useDeferredValue:function(e){var t=_n();return st===null?t.memoizedState=e:D_(t,st.memoizedState,e)},useTransition:function(){var e=Hd(Oa)[0],t=_n().memoizedState;return[e,t]},useMutableSource:S_,useSyncExternalStore:C_,useId:F_,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eu={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),s=hs(e),o=kr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ds(e,o,s),t!==null&&(Ln(t,e,s,r),ic(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),s=hs(e),o=kr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ds(e,o,s),t!==null&&(Ln(t,e,s,r),ic(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=hs(e),s=kr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ds(e,s,r),t!==null&&(Ln(t,e,r,n),ic(t,e,r))}};function Iv(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Na(n,r)||!Na(s,o):!0}function U_(e,t,n){var r=!1,s=gs,o=t.contextType;return typeof o=="object"&&o!==null?o=bn(o):(s=Vt(t)?Vs:Ct.current,r=t.contextTypes,o=(r=r!=null)?Jo(e,s):gs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eu.enqueueReplaceState(t,t.state,null)}function ih(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=bn(o):(o=Vt(t)?Vs:Ct.current,s.context=Jo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(oh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eu.enqueueReplaceState(s,s.state,null),$c(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=gN(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Vd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ah(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HR=typeof WeakMap=="function"?WeakMap:Map;function H_(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,yh=r),ah(e,t)},n}function V_(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ah(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ah(e,t),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Av(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rI.bind(null,e,t,n),t.then(e,e))}function jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,ds(n,t,1))),n.lanes|=1),e)}var VR=Or.ReactCurrentOwner,Ut=!1;function At(e,t,n,r){t.child=e===null?x_(t,null,n,r):ei(t,e.child,n,r)}function Ov(e,t,n,r,s){n=n.render;var o=t.ref;return Vo(t,s),r=Fp(e,t,n,r,o,s),n=zp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&n&&Ep(t),t.flags|=1,At(e,t,r,s),t.child)}function Lv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Yp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,W_(e,t,o,r,s)):(e=fc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(i,r)&&e.ref===t.ref)return Ir(e,t,s)}return t.flags|=1,e=ps(o,r),e.ref=t.ref,e.return=t,t.child=e}function W_(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Na(o,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Ir(e,t,s)}return lh(e,t,n,r,s)}function K_(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Oo,Xt),Xt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Oo,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Oo,Xt),Xt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(Oo,Xt),Xt|=r;return At(e,t,s,n),t.child}function q_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lh(e,t,n,r,s){var o=Vt(n)?Vs:Ct.current;return o=Jo(t,o),Vo(t,s),n=Fp(e,t,n,r,o,s),r=zp(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&r&&Ep(t),t.flags|=1,At(e,t,n,s),t.child)}function Dv(e,t,n,r,s){if(Vt(n)){var o=!0;Lc(t)}else o=!1;if(Vo(t,s),t.stateNode===null)cc(e,t),U_(t,n,r),ih(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Vt(n)?Vs:Ct.current,u=Jo(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pv(t,i,r,u),Jr=!1;var p=t.memoizedState;i.state=p,$c(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Ht.current||Jr?(typeof d=="function"&&(oh(t,n,d,r),l=t.memoizedState),(a=Jr||Iv(t,n,a,r,p,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,b_(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Pn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Vt(n)?Vs:Ct.current,l=Jo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Pv(t,i,r,l),Jr=!1,p=t.memoizedState,i.state=p,$c(t,r,i,s);var w=t.memoizedState;a!==h||p!==w||Ht.current||Jr?(typeof m=="function"&&(oh(t,n,m,r),w=t.memoizedState),(u=Jr||Iv(t,n,u,r,p,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ch(e,t,n,r,o,s)}function ch(e,t,n,r,s,o){q_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&_v(t,n,!1),Ir(e,t,o);r=t.stateNode,VR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ei(t,e.child,null,o),t.child=ei(t,null,a,o)):At(e,t,a,o),t.memoizedState=r.state,s&&_v(t,n,!0),t.child}function G_(e){var t=e.stateNode;t.pendingContext?bv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bv(e,t.context,!1),Mp(e,t.containerInfo)}function Fv(e,t,n,r,s){return Zo(),Np(s),t.flags|=256,At(e,t,n,r),t.child}var uh={dehydrated:null,treeContext:null,retryLane:0};function dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y_(e,t,n){var r=t.pendingProps,s=We.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(We,s&1),e===null)return rh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ru(i,r,0,null),e=Us(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dh(n),t.memoizedState=uh,e):Up(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WR(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ps(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=ps(a,o):(o=Us(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?dh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=uh,r}return o=e.child,e=o.sibling,r=ps(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Up(e,t){return t=Ru({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,n,r){return r!==null&&Np(r),ei(t,e.child,null,n),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WR(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Vd(Error(z(422))),Al(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ru({mode:"visible",children:r.children},s,0,null),o=Us(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ei(t,e.child,null,i),t.child.memoizedState=dh(i),t.memoizedState=uh,o);if(!(t.mode&1))return Al(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=Vd(o,r,void 0),Al(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ut||a){if(r=ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Rr(e,s),Ln(r,e,s,-1))}return Gp(),r=Vd(Error(z(421))),Al(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sI.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Zt=us(s.nextSibling),tn=t,Ue=!0,jn=null,e!==null&&(mn[gn++]=Sr,mn[gn++]=Cr,mn[gn++]=Ws,Sr=e.id,Cr=e.overflow,Ws=t),t=Up(t,r.children),t.flags|=4096,t)}function zv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sh(e.return,t,n)}function Wd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function X_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(At(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zv(e,n,t);else if(e.tag===19)zv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(We,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Uc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Uc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wd(t,!0,n,null,o);break;case"together":Wd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=ps(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ps(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KR(e,t,n){switch(t.tag){case 3:G_(t),Zo();break;case 5:__(t);break;case 1:Vt(t.type)&&Lc(t);break;case 4:Mp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(zc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?Y_(e,t,n):(De(We,We.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return X_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,K_(e,t,n)}return Ir(e,t,n)}var Q_,fh,J_,Z_;Q_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fh=function(){};J_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bs(ir.current);var o=null;switch(n){case"input":s=Mf(e,s),r=Mf(e,r),o=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),o=[];break;case"textarea":s=Df(e,s),r=Df(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mc)}zf(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ba.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ba.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Z_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qR(e,t,n){var r=t.pendingProps;switch(Tp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Vt(t.type)&&Oc(),bt(t),null;case 3:return r=t.stateNode,ti(),Be(Ht),Be(Ct),Lp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(wh(jn),jn=null))),fh(e,t),bt(t),null;case 5:Op(t);var s=Bs(ja.current);if(n=t.type,e!==null&&t.stateNode!=null)J_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return bt(t),null}if(e=Bs(ir.current),Il(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[er]=t,r[Pa]=o,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)ze(Zi[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Gy(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":Xy(r,o),ze("invalid",r)}zf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Rl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Rl(r.textContent,a,e),s=["children",""+a]):ba.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":bl(r),Yy(r,o,!0);break;case"textarea":bl(r),Qy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[er]=t,e[Pa]=r,Q_(e,t,!1,!1),t.stateNode=e;e:{switch(i=Bf(n,r),n){case"dialog":ze("cancel",e),ze("close",e),s=r;break;case"iframe":case"object":case"embed":ze("load",e),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)ze(Zi[s],e);s=r;break;case"source":ze("error",e),s=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=r;break;case"details":ze("toggle",e),s=r;break;case"input":Gy(e,r),s=Mf(e,r),ze("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),ze("invalid",e);break;case"textarea":Xy(e,r),s=Df(e,r),ze("invalid",e);break;default:s=r}zf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ib(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_a(e,l):typeof l=="number"&&_a(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ba.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",e):l!=null&&fp(e,o,l,i))}switch(n){case"input":bl(e),Yy(e,r,!1);break;case"textarea":bl(e),Qy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ms(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)Z_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Bs(ja.current),Bs(ir.current),Il(t)){if(r=t.stateNode,n=t.memoizedProps,r[er]=t,(o=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=t,t.stateNode=r}return bt(t),null;case 13:if(Be(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Zt!==null&&t.mode&1&&!(t.flags&128))y_(),Zo(),t.flags|=98560,o=!1;else if(o=Il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[er]=t}else Zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),o=!1}else jn!==null&&(wh(jn),jn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ot===0&&(ot=3):Gp())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return ti(),fh(e,t),e===null&&Ra(t.stateNode.containerInfo),bt(t),null;case 10:return Pp(t.type._context),bt(t),null;case 17:return Vt(t.type)&&Oc(),bt(t),null;case 19:if(Be(We),o=t.memoizedState,o===null)return bt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Hi(o,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Uc(e),i!==null){for(t.flags|=128,Hi(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&Je()>ri&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304)}else{if(!r)if(e=Uc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return bt(t),null}else 2*Je()-o.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,Hi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=We.current,De(We,r?n&1|2:n&1),t):(bt(t),null);case 22:case 23:return qp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function GR(e,t){switch(Tp(t),t.tag){case 1:return Vt(t.type)&&Oc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),Be(Ht),Be(Ct),Lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Op(t),null;case 13:if(Be(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(We),null;case 4:return ti(),null;case 10:return Pp(t.type._context),null;case 22:case 23:return qp(),null;case 24:return null;default:return null}}var jl=!1,_t=!1,YR=typeof WeakSet=="function"?WeakSet:Set,X=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(e,t,r)}else n.current=null}function hh(e,t,n){try{n()}catch(r){Ye(e,t,r)}}var Bv=!1;function XR(e,t){if(Xf=Pc,e=s_(),kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:e,selectionRange:n},Pc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Pn(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){Ye(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return w=Bv,Bv=!1,w}function aa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&hh(t,n,o)}s=s.next}while(s!==r)}}function Tu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ph(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eS(e){var t=e.alternate;t!==null&&(e.alternate=null,eS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Pa],delete t[eh],delete t[AR],delete t[jR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tS(e){return e.tag===5||e.tag===3||e.tag===4}function $v(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mc));else if(r!==4&&(e=e.child,e!==null))for(mh(e,t,n),e=e.sibling;e!==null;)mh(e,t,n),e=e.sibling}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}var ht=null,An=!1;function Hr(e,t,n){for(n=n.child;n!==null;)nS(e,t,n),n=n.sibling}function nS(e,t,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(xu,n)}catch{}switch(n.tag){case 5:_t||Mo(n,t);case 6:var r=ht,s=An;ht=null,Hr(e,t,n),ht=r,An=s,ht!==null&&(An?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(An?(e=ht,n=n.stateNode,e.nodeType===8?Fd(e.parentNode,n):e.nodeType===1&&Fd(e,n),Ea(e)):Fd(ht,n.stateNode));break;case 4:r=ht,s=An,ht=n.stateNode.containerInfo,An=!0,Hr(e,t,n),ht=r,An=s;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&hh(n,t,i),s=s.next}while(s!==r)}Hr(e,t,n);break;case 1:if(!_t&&(Mo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,t,a)}Hr(e,t,n);break;case 21:Hr(e,t,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,Hr(e,t,n),_t=r):Hr(e,t,n);break;default:Hr(e,t,n)}}function Uv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YR),t.forEach(function(r){var s=oI.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,An=!1;break e;case 3:ht=a.stateNode.containerInfo,An=!0;break e;case 4:ht=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(ht===null)throw Error(z(160));nS(o,i,s),ht=null,An=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rS(t,e),t=t.sibling}function rS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(t,e),Xn(e),r&4){try{aa(3,e,e.return),Tu(3,e)}catch(y){Ye(e,e.return,y)}try{aa(5,e,e.return)}catch(y){Ye(e,e.return,y)}}break;case 1:Rn(t,e),Xn(e),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(Rn(t,e),Xn(e),r&512&&n!==null&&Mo(n,n.return),e.flags&32){var s=e.stateNode;try{_a(s,"")}catch(y){Ye(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kb(s,o),Bf(a,i);var u=Bf(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?Ib(s,h):d==="dangerouslySetInnerHTML"?Nb(s,h):d==="children"?_a(s,h):fp(s,d,h,u)}switch(a){case"input":Of(s,o);break;case"textarea":Eb(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Bo(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Bo(s,!!o.multiple,o.defaultValue,!0):Bo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Pa]=o}catch(y){Ye(e,e.return,y)}}break;case 6:if(Rn(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Ye(e,e.return,y)}}break;case 3:if(Rn(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(y){Ye(e,e.return,y)}break;case 4:Rn(t,e),Xn(e);break;case 13:Rn(t,e),Xn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Wp=Je())),r&4&&Uv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(u=_t)||d,Rn(t,e),_t=u):Rn(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(h=X=d;X!==null;){switch(p=X,m=p.child,p.tag){case 0:case 11:case 14:case 15:aa(4,p,p.return);break;case 1:Mo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Ye(r,n,y)}}break;case 5:Mo(p,p.return);break;case 22:if(p.memoizedState!==null){Vv(h);continue}}m!==null?(m.return=p,X=m):Vv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rb("display",i))}catch(y){Ye(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ye(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rn(t,e),Xn(e),r&4&&Uv(e);break;case 21:break;default:Rn(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tS(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_a(s,""),r.flags&=-33);var o=$v(e);gh(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=$v(e);mh(e,a,i);break;default:throw Error(z(161))}}catch(l){Ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QR(e,t,n){X=e,sS(e)}function sS(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||jl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_t;a=jl;var u=_t;if(jl=i,(_t=l)&&!u)for(X=s;X!==null;)i=X,l=i.child,i.tag===22&&i.memoizedState!==null?Wv(s):l!==null?(l.return=i,X=l):Wv(s);for(;o!==null;)X=o,sS(o),o=o.sibling;X=s,jl=a,_t=u}Hv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):Hv(e)}}function Hv(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||Tu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Tv(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tv(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ea(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}_t||t.flags&512&&ph(t)}catch(p){Ye(t,t.return,p)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Vv(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Wv(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tu(4,t)}catch(l){Ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ye(t,s,l)}}var o=t.return;try{ph(t)}catch(l){Ye(t,o,l)}break;case 5:var i=t.return;try{ph(t)}catch(l){Ye(t,i,l)}}}catch(l){Ye(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var JR=Math.ceil,Wc=Or.ReactCurrentDispatcher,Hp=Or.ReactCurrentOwner,xn=Or.ReactCurrentBatchConfig,Ce=0,ft=null,tt=null,pt=0,Xt=0,Oo=ws(0),ot=0,Da=null,qs=0,Nu=0,Vp=0,la=null,$t=null,Wp=0,ri=1/0,xr=null,Kc=!1,yh=null,fs=null,Ml=!1,os=null,qc=0,ca=0,vh=null,uc=-1,dc=0;function jt(){return Ce&6?Je():uc!==-1?uc:uc=Je()}function hs(e){return e.mode&1?Ce&2&&pt!==0?pt&-pt:OR.transition!==null?(dc===0&&(dc=Ub()),dc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Yb(e.type)),e):1}function Ln(e,t,n,r){if(50<ca)throw ca=0,vh=null,Error(z(185));Qa(e,n,r),(!(Ce&2)||e!==ft)&&(e===ft&&(!(Ce&2)&&(Nu|=n),ot===4&&ns(e,pt)),Wt(e,r),n===1&&Ce===0&&!(t.mode&1)&&(ri=Je()+500,Cu&&bs()))}function Wt(e,t){var n=e.callbackNode;ON(e,t);var r=Ic(e,e===ft?pt:0);if(r===0)n!==null&&ev(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ev(n),t===1)e.tag===0?MR(Kv.bind(null,e)):p_(Kv.bind(null,e)),IR(function(){!(Ce&6)&&bs()}),n=null;else{switch(Hb(r)){case 1:n=yp;break;case 4:n=Bb;break;case 16:n=Rc;break;case 536870912:n=$b;break;default:n=Rc}n=fS(n,oS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oS(e,t){if(uc=-1,dc=0,Ce&6)throw Error(z(327));var n=e.callbackNode;if(Wo()&&e.callbackNode!==n)return null;var r=Ic(e,e===ft?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gc(e,r);else{t=r;var s=Ce;Ce|=2;var o=aS();(ft!==e||pt!==t)&&(xr=null,ri=Je()+500,$s(e,t));do try{tI();break}catch(a){iS(e,a)}while(!0);Ip(),Wc.current=o,Ce=s,tt!==null?t=0:(ft=null,pt=0,t=ot)}if(t!==0){if(t===2&&(s=Wf(e),s!==0&&(r=s,t=xh(e,s))),t===1)throw n=Da,$s(e,0),ns(e,r),Wt(e,Je()),n;if(t===6)ns(e,r);else{if(s=e.current.alternate,!(r&30)&&!ZR(s)&&(t=Gc(e,r),t===2&&(o=Wf(e),o!==0&&(r=o,t=xh(e,o))),t===1))throw n=Da,$s(e,0),ns(e,r),Wt(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Os(e,$t,xr);break;case 3:if(ns(e,r),(r&130023424)===r&&(t=Wp+500-Je(),10<t)){if(Ic(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zf(Os.bind(null,e,$t,xr),t);break}Os(e,$t,xr);break;case 4:if(ns(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-On(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JR(r/1960))-r,10<r){e.timeoutHandle=Zf(Os.bind(null,e,$t,xr),r);break}Os(e,$t,xr);break;case 5:Os(e,$t,xr);break;default:throw Error(z(329))}}}return Wt(e,Je()),e.callbackNode===n?oS.bind(null,e):null}function xh(e,t){var n=la;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Gc(e,t),e!==2&&(t=$t,$t=n,t!==null&&wh(t)),e}function wh(e){$t===null?$t=e:$t.push.apply($t,e)}function ZR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Fn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ns(e,t){for(t&=~Vp,t&=~Nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function Kv(e){if(Ce&6)throw Error(z(327));Wo();var t=Ic(e,0);if(!(t&1))return Wt(e,Je()),null;var n=Gc(e,t);if(e.tag!==0&&n===2){var r=Wf(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=Da,$s(e,0),ns(e,t),Wt(e,Je()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e,$t,xr),Wt(e,Je()),null}function Kp(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(ri=Je()+500,Cu&&bs())}}function Gs(e){os!==null&&os.tag===0&&!(Ce&6)&&Wo();var t=Ce;Ce|=1;var n=xn.transition,r=Ae;try{if(xn.transition=null,Ae=1,e)return e()}finally{Ae=r,xn.transition=n,Ce=t,!(Ce&6)&&bs()}}function qp(){Xt=Oo.current,Be(Oo)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,RR(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Tp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oc();break;case 3:ti(),Be(Ht),Be(Ct),Lp();break;case 5:Op(r);break;case 4:ti();break;case 13:Be(We);break;case 19:Be(We);break;case 10:Pp(r.type._context);break;case 22:case 23:qp()}n=n.return}if(ft=e,tt=e=ps(e.current,null),pt=Xt=t,ot=0,Da=null,Vp=Nu=qs=0,$t=la=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}zs=null}return e}function iS(e,t){do{var n=tt;try{if(Ip(),ac.current=Vc,Hc){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hc=!1}if(Ks=0,dt=st=Ke=null,ia=!1,Ma=0,Hp.current=null,n===null||n.return===null){ot=1,Da=t,tt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jv(i);if(m!==null){m.flags&=-257,Mv(m,i,a,o,t),m.mode&1&&Av(o,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Av(o,u,t),Gp();break e}l=Error(z(426))}}else if(Ue&&a.mode&1){var b=jv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mv(b,i,a,o,t),Np(ni(l,a));break e}}o=l=ni(l,a),ot!==4&&(ot=2),la===null?la=[o]:la.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=H_(o,l,t);Ev(o,g);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fs===null||!fs.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=V_(o,a,t);Ev(o,C);break e}}o=o.return}while(o!==null)}cS(n)}catch(N){t=N,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function aS(){var e=Wc.current;return Wc.current=Vc,e===null?Vc:e}function Gp(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(qs&268435455)&&!(Nu&268435455)||ns(ft,pt)}function Gc(e,t){var n=Ce;Ce|=2;var r=aS();(ft!==e||pt!==t)&&(xr=null,$s(e,t));do try{eI();break}catch(s){iS(e,s)}while(!0);if(Ip(),Ce=n,Wc.current=r,tt!==null)throw Error(z(261));return ft=null,pt=0,ot}function eI(){for(;tt!==null;)lS(tt)}function tI(){for(;tt!==null&&!EN();)lS(tt)}function lS(e){var t=dS(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?cS(e):tt=t,Hp.current=null}function cS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GR(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,tt=null;return}}else if(n=qR(n,t,Xt),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);ot===0&&(ot=5)}function Os(e,t,n){var r=Ae,s=xn.transition;try{xn.transition=null,Ae=1,nI(e,t,n,r)}finally{xn.transition=s,Ae=r}return null}function nI(e,t,n,r){do Wo();while(os!==null);if(Ce&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(LN(e,o),e===ft&&(tt=ft=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ml||(Ml=!0,fS(Rc,function(){return Wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xn.transition,xn.transition=null;var i=Ae;Ae=1;var a=Ce;Ce|=4,Hp.current=null,XR(e,n),rS(n,e),_R(Qf),Pc=!!Xf,Qf=Xf=null,e.current=n,QR(n),TN(),Ce=a,Ae=i,xn.transition=o}else e.current=n;if(Ml&&(Ml=!1,os=e,qc=s),o=e.pendingLanes,o===0&&(fs=null),IN(n.stateNode),Wt(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kc)throw Kc=!1,e=yh,yh=null,e;return qc&1&&e.tag!==0&&Wo(),o=e.pendingLanes,o&1?e===vh?ca++:(ca=0,vh=e):ca=0,bs(),null}function Wo(){if(os!==null){var e=Hb(qc),t=xn.transition,n=Ae;try{if(xn.transition=null,Ae=16>e?16:e,os===null)var r=!1;else{if(e=os,os=null,qc=0,Ce&6)throw Error(z(331));var s=Ce;for(Ce|=4,X=e.current;X!==null;){var o=X,i=o.child;if(X.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:aa(8,d,o)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var p=d.sibling,m=d.return;if(eS(d),d===u){X=null;break}if(p!==null){p.return=m,X=p;break}X=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}X=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,X=i;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:aa(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,X=g;break e}X=o.return}}var v=e.current;for(X=v;X!==null;){i=X;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,X=x;else e:for(i=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tu(9,a)}}catch(N){Ye(a,a.return,N)}if(a===i){X=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,X=C;break e}X=a.return}}if(Ce=s,bs(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(xu,e)}catch{}r=!0}return r}finally{Ae=n,xn.transition=t}}return!1}function qv(e,t,n){t=ni(n,t),t=H_(e,t,1),e=ds(e,t,1),t=jt(),e!==null&&(Qa(e,1,t),Wt(e,t))}function Ye(e,t,n){if(e.tag===3)qv(e,e,n);else for(;t!==null;){if(t.tag===3){qv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){e=ni(n,e),e=V_(t,e,1),t=ds(t,e,1),e=jt(),t!==null&&(Qa(t,1,e),Wt(t,e));break}}t=t.return}}function rI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(pt&n)===n&&(ot===4||ot===3&&(pt&130023424)===pt&&500>Je()-Wp?$s(e,0):Vp|=n),Wt(e,t)}function uS(e,t){t===0&&(e.mode&1?(t=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):t=1);var n=jt();e=Rr(e,t),e!==null&&(Qa(e,t,n),Wt(e,n))}function sI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uS(e,n)}function oI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),uS(e,n)}var dS;dS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,KR(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,Ue&&t.flags&1048576&&m_(t,Fc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cc(e,t),e=t.pendingProps;var s=Jo(t,Ct.current);Vo(t,n),s=Fp(null,t,r,e,s,n);var o=zp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(r)?(o=!0,Lc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jp(t),s.updater=Eu,t.stateNode=s,s._reactInternals=t,ih(t,r,e,n),t=ch(null,t,r,!0,o,n)):(t.tag=0,Ue&&o&&Ep(t),At(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=aI(r),e=Pn(r,e),s){case 0:t=lh(null,t,r,e,n);break e;case 1:t=Dv(null,t,r,e,n);break e;case 11:t=Ov(null,t,r,e,n);break e;case 14:t=Lv(null,t,r,Pn(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pn(r,s),lh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pn(r,s),Dv(e,t,r,s,n);case 3:e:{if(G_(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,s=o.element,b_(e,t),$c(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ni(Error(z(423)),t),t=Fv(e,t,r,n,s);break e}else if(r!==s){s=ni(Error(z(424)),t),t=Fv(e,t,r,n,s);break e}else for(Zt=us(t.stateNode.containerInfo.firstChild),tn=t,Ue=!0,jn=null,n=x_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),r===s){t=Ir(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return __(t),e===null&&rh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Jf(r,s)?i=null:o!==null&&Jf(r,o)&&(t.flags|=32),q_(e,t),At(e,t,i,n),t.child;case 6:return e===null&&rh(t),null;case 13:return Y_(e,t,n);case 4:return Mp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pn(r,s),Ov(e,t,r,s,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,De(zc,r._currentValue),r._currentValue=i,o!==null)if(Fn(o.value,i)){if(o.children===s.children&&!Ht.current){t=Ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),sh(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}At(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vo(t,n),s=bn(s),r=r(s),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,s=Pn(r,t.pendingProps),s=Pn(r.type,s),Lv(e,t,r,s,n);case 15:return W_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Pn(r,s),cc(e,t),t.tag=1,Vt(r)?(e=!0,Lc(t)):e=!1,Vo(t,n),U_(t,r,s),ih(t,r,s,n),ch(null,t,r,!0,e,n);case 19:return X_(e,t,n);case 22:return K_(e,t,n)}throw Error(z(156,t.tag))};function fS(e,t){return zb(e,t)}function iI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new iI(e,t,n,r)}function Yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aI(e){if(typeof e=="function")return Yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===mp)return 14}return 2}function ps(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Yp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ko:return Us(n.children,s,o,t);case hp:i=8,s|=8;break;case If:return e=vn(12,n,t,s|2),e.elementType=If,e.lanes=o,e;case Pf:return e=vn(13,n,t,s),e.elementType=Pf,e.lanes=o,e;case Af:return e=vn(19,n,t,s),e.elementType=Af,e.lanes=o,e;case _b:return Ru(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wb:i=10;break e;case bb:i=9;break e;case pp:i=11;break e;case mp:i=14;break e;case Qr:i=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=vn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Us(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function Ru(e,t,n,r){return e=vn(22,e,r,t),e.elementType=_b,e.lanes=n,e.stateNode={isHidden:!1},e}function Kd(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function qd(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lI(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xp(e,t,n,r,s,o,i,a,l){return e=new lI(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jp(o),e}function cI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Co,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hS(e){if(!e)return gs;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(Vt(n))return h_(e,n,t)}return t}function pS(e,t,n,r,s,o,i,a,l){return e=Xp(n,r,!0,e,s,o,i,a,l),e.context=hS(null),n=e.current,r=jt(),s=hs(n),o=kr(r,s),o.callback=t??null,ds(n,o,s),e.current.lanes=s,Qa(e,s,r),Wt(e,r),e}function Iu(e,t,n,r){var s=t.current,o=jt(),i=hs(s);return n=hS(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ds(s,t,i),e!==null&&(Ln(e,s,i,o),ic(e,s,i)),i}function Yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qp(e,t){Gv(e,t),(e=e.alternate)&&Gv(e,t)}function uI(){return null}var mS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}Pu.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Iu(e,t,null,null)};Pu.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gs(function(){Iu(null,e,null,null)}),t[Nr]=null}};function Pu(e){this._internalRoot=e}Pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ts.length&&t!==0&&t<ts[n].priority;n++);ts.splice(n,0,e),n===0&&Gb(e)}};function Zp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yv(){}function dI(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Yc(i);o.call(u)}}var i=pS(t,r,e,0,null,!1,!1,"",Yv);return e._reactRootContainer=i,e[Nr]=i.current,Ra(e.nodeType===8?e.parentNode:e),Gs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Yc(l);a.call(u)}}var l=Xp(e,0,!1,null,null,!1,!1,"",Yv);return e._reactRootContainer=l,e[Nr]=l.current,Ra(e.nodeType===8?e.parentNode:e),Gs(function(){Iu(t,l,n,r)}),l}function ju(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Yc(i);a.call(l)}}Iu(t,i,e,s)}else i=dI(n,t,e,s,r);return Yc(i)}Vb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ji(t.pendingLanes);n!==0&&(vp(t,n|1),Wt(t,Je()),!(Ce&6)&&(ri=Je()+500,bs()))}break;case 13:Gs(function(){var r=Rr(e,1);if(r!==null){var s=jt();Ln(r,e,1,s)}}),Qp(e,1)}};xp=function(e){if(e.tag===13){var t=Rr(e,134217728);if(t!==null){var n=jt();Ln(t,e,134217728,n)}Qp(e,134217728)}};Wb=function(e){if(e.tag===13){var t=hs(e),n=Rr(e,t);if(n!==null){var r=jt();Ln(n,e,t,r)}Qp(e,t)}};Kb=function(){return Ae};qb=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Uf=function(e,t,n){switch(t){case"input":if(Of(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Su(r);if(!s)throw Error(z(90));Cb(r),Of(r,s)}}}break;case"textarea":Eb(e,n);break;case"select":t=n.value,t!=null&&Bo(e,!!n.multiple,t,!1)}};jb=Kp;Mb=Gs;var fI={usingClientEntryPoint:!1,Events:[Za,Ro,Su,Pb,Ab,Kp]},Vi={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hI={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Db(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{xu=Ol.inject(hI),or=Ol}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fI;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(t))throw Error(z(200));return cI(e,t,null,n)};sn.createRoot=function(e,t){if(!Zp(e))throw Error(z(299));var n=!1,r="",s=mS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xp(e,1,!1,null,null,n,!1,r,s),e[Nr]=t.current,Ra(e.nodeType===8?e.parentNode:e),new Jp(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Db(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return Gs(e)};sn.hydrate=function(e,t,n){if(!Au(t))throw Error(z(200));return ju(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!Zp(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=mS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=pS(t,null,e,1,n??null,s,!1,o,i),e[Nr]=t.current,Ra(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pu(t)};sn.render=function(e,t,n){if(!Au(t))throw Error(z(200));return ju(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!Au(e))throw Error(z(40));return e._reactRootContainer?(Gs(function(){ju(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};sn.unstable_batchedUpdates=Kp;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Au(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return ju(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(e){console.error(e)}}gS(),gb.exports=sn;var gi=gb.exports;const pI=fi(gi);var yS,Xv=gi;yS=Xv.createRoot,Xv.hydrateRoot;function mI(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function gI(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let ua=null;function yI(e,t){e.currentIndex=0;const n=ua;ua=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{ua=n}}function em(){if(!ua)throw new Error("No resource fiber available");return ua}function vI(e){return null}function vS(e,t){const n=e[xS];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const xS=Symbol("fnSymbol");function Fa(e,t,n=vI()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Ko(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,gI(e)}function Hs(e,t){const n={commitTasks:[],props:t,output:void 0};return yI(e,()=>{e.renderContext=n;try{n.output=vS(e.type,t)}finally{e.renderContext=void 0}}),n}function za(e,t){e.isMounted=!0,e.isNeverMounted=!1,mI(t)}const xI=()=>null,wI=(e,t)=>e+(t()?1:0);function bI(e){const[,t]=f.useReducer(wI,0),n=xI(),r=f.useMemo(()=>Fa(e.type,t,n),[e.type,e.key]),s=Hs(r,e.props);return f.useLayoutEffect(()=>()=>Ko(r),[r]),f.useLayoutEffect(()=>{za(r,s)}),s.output}function je(e){const t=n=>({type:t,props:n});return t[xS]=e,t}function Pr(e,t){return{...t,key:e}}const _I=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function SI(e){const t=em(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{_I(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function zn(e){const t=SI(e);return[t.value,t.set]}const wS=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},CI=(e,t)=>{const n=em(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},kI=e=>{em().renderContext.commitTasks.push(e)},EI=()=>({type:"effect",cleanup:void 0,deps:null});function gt(e,t){const n=CI("effect",EI);if(!(t&&n.deps&&wS(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");kI(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function is(e){const[t]=zn(()=>({current:e}));return t}function si(e,t){const[n]=zn(e);return n}const ke=(e,t)=>{const n=is();return n.current||(n.current={value:e(),deps:t}),wS(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},bS=(e,t)=>ke(()=>e,t);function tm(e){const t=is(e);return gt(()=>{t.current=e}),t.current}function _S(e,t){const[n,r]=zn(0),s=si(()=>()=>r(a=>a+1)),o=ke(()=>(e.key,Fa(e.type,a=>{a()&&s()})),[e.type,e.key]),i=Hs(o,e.props);return gt(()=>()=>Ko(o),[o]),gt(()=>{za(o,i)},[o,i]),i.output}function ur(e){return vS(e.type,e.props)}function nm(e,t){const[n,r]=zn(0),s=si(()=>()=>r(l=>l+1)),o=si(()=>new Map),i=t?bS(e,t):e,a=ke(()=>{const l=i(),u=new Set,d=[];let h=0;for(let p=0;p<l.length;p++){const m=l[p],w=m.key;if(w===void 0)throw new Error(`tapResources did not provide a key for array at index ${p}`);if(u.has(w))throw new Error(`Duplicate key ${w} in tapResources`);u.add(w);let y=o.get(w);if(y)if(y.fiber.type!==m.type){const b=Fa(m.type,v=>{v()&&s()}),g=Hs(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=Hs(y.fiber,m.props),d.push(y.next.output);else{const b=Fa(m.type,v=>{v()&&s()}),g=Hs(b,m.props);y={fiber:b,next:g},h++,o.set(w,y),d.push(g.output)}}if(o.size>d.length-h)for(const p of o.keys())u.has(p)||(o.get(p).next="delete");return d},[i,n]);return gt(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;Ko(u)}},[]),gt(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&Ko(u.fiber),o.delete(l)):Array.isArray(u.next)?(Ko(u.fiber),u.fiber=u.next[0],za(u.fiber,u.next[1])):za(u.fiber,u.next)},[a]),a}const TI=50;let rr={schedulers:new Set([]),isScheduled:!1};class NI{constructor(t){P(this,"_task");P(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,rr.schedulers.add(this),RI()}runTask(){this._isDirty=!1,this._task()}}const RI=()=>{rr.isScheduled||(rr.isScheduled=!0,queueMicrotask(SS))},SS=()=>{try{const e=[];let t=0;for(const n of rr.schedulers)if(rr.schedulers.delete(n),!!n.isDirty){if(t++,t>TI)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{rr.schedulers.clear(),rr.isScheduled=!1}},CS=e=>{const t=rr;rr={schedulers:new Set([]),isScheduled:!0};try{const n=e();return SS(),n}finally{rr=t}},II=e=>{const t=si(()=>new NI(()=>{r.current=null,l()})),n=ke(()=>(e.key,Fa(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=is(null);r.current=Hs(n,e.props);const s=is(!1),o=is(e.props),i=is(r.current.output),a=si(()=>new Set),l=tm(()=>{s.current&&(r.current===null&&(r.current=Hs(n,o.current)),!t.isDirty&&(o.current=r.current.props,za(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return gt(()=>(s.current=!0,()=>{s.current=!1,Ko(n)}),[n]),gt(()=>{CS(l)}),ke(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},da=Symbol("tap.Context"),kS=e=>({[da]:e}),ES=(e,t,n)=>{const r=e[da];e[da]=t;try{return n()}finally{e[da]=r}},TS=e=>e[da],bh=Symbol("assistant-ui.store.clientIndex"),PI=e=>e[bh],NS=kS([]),rm=()=>TS(NS),AI=(e,t)=>{const n=rm(),r=ke(()=>[...n,e],[n,e]);return ES(NS,r,t)},jI=new Set(["$$typeof","nodeType","then"]),Mu=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!jI.has(e))return!1}};class sm{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const RS=e=>{const t=je(e);return n=>{const r=t(n);return n.key===void 0?r:Pr(n.key,r)}},Xc=Symbol("assistant-ui.store.getValue"),MI=e=>{const t=e[Xc];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},Qv=new Map;function OI(e){let t=Qv.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Xc];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},Qv.set(e,t)),t}class LI extends sm{constructor(n,r){super();P(this,"outputRef");P(this,"index");P(this,"boundFns");P(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Xc)return this.outputRef.current;if(r===bh)return this.index;const o=Mu(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=OI(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Xc||r===bh?!0:r in this.outputRef.current.methods}}const IS=RS(e=>{const t=is(null),n=rm().length,r=ke(()=>new Proxy({},new LI(t,n)),[n]),s=AI(r,()=>_S(e));return t.current||(t.current=s),gt(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),Ou=e=>ur(IS(e)),fa=Symbol("assistant-ui.store.proxiedAssistantState"),Gd=e=>e==="on"||e==="subscribe"||typeof e=="symbol",PS=e=>{class t extends sm{get(r,s){const o=Mu(s,"AssistantState");if(o!==!1)return o;const i=s;if(!Gd(i))return MI(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!Gd(r))}has(r,s){return!Gd(s)&&s in e}}return new Proxy({},new t)},DI=e=>e[fa],Jv=()=>()=>{},AS=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class FI extends sm{get(t,n){if(n==="subscribe"||n==="on")return Jv;if(n===fa)return zI;const r=Mu(n,"DefaultAssistantClient");return r!==!1?r:AS("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",fa]}has(t,n){return n==="subscribe"||n==="on"||n===fa}}const Lu=new Proxy({},new FI),zI=PS(Lu),BI=()=>new Proxy({},{get(e,t){const n=Mu(t,"AssistantClient");return n!==!1?n:AS(`The current scope does not have a "${String(t)}" property.`)}}),jS=f.createContext(Lu),$I=()=>f.useContext(jS),_s=({value:e,children:t})=>c.jsx(jS.Provider,{value:e,children:t}),Dn=je(e=>null),_h=Symbol("assistant-ui.default-peers");function MS(e,t){const n=e,r=n[_h]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[_h]={...r,...t}}function UI(e){return e[_h]}function HI(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===Dn?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=UI(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==Dn){const h=s(d,i);l.push(...h)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===Dn?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const Zv=e=>ke(()=>e,[...Object.entries(e).flat()]),VI=(e,t)=>{const{rootClients:n,derivedClients:r}=HI(e,t);return{rootClients:Zv(n),derivedClients:Zv(r)}},OS=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},WI=je(()=>si(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),LS=kS(null),KI=(e,t)=>ES(LS,e,t),DS=()=>{const e=TS(LS);if(!e)throw new Error("AssistantTapContext is not available");return e},FS=()=>DS().clientRef,om=()=>{const{emit:e}=DS(),t=rm();return tm((n,r)=>{e(n,r,t)})},zS=e=>ke(()=>e,e),qI=je(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=KI({clientRef:n,emit:t},()=>Ou(e));return ke(()=>({state:s,methods:r}),[r,s])}),GI=je(({element:e,notifications:t,clientRef:n,name:r})=>{const s=II(qI({element:e,emit:t.emit,clientRef:n}));return gt(()=>s.subscribe(t.notifySubscribers),[s,t]),ke(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),YI=je(()=>ke(()=>({clients:[],subscribe:void 0,on:void 0}),[])),XI=je(({clients:e,clientRef:t})=>{const n=ur(WI());gt(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=zS(nm(()=>Object.keys(e).map(s=>Pr(s,GI({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return ke(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=OS(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,h)=>{if(i==="*"){o(d);return}const p=this[i](),m=PI(p);p===h[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),ex=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},QI=je(({element:e,clientRef:t,name:n})=>{const r=tm(()=>e.props);return ke(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>ex(r(),t,o).source},query:{get:()=>ex(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),JI=je(({clients:e,clientRef:t})=>zS(nm(()=>Object.keys(e).map(n=>Pr(n,QI({element:e[n],clientRef:t,name:n}))),[e,t]))),ZI=je(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=VI(t,e),s=is({parent:e,current:null}).current;gt(()=>{s.current=a});const o=_S(Object.keys(n).length>0?XI({clients:n,clientRef:s}):YI()),i=ur(JI({clients:r,clientRef:s})),a=ke(()=>{const l=e===Lu?BI():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[fa]:PS(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function xe(e,{parent:t}={parent:$I()}){if(e)return bI(ZI({parent:t??Lu,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const oe=e=>{const t=xe(),n=DI(t),r=f.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return f.useDebugValue(r),r},eP=Se.createContext(!0);function tx(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const tP="use"in Se?()=>{try{return Se.use(eP)}catch{return!1}}:()=>!1;function nP(e){const t=Se.useRef(tx);return Se.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{tP()&&tx();const r=t.current;return r(...n)}}const Yd=(e,t)=>{const n=xe(),r=nP(t),{scope:s,event:o}=OS(e);f.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},rP=RS(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return ur(IS(e))});function oi(e,t){const n=nm(()=>e().map(i=>rP(i)),t),r=ke(()=>Object.keys(n),[n]),s=ke(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:ke(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const sP=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class im{constructor(){P(this,"_providers",new Set);P(this,"_subscribers",new Set)}getModelContext(){return sP(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class am{constructor(){P(this,"_contextProvider",new im)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class tl{constructor(){P(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const oP=e=>e.status.type==="complete";class BS extends tl{constructor(){super(...arguments);P(this,"isEditing",!0);P(this,"_attachments",[]);P(this,"_text","");P(this,"_role","user");P(this,"_runConfig",{});P(this,"_dictation");P(this,"_dictationSession");P(this,"_dictationUnsubscribes",[]);P(this,"_dictationBaseText","");P(this,"_currentInterimText","");P(this,"_dictationSessionIdCounter",0);P(this,"_activeDictationSessionId");P(this,"_isCleaningDictation",!1);P(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>oP(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const h of this._dictationUnsubscribes)h();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const h=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(h){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:w,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class $S extends BS{constructor(n){super();P(this,"runtime");P(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let iP=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Ys=iP("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),aP="__optimistic__",lP=()=>`${aP}${Ys()}`,Du=Symbol("autoStatus"),cP=Object.freeze(Object.assign({type:"running"},{[Du]:!0})),uP=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Du]:!0})),dP=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Du]:!0})),fP=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Du]:!0})),US=(e,t,n,r,s)=>e&&t?cP:n?fP:r?dP:uP;var yi={exports:{}};const hP=typeof Buffer<"u",nx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,rx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function HS(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),hP&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(nx.test(e)===!1&&rx.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(nx.test(e)===!1)return r}else if(rx.test(e)===!1)return r;return VS(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function VS(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function lm(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return HS(e,t,n)}finally{Error.stackTraceLimit=r}}function pP(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return HS(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}yi.exports=lm;yi.exports.default=lm;yi.exports.parse=lm;yi.exports.safeParse=pP;yi.exports.scan=VS;var mP=yi.exports;const sx=fi(mP);function gP(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(h,p,m){switch(h){case'"':{n=p,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=p,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=p,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop(),o=s.pop();break}}}function u(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}}}for(let h=0;h<e.length;h++){const p=e[h];switch(t[t.length-1]){case"ROOT":a(p,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=h,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=p;break}default:{o+=p;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(p,h);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=h,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h,o="0",a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=h:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=p);break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const w=e.substring(r,h+1);!"false".startsWith(w)&&!"true".startsWith(w)&&!"null".startsWith(w)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(p,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h)):n=h;break}}}let d=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const Xd=Symbol("aui.parse-partial-json-object.meta"),WS=e=>{if(e.length===0)return{[Xd]:{state:"partial",partialPath:[]}};try{const t=sx.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Xd]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=gP(e),r=sx.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Xd]={state:"partial",partialPath:n},r}catch{return}}},Sh={toResponse(e,t){return new Response(Sh.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return Sh.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},KS=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},yP=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=KS(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class ox{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const qS=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new ox(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new ox(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),ix=()=>{let e;return[qS({start(n){e=n}}),e]};class ax{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);P(this,"_mergeTask");P(this,"_argsTextController");this._controller=t;const n=qS({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const vP=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new ax(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new ax(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),xP=()=>{let e;return[vP({start(n){e=n}}),e]};class GS{constructor(){P(this,"value",-1)}up(){return++this.value}}class wP extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class $8 extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class bP extends TransformStream{constructor(t){const n=new GS,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class _P extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let SP=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const YS=SP("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class cm{constructor(t){P(this,"_state");P(this,"_parentId");this._state=t||{merger:yP(),contentCounter:new GS}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new wP(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new bP(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=ix();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=ix();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??YS(),[o,i]=xP();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new cm(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function CP(e){const t=new cm;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function kP(){const{resolve:e,promise:t}=KS();let n;return[CP(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class EP extends TransformStream{constructor(t,n,r){const[s,o]=kP();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const nl=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,h=({image:p,...m})=>p.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:p}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"reasoning":return p.text.trim().length===0?null:p;case"file":case"source":return p;case"image":return h(p);case"data":return p;case"tool-call":{const{parentId:w,messages:y,...b}=p,g={...b,toolCallId:p.toolCallId??`tool-${Ys()}`,...w!==void 0&&{parentId:w},...y!==void 0&&{messages:y}};return p.args?{...g,args:p.args,argsText:p.argsText??JSON.stringify(p.args)}:{...g,args:WS(p.argsText??"")??{},argsText:p.argsText??""}}default:{const w=m;throw new Error(`Unsupported assistant message part type: ${w}`)}}}).filter(p=>!!p),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"image":case"audio":case"file":return p;default:{const w=m;throw new Error(`Unsupported user message part type: ${w}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const p=r;throw new Error(`Unknown message role: ${p}`)}}},um={fromArray:e=>{const t=e.map(n=>nl(n,Ys(),US(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},hc=e=>e.next?hc(e.next):"current"in e?e:null;class TP{constructor(t){P(this,"func");P(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class XS{constructor(){P(this,"messages",new Map);P(this,"head",null);P(this,"root",{children:[],next:null});P(this,"_messages",new TP(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(hc(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=lP();while(this.messages.has(r));return this.addOrUpdateMessage(t,nl(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=hc(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=hc(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Fu{constructor(){P(this,"_subscriptions",new Set);P(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Bn=Symbol("skip-update");class dm extends Fu{constructor(n){super();P(this,"binding");P(this,"_previousStateDirty",!0);P(this,"_previousState");P(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Bn&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Ll{constructor(t,n){P(this,"_core");P(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function NP(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class Mn extends Fu{constructor(n){super();P(this,"binding");P(this,"_previousState");P(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Bn)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Bn||NP(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const Qc=Symbol("innerMessage"),Jc=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class QS{constructor(t){P(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class JS extends QS{constructor(n,r){super(n);P(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class RP extends JS{get source(){return"thread-composer"}}class IP extends JS{get source(){return"edit-composer"}}class PP extends QS{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class ZS extends Fu{constructor(n){super();P(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const eC=Object.freeze([]),tC=Object.freeze({}),AP=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??eC,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??tC,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),jP=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??eC,runConfig:(e==null?void 0:e.runConfig)??tC,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class nC{constructor(t){P(this,"_core");P(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new ZS({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class MP extends nC{constructor(n){const r=new dm({path:n.path,getState:()=>AP(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});P(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new RP(new Mn({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Bn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class OP extends nC{constructor(n,r){const s=new dm({path:n.path,getState:()=>jP(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});P(this,"_beginEdit");P(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new IP(new Mn({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Bn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class ha{constructor(t=null){P(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>ha.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return ha.updatePath(t,n.path,()=>n.value);case"append-text":return ha.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const LP=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),zu=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},DP=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},FP=(e,t)=>zu(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),zP=(e,t)=>zu(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),BP=(e,t)=>zu(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=WS(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),$P=(e,t)=>zu(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),lx=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=UP(t);return{...e,status:n}},UP=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},HP=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),VP=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),WP=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),KP=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:YS(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},qP=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),GP=(e,t)=>{const n=new ha(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},YP=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class XP extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??LP(),o;const i=n?YP(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=DP(s,a);break;case"tool-call-args-text-finish":s=FP(s,a);break;case"part-finish":s=zP(s,a);break;case"text-delta":s=BP(s,a);break;case"result":s=$P(s,a);break;case"message-finish":s=lx(s,a);break;case"annotations":s=HP(s,a);break;case"data":s=VP(s,a);break;case"step-start":s=WP(s,a);break;case"step-finish":s=KP(s,a);break;case"error":s=qP(s,a),r==null||r(a.error);break;case"update-state":s=GP(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(h=>h.type==="tool-call"&&(h.state==="call"||h.state==="partial-call")&&h.result===void 0))??!1;s=lx(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class QP extends _P{constructor(){super(t=>{const n=new EP({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class pa{constructor(t){P(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new pa(t.pipeThrough(new XP))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new pa(t),new pa(n)]}}const cx=Symbol.for("aui.tool-response");class Zc{constructor(t){P(this,"artifact");P(this,"result");P(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[cx](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&cx in t}static toResponse(t){return t instanceof Zc?t:new Zc({result:t===void 0?"<no result>":t})}}class ux{constructor(t,n,r){P(this,"contentBinding");P(this,"messageApi");P(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Zc.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class eu extends Fu{constructor(n){super();P(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Dl=Object.freeze({type:"complete"}),JP=(e,t,n)=>{if(e.role!=="assistant")return Dl;if(n.type==="tool-call")return n.result?Dl:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Dl:r?e.status:Dl},dx=(e,t)=>{const n=e.content[t];if(!n)return Bn;const r=JP(e,t,n);return Object.freeze({...n,[Qc]:n[Qc],status:r})};class ZP{constructor(t,n){P(this,"_core");P(this,"_threadBinding");P(this,"composer");P(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new OP(new eu({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return Jc(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new ux(new Mn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>dx(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new ux(new Mn({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Bn:dx(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new PP(new Mn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Bn},subscribe:n=>this._core.subscribe(n)}))}}const eA=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),tA=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),nA=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},rA=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class rC{constructor(t,n){P(this,"_threadBinding");P(this,"composer");P(this,"_eventSubscriptionSubjects",new Map);const r=new Mn({path:t.path,getState:()=>rA(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new MP(new eu({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(nA(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(tA(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(eA(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new ZP(new Mn({path:t,getState:()=>{var h;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Bn;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[Qc]:r[Qc],index:o,isLast:((h=i.at(-1))==null?void 0:h.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new ZS({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const sA=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),Fl=(e,t)=>{if(t===void 0)return Bn;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Bn};class sC{constructor(t,n=rC){P(this,"_core");P(this,"_runtimeFactory");P(this,"_getState");P(this,"_mainThreadListItemRuntime");P(this,"main");this._core=t,this._runtimeFactory=n;const r=new dm({path:{},getState:()=>sA(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Ll(new Mn({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>Fl(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new eu({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new eu({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Ll(new Mn({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>Fl(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Ll(new Mn({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>Fl(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Ll(new Mn({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>Fl(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const oA=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class iA{constructor(t){P(this,"cloud");P(this,"accept","*");P(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=oA(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const Ch=f.createContext(null),oC=({adapters:e,children:t})=>{const n=f.useContext(Ch);return c.jsx(Ch.Provider,{value:{...n,...e},children:t})},aA=()=>f.useContext(Ch);class lA extends BS{constructor(n,r,{parentId:s,message:o}){super();P(this,"runtime");P(this,"endEditCallback");P(this,"_nonTextParts");P(this,"_previousText");P(this,"_parentId");P(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=Jc(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){Jc(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class cA{constructor(t){P(this,"_contextProvider");P(this,"_subscriptions",new Set);P(this,"_isInitialized",!1);P(this,"repository",new XS);P(this,"composer",new $S(this));P(this,"_editComposers",new Map);P(this,"_stopSpeaking");P(this,"speech");P(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new lA(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(Jc(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(um.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class uA{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const fx=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class Qd extends Error{constructor(n,r){super(r);P(this,"name","AbortError");P(this,"detach");this.detach=n}}class dA extends cA{constructor(n,r){super(n);P(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});P(this,"abortController",null);P(this,"isDisabled",!1);P(this,"_isLoading",!1);P(this,"_suggestions",[]);P(this,"_suggestionsController",null);P(this,"_options");P(this,"_lastRunConfig",{});P(this,"_getThreadId");P(this,"_getInitializePromise");P(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,h;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((h=n.adapters)==null?void 0:h.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=nl(n,Ys(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:Ys(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(fx(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const h=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in h)for await(const p of h){if(a.aborted)break;this._suggestions=p,this._notifySubscribers()}else{const p=await h;if(a.aborted)return;this._suggestions=p,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,v,x,C,N,k,T;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,h=(x=r.metadata)==null?void 0:x.custom,p=I=>{var G,q,ee,A;const O=(G=I.metadata)==null?void 0:G.steps,j=O?[...d??[],...O]:void 0,L=(q=I.metadata)==null?void 0:q.unstable_annotations,D=(ee=I.metadata)==null?void 0:ee.unstable_data,K=L?[...l??[],...L]:void 0,R=D?[...u??[],...D]:void 0;r={...r,...I.content?{content:[...a,...I.content??[]]}:void 0,status:I.status??r.status,...I.metadata?{metadata:{...r.metadata,...I.metadata.unstable_state?{unstable_state:I.metadata.unstable_state}:void 0,...K?{unstable_annotations:K}:void 0,...R?{unstable_data:R}:void 0,...j?{steps:j}:void 0,...(A=I.metadata)!=null&&A.custom?{custom:{...h??{},...I.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((N=(C=r.metadata)==null?void 0:C.steps)==null?void 0:N.length)??0)>=m)return p({status:{type:"incomplete",reason:"tool-calls"}}),r;p({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const I=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const O=this.abortController.signal,j=(k=this._getThreadId)==null?void 0:k.call(this),L=o({messages:i,runConfig:this._lastRunConfig,abortSignal:O,context:I,config:I,unstable_assistantMessageId:r.id,unstable_threadId:j,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const D of L){if(O.aborted){p({status:{type:"incomplete",reason:"cancelled"}});break}p(D)}else p(await L);r.status.type==="running"&&p({status:{type:"complete",reason:"unknown"}})}catch(I){if(I instanceof Qd)p({status:{type:"incomplete",reason:"cancelled"}});else if(I instanceof Error&&I.name==="AbortError")p({status:{type:"incomplete",reason:"cancelled"}});else throw p({status:{type:"incomplete",reason:"error",error:I instanceof Error?I.message:`[${typeof I}] ${new String(I).toString()}`}}),I}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((T=this._options.adapters.history)==null?void 0:T.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new Qd(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new Qd(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,h=!1;const p=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(h=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!h)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:p},this.repository.addOrUpdateMessage(l,u),d&&fx(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const hx=Object.freeze([]),kh="__DEFAULT_ID__",fA=Object.freeze({[kh]:{id:kh,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class hA extends tl{constructor(n){super();P(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw hx}get archivedThreadIds(){throw hx}get mainThreadId(){return kh}get threadItems(){return fA}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class pA extends am{constructor(n,r){super();P(this,"threads");P(this,"Provider");P(this,"_options");this._options=n,this.threads=new hA(()=>new dA(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(um.fromArray(r))}}const px=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var Ka;class iC{constructor(t){P(this,"strategy","jwt");P(this,"cachedToken",null);P(this,"tokenExpiry",null);Oi(this,Ka);Li(this,Ka,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await Mi(this,Ka).call(this);return n?(this.cachedToken=n,this.tokenExpiry=px(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=px(s)}}Ka=new WeakMap;var qa,Ga,Ya;class mA{constructor(t,n,r){P(this,"strategy","api-key");Oi(this,qa);Oi(this,Ga);Oi(this,Ya);Li(this,qa,t),Li(this,Ga,n),Li(this,Ya,r)}async getAuthHeaders(){return{Authorization:`Bearer ${Mi(this,qa)}`,"Aui-User-Id":Mi(this,Ga),"Aui-Workspace-Id":Mi(this,Ya)}}readAuthHeaders(){}}qa=new WeakMap,Ga=new WeakMap,Ya=new WeakMap;const zl="aui:refresh_token";class gA{constructor(t){P(this,"strategy","anon");P(this,"baseUrl");P(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new iC(async()=>{const n=Date.now(),r=localStorage.getItem(zl),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const h=await d.json(),{access_token:p,refresh_token:m}=h;return m&&localStorage.setItem(zl,JSON.stringify(m)),p}}else localStorage.removeItem(zl);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(zl,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class yA extends Error{constructor(t){super(t),this.name="APIError"}}class vA{constructor(t){P(this,"_auth");P(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new iC(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new mA(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new gA(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new yA(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class xA{constructor(t){P(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class wA{constructor(t){P(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return Sh.fromResponse(n,new QP)}}class bA{constructor(t){P(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class _A{constructor(t){P(this,"cloud");P(this,"messages");this.cloud=t,this.messages=new bA(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class SA{constructor(t){P(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class CA{constructor(t){P(this,"threads");P(this,"auth");P(this,"runs");P(this,"files");const n=new vA(t);this.threads=new _A(n),this.auth={tokens:new xA(n)},this.runs=new wA(n),this.files=new SA(n)}}function Eh(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>Eh(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&Eh(r,t+1)):!1}const kA=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return Eh(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},EA=e=>{const t=e.content,n=nl({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Jd=new WeakMap;class TA{constructor(t,n){P(this,"parent");P(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class NA{constructor(t,n){P(this,"cloudRef");P(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Jd.has(this.aui.threadListItem())||Jd.set(this.aui.threadListItem(),{}),Jd.get(this.aui.threadListItem())}withFormat(t){return new TA(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:kA(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(EA).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const RA=e=>{const t=xe(),[n]=f.useState(()=>new NA(e,t));return n};var sb;const mx=typeof process<"u"&&((sb=process==null?void 0:process.env)==null?void 0:sb.NEXT_PUBLIC_ASSISTANT_BASE_URL),Zd=mx?new CA({baseUrl:mx,anonymous:!0}):void 0,IA=e=>{const t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);const n=f.useCallback(function({children:o}){const i=RA({get current(){return t.current.cloud??Zd}}),a=t.current.cloud??Zd,l=f.useMemo(()=>new iA(a),[a]),u=f.useMemo(()=>({history:i,attachments:l}),[i,l]);return c.jsx(oC,{adapters:u,children:o})},[]),r=e.cloud??Zd;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new uA},PA=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=aA()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=f.useState(()=>new pA(o,t)),a=f.useRef(void 0);return a.current=oe(({threadListItem:l})=>l.remoteId),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),f.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),f.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),f.useMemo(()=>new fm(i),[i])},AA=(e,{cloud:t,...n}={})=>{const r=IA({cloud:t});return wj({runtimeHook:function(){return PA(e,n)},adapter:r,allowNesting:!0})};class fm{constructor(t){P(this,"_core");P(this,"threads");P(this,"_thread");this._core=t,this.threads=new sC(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(um.fromArray(t??[]))}}function Xe(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const gx=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},jA=e=>e?gx(e):gx,MA=e=>e;function OA(e,t=MA){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const yx=e=>{const t=jA(e),n=r=>OA(t,r);return Object.assign(n,t),n},ii=e=>e?yx(e):yx;function aC(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const lC=f.createContext(null),LA=e=>({useSmoothStatus:ii(()=>e)}),DA=({children:e})=>{const t=cC({optional:!0}),n=xe(),[r]=f.useState(()=>LA(n.part().getState().status));return t?e:c.jsx(lC.Provider,{value:r,children:e})},FA=e=>{const t=f.forwardRef((n,r)=>c.jsx(DA,{children:c.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function cC(e){const t=f.useContext(lC);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:zA,useSmoothStatusStore:BA}=aC(cC,"useSmoothStatus"),Ba=e=>e;class $A{constructor(t,n){P(this,"currentText");P(this,"setText");P(this,"animationFrameId",null);P(this,"lastUpdateTime",Date.now());P(this,"targetText","");P(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const ef=Object.freeze({type:"running"}),uC=(e,t=!1)=>{const{text:n}=e,r=oe(({message:d})=>d.id),s=f.useRef(r),[o,i]=f.useState(n),a=BA({optional:!0}),l=Xe(d=>{if(i(d),a){const h=o!==d||e.status.type==="running"?ef:e.status;Ba(a).setState(h,!0)}});f.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?ef:e.status;Ba(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=f.useState(new $A(n,l));return f.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),f.useEffect(()=>()=>{u.stop()},[u]),f.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:ef}:e,[t,o,e,n])},hm=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:fm,BaseAssistantRuntimeCore:am,CompositeContextProvider:im,DefaultThreadComposerRuntimeCore:$S,MessageRepository:XS,ThreadRuntimeImpl:rC,fromThreadMessageLike:nl,generateId:Ys,getAutoStatus:US,useSmooth:uC,useSmoothStatus:zA,withSmoothContextProvider:FA},Symbol.toStringTag,{value:"Module"})),ro=e=>{const[,t]=zn(e.getState);return gt(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},dC=je(({runtime:e})=>{const t=ro(e),n=om();return gt(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),fC=je(({runtime:e})=>{const t=ro(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),UA=je(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return ur(fC({runtime:n}))}),hC=je(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=ro(n),s=om();gt(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=oi(()=>r.attachments.map((a,l)=>Pr(a.id,UA({runtime:n,index:l}))),[r.attachments,n]),i=ke(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),HA=je(({runtime:e})=>{const t=ro(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),VA=je(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return ur(fC({runtime:n}))}),WA=je(({runtime:e,index:t})=>{const n=ke(()=>e.getMessagePartByIndex(t),[e,t]);return ur(HA({runtime:n}))}),KA=je(({runtime:e,threadIdRef:t})=>{const n=ro(e),[r,s]=zn(!1),[o,i]=zn(!1),a=ke(()=>({get current(){return e.getState().id}}),[e]),l=Ou(hC({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=oi(()=>n.content.map((p,m)=>Pr("toolCallId"in p&&p.toolCallId!=null?`toolCallId-${p.toolCallId}`:`index-${m}`,WA({runtime:e,index:m}))),[n.content,e]),d=oi(()=>(n.attachments??[]).map((p,m)=>Pr(p.id,VA({runtime:e,index:m}))),[n.attachments,e]),h=ke(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:h,methods:{getState:()=>h,composer:l.methods,reload:p=>e.reload(p),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:p=>e.submitFeedback(p),switchToBranch:p=>e.switchToBranch(p),getCopyText:()=>e.unstable_getCopyText(),part:p=>"index"in p?u.get({index:p.index}):u.get({key:`toolCallId-${p.toolCallId}`}),attachment:p=>"id"in p?d.get({key:p.id}):d.get(p),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),qA=je(({runtime:e,id:t,threadIdRef:n})=>{const r=ke(()=>e.getMessageById(t),[e,t]);return ur(KA({runtime:r,threadIdRef:n}))}),GA=je(({runtime:e})=>{const t=ro(e),n=om();gt(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var p;const h=((p=e.getState())==null?void 0:p.threadId)||"unknown";n(`thread.${u}`,{threadId:h})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=ke(()=>({get current(){return e.getState().threadId}}),[e]),s=Ou(hC({runtime:e.composer,threadIdRef:r})),o=oi(()=>t.messages.map(a=>Pr(a.id,qA({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=ke(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),YA=je(({runtime:e,id:t})=>{const n=ke(()=>e.getItemById(t),[e,t]);return ur(dC({runtime:n}))}),XA=je(({runtime:e,__internal_assistantRuntime:t})=>{const n=ro(e),r=Ou(GA({runtime:e.main})),s=oi(()=>Object.keys(n.threadItems).map(i=>Pr(i,YA({runtime:e,id:i}))),[n.threadItems,e]),o=ke(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),QA=1,pC=je(()=>{const[e]=zn(()=>({version:QA+1})),t=ke(()=>new im,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bu(...e){return t=>{let n=!1;const r=e.map(s=>{const o=vx(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():vx(e[s],null)}}}}function we(...e){return f.useCallback(Bu(...e),e)}const mC=je(({toolkit:e})=>{const[t,n]=zn(()=>({tools:{}})),r=FS(),s=bS((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return gt(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:h,...p}=d;return l[u]=p,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});MS(mC,{modelContext:pC()});const JA=je(e=>({state:e,methods:{getState:()=>e}})),ZA=je(e=>{const[t]=zn(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=oi(()=>t.suggestions.map((r,s)=>Pr(s,JA(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),ej=ZA,gC=je(e=>{const t=FS();return gt(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),ur(XA({runtime:e.threads,__internal_assistantRuntime:e}))});MS(gC,{modelContext:pC(),tools:mC({}),suggestions:ej(),threadListItem:Dn({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:Dn({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:Dn({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const tf=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},tj=(e={})=>{const t=new Set,n=tf(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=tf(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=tf(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=ii(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function nj(e,t){function n(r){const s=f.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const yC=f.createContext(null),rj=nj(yC,"ThreadPrimitive.Viewport"),{useThreadViewport:$a,useThreadViewportStore:$u}=aC(rj,"useThreadViewport"),sj=e=>{const t=$u({optional:!0}),[n]=f.useState(()=>tj(e));return f.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),f.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&Ba(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),f.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&Ba(n).setState(r)},[n,e.turnAnchor]),n},vC=({children:e,options:t={}})=>{const n=sj(t),[r]=f.useState(()=>({useThreadViewport:n}));return c.jsx(yC.Provider,{value:r,children:e})},oj=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},ij=({children:e,aui:t=null,runtime:n})=>{const r=xe({threads:gC(n)},{parent:t});f.useEffect(()=>{},[r]);const s=oj(n);return c.jsxs(_s,{value:r,children:[s&&c.jsx(s,{}),c.jsx(vC,{children:e})]})},xC=f.memo(ij),aj=({runtime:e,children:t})=>{const n=xe({threadListItem:dC({runtime:e})});return c.jsx(_s,{value:n,children:t})},lj=({index:e,children:t})=>{const n=xe({message:Dn({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:Dn({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return c.jsx(_s,{value:n,children:t})},cj=({index:e,children:t})=>{const n=xe({part:Dn({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return c.jsx(_s,{value:n,children:t})},uj=({index:e,children:t})=>{const n=xe({attachment:Dn({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return c.jsx(_s,{value:n,children:t})},dj=({index:e,children:t})=>{const n=xe({attachment:Dn({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return c.jsx(_s,{value:n,children:t})},fj=je(({text:e,isRunning:t})=>{const n=ke(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),hj=({text:e,isRunning:t=!1,children:n})=>{const r=xe({part:fj({text:e,isRunning:t})});return c.jsx(_s,{value:r,children:n})};class pj extends tl{constructor(n,r){super();P(this,"useRuntimeHook");P(this,"instances",new Map);P(this,"useAliveThreadsKeysChanged",ii(()=>({})));P(this,"parent");P(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=f.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=f.useRef(!1);a.current||i(),f.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=xe(),u=f.useRef(void 0);return f.useEffect(()=>{const d=o.getState(),h=d.__internal_setGetInitializePromise;typeof h=="function"&&h.call(d,()=>u.current)},[o]),f.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const h=s.thread.unstable_on("runEnd",()=>{h(),l.threadListItem().generateTitle()})}}),[s,l]),null});P(this,"_OuterActiveThreadProvider",f.memo(({threadId:n,provider:r})=>{const s=f.useMemo(()=>new sC(this.parent).getItemById(n),[n]);return c.jsx(aj,{runtime:s,children:c.jsx(r,{children:c.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));P(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>c.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=ii(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const Ve=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),mj={getMessageById(){},getBranches(){return[]},switchToBranch(){throw Ve},append(){throw Ve},startRun(){throw Ve},resumeRun(){throw Ve},cancelRun(){throw Ve},addToolResult(){throw Ve},resumeToolCall(){throw Ve},speak(){throw Ve},stopSpeaking(){throw Ve},submitFeedback(){throw Ve},getModelContext(){return{}},exportExternalState(){throw Ve},importExternalState(){throw Ve},unstable_loadExternalState(){throw Ve},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw Ve},async removeAttachment(){throw Ve},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw Ve},role:"user",setRole(){throw Ve},runConfig:{},setRunConfig(){throw Ve},async reset(){},async clearAttachments(){},send(){throw Ve},cancel(){},dictation:void 0,startDictation(){throw Ve},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw Ve},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw Ve},export(){return{messages:[]}},reset(){throw Ve},unstable_on(){return()=>{}}},xx=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class gj extends tl{constructor(n){super();P(this,"_pendingTransforms",[]);P(this,"_baseValue");P(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>xx(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=xx(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const pc=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},Bl=(e,t,n)=>{const r=pc(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class yj extends tl{constructor(n,r){super();P(this,"contextProvider");P(this,"_options");P(this,"_hookManager");P(this,"_loadThreadsPromise");P(this,"_mainThreadId");P(this,"_state",new gj({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));P(this,"useProvider");P(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>Bl(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=pc(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});P(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=pa.fromAssistantStream(a);for await(const d of l){const h=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[r.id]:{...r,title:h}}})}});P(this,"useBoundIds",ii(()=>[]));P(this,"__internal_RenderComponent",()=>{const n=f.useId();f.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&c.jsx(oC,{adapters:o,children:c.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new pj(n.runtimeHook,this),this.useProvider=ii(()=>({Provider:n.adapter.unstable_Provider??f.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??f.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||mj}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return pc(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,h=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:h,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Ys()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=pc(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>Bl(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>Bl(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>Bl(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class vj extends am{constructor(n){super();P(this,"threads");this.threads=new yj(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const xj=e=>{const[t]=f.useState(()=>new vj(e));return f.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),f.useMemo(()=>new fm(t),[t])},wj=e=>{if(xe().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return xj(e)},bj=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function _j(e,t=Sj){bj(e);const n=f.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return f.useDebugValue(n),n}const Sj=e=>e;function pm(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?_j(o,s):null}return t}function Cj(e){var r,s;return((s=(r=xe().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function kj(e){const t=xe(),n=oe(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const tu=pm(kj);function Ej(e){const t=xe(),n=oe(()=>{var r,s;return t.message.source?((s=(r=t.message()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("MessageRuntime is not available");return n}const Th=pm(Ej);function Tj(e){const t=xe(),n=oe(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const Hn=pm(Tj);var Nj=Symbol.for("react.lazy"),nu=cp[" use ".trim().toString()];function Rj(e){return typeof e=="object"&&e!==null&&"then"in e}function wC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Nj&&"_payload"in e&&Rj(e._payload)}function bC(e){const t=Ij(e),n=f.forwardRef((r,s)=>{let{children:o,...i}=r;wC(o)&&typeof nu=="function"&&(o=nu(o._payload));const a=f.Children.toArray(o),l=a.find(Aj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var _C=bC("Slot");function Ij(e){const t=f.forwardRef((n,r)=>{let{children:s,...o}=n;if(wC(s)&&typeof nu=="function"&&(s=nu(s._payload)),f.isValidElement(s)){const i=Mj(s),a=jj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Bu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pj=Symbol("radix.slottable");function Aj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pj}function jj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Mj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Oj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],an=Oj.reduce((e,t)=>{const n=bC(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_r;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(_r||(_r={}));const Lj=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>oe(({thread:r,message:s})=>e&&r.isRunning?_r.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?_r.Floating:_r.Normal:_r.Hidden:_r.Normal),mm=f.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=Lj({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===_r.Hidden?null:c.jsx(an.div,{...o===_r.Floating?{"data-floating":"true"}:null,...r,ref:s})});mm.displayName="ActionBarPrimitive.Root";function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const Dj=({copiedDuration:e=3e3}={})=>{const t=xe(),n=oe(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=oe(({composer:i})=>i.isEditing),s=oe(({composer:i})=>i.text),o=f.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},SC=f.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=oe(({message:a})=>a.isCopied),i=Dj({copiedDuration:e});return c.jsx(an.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:re(t,()=>{i==null||i()})})});SC.displayName="ActionBarPrimitive.Copy";const Vn=(e,t,n=[])=>{const r=f.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return c.jsx(an.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:re(a.onClick,l)})});return r.displayName=e,r},Fj=()=>{const e=xe(),t=oe(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=f.useCallback(()=>{e.message().reload()},[e]);return t?null:n},zj=Vn("ActionBarPrimitive.Reload",Fj),Bj=()=>{const e=xe(),t=oe(({composer:r})=>r.isEditing),n=f.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},$j=Vn("ActionBarPrimitive.Edit",Bj),Uj=()=>{const e=xe(),t=f.useCallback(async()=>{e.message().speak()},[e]);return oe(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},Hj=Vn("ActionBarPrimitive.Speak",Uj);function gm(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const Vj=()=>{const e=xe(),t=oe(({message:r})=>r.speech!=null),n=f.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},CC=f.forwardRef((e,t)=>{const n=Vj();return gm(r=>{n&&(r.preventDefault(),n())}),c.jsx(an.button,{type:"button",disabled:!n,...e,ref:t,onClick:re(e.onClick,()=>{n==null||n()})})});CC.displayName="ActionBarPrimitive.StopSpeaking";const Wj=()=>{const e=xe();return f.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},kC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=oe(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=Wj();return c.jsx(an.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:re(e,()=>{o==null||o()})})});kC.displayName="ActionBarPrimitive.FeedbackPositive";const Kj=()=>{const e=xe();return f.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},EC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=oe(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=Kj();return c.jsx(an.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:re(e,()=>{o==null||o()})})});EC.displayName="ActionBarPrimitive.FeedbackNegative";function qj(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function dr(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),l=n.length;n=[...n,i];const u=h=>{var g;const{scope:p,children:m,...w}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=f.useMemo(()=>w,Object.values(w));return c.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=f.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Gj(s,...t)]}function Gj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var nt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Yj=cp[" useInsertionEffect ".trim().toString()]||nt;function Xs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Xj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=f.useCallback(d=>{var h;if(a){const p=Qj(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function Xj({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return Yj(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Qj(e){return typeof e=="function"}function ai(e){const t=Jj(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),l=a.find(e2);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Ss=ai("Slot");function Jj(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=n2(s),a=t2(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Bu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TC=Symbol("radix.slottable");function Zj(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=TC,t}function e2(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TC}function t2(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function n2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=r2.reduce((e,t)=>{const n=ai(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function NC(e,t){e&&gi.flushSync(()=>e.dispatchEvent(t))}function RC(e){const t=e+"CollectionProvider",[n,r]=dr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:g}=y,v=Se.useRef(null),x=Se.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=ai(a),u=Se.forwardRef((y,b)=>{const{scope:g,children:v}=y,x=o(a,g),C=we(b,x.collectionRef);return c.jsx(l,{ref:C,children:v})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=ai(d),m=Se.forwardRef((y,b)=>{const{scope:g,children:v,...x}=y,C=Se.useRef(null),N=we(b,C),k=o(d,g);return Se.useEffect(()=>(k.itemMap.set(C,{ref:C,...x}),()=>void k.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:N,children:v})});m.displayName=d;function w(y){const b=o(e+"CollectionConsumer",y);return Se.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,T)=>x.indexOf(k.ref.current)-x.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,r]}var IC=f.createContext(void 0),s2=e=>{const{dir:t,children:n}=e;return c.jsx(IC.Provider,{value:t,children:n})};function Uu(e){const t=f.useContext(IC);return e||t||"ltr"}var o2=s2,i2="DismissableLayer",Nh="dismissableLayer.update",a2="dismissableLayer.pointerDownOutside",l2="dismissableLayer.focusOutside",wx,PC=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hu=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=f.useContext(PC),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),w=we(t,T=>h(T)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,N=d2(T=>{const I=T.target,O=[...u.branches].some(j=>j.contains(I));!C||O||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},p),k=f2(T=>{const I=T.target;[...u.branches].some(j=>j.contains(I))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},p);return gm(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wx)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bx())},[d,u]),f.useEffect(()=>{const T=()=>m({});return document.addEventListener(Nh,T),()=>document.removeEventListener(Nh,T)},[]),c.jsx(ue.div,{...l,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,k.onFocusCapture),onBlurCapture:re(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,N.onPointerDownCapture)})});Hu.displayName=i2;var c2="DismissableLayerBranch",u2=f.forwardRef((e,t)=>{const n=f.useContext(PC),r=f.useRef(null),s=we(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(ue.div,{...e,ref:s})});u2.displayName=c2;function d2(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){AC(a2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function f2(e,t=globalThis==null?void 0:globalThis.document){const n=Xe(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&AC(l2,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bx(){const e=new CustomEvent(Nh);document.dispatchEvent(e)}function AC(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?NC(s,o):s.dispatchEvent(o)}var nf=0;function jC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_x()),document.body.insertAdjacentElement("beforeend",e[1]??_x()),nf++,()=>{nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nf--}},[])}function _x(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var rf="focusScope.autoFocusOnMount",sf="focusScope.autoFocusOnUnmount",Sx={bubbles:!1,cancelable:!0},h2="FocusScope",ym=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=f.useState(null),u=Xe(s),d=Xe(o),h=f.useRef(null),p=we(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const C=x.target;a.contains(C)?h.current=C:qr(h.current,{select:!0})},b=function(x){if(m.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||qr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&qr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){kx.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(rf,Sx);a.addEventListener(rf,u),a.dispatchEvent(g),g.defaultPrevented||(p2(x2(MC(a)),{select:!0}),document.activeElement===y&&qr(a))}return()=>{a.removeEventListener(rf,u),setTimeout(()=>{const g=new CustomEvent(sf,Sx);a.addEventListener(sf,d),a.dispatchEvent(g),g.defaultPrevented||qr(y??document.body,{select:!0}),a.removeEventListener(sf,d),kx.remove(m)},0)}}},[a,u,d,m]);const w=f.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[x,C]=m2(v);x&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&qr(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),n&&qr(C,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return c.jsx(ue.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});ym.displayName=h2;function p2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qr(r,{select:t}),document.activeElement!==n)return}function m2(e){const t=MC(e),n=Cx(t,e),r=Cx(t.reverse(),e);return[n,r]}function MC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Cx(e,t){for(const n of e)if(!g2(n,{upTo:t}))return n}function g2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function y2(e){return e instanceof HTMLInputElement&&"select"in e}function qr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&y2(e)&&t&&e.select()}}var kx=v2();function v2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ex(e,t),e.unshift(t)},remove(t){var n;e=Ex(e,t),(n=e[0])==null||n.resume()}}}function Ex(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function x2(e){return e.filter(t=>t.tagName!=="A")}var w2=cp[" useId ".trim().toString()]||(()=>{}),b2=0;function Er(e){const[t,n]=f.useState(w2());return nt(()=>{n(r=>r??String(b2++))},[e]),e||(t?`radix-${t}`:"")}const _2=["top","right","bottom","left"],ys=Math.min,Jt=Math.max,ru=Math.round,$l=Math.floor,ar=e=>({x:e,y:e}),S2={left:"right",right:"left",bottom:"top",top:"bottom"},C2={start:"end",end:"start"};function Rh(e,t,n){return Jt(e,ys(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function vi(e){return e.split("-")[1]}function vm(e){return e==="x"?"y":"x"}function xm(e){return e==="y"?"height":"width"}const k2=new Set(["top","bottom"]);function sr(e){return k2.has(jr(e))?"y":"x"}function wm(e){return vm(sr(e))}function E2(e,t,n){n===void 0&&(n=!1);const r=vi(e),s=wm(e),o=xm(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=su(i)),[i,su(i)]}function T2(e){const t=su(e);return[Ih(e),t,Ih(t)]}function Ih(e){return e.replace(/start|end/g,t=>C2[t])}const Tx=["left","right"],Nx=["right","left"],N2=["top","bottom"],R2=["bottom","top"];function I2(e,t,n){switch(e){case"top":case"bottom":return n?t?Nx:Tx:t?Tx:Nx;case"left":case"right":return t?N2:R2;default:return[]}}function P2(e,t,n,r){const s=vi(e);let o=I2(jr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Ih)))),o}function su(e){return e.replace(/left|right|bottom|top/g,t=>S2[t])}function A2(e){return{top:0,right:0,bottom:0,left:0,...e}}function OC(e){return typeof e!="number"?A2(e):{top:e,right:e,bottom:e,left:e}}function ou(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Rx(e,t,n){let{reference:r,floating:s}=e;const o=sr(t),i=wm(t),a=xm(i),l=jr(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(vi(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}async function j2(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Ar(t,e),w=OC(m),b=a[p?h==="floating"?"reference":"floating":h],g=ou(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},N=ou(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-N.top+w.top)/C.y,bottom:(N.bottom-g.bottom+w.bottom)/C.y,left:(g.left-N.left+w.left)/C.x,right:(N.right-g.right+w.right)/C.x}}const M2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Rx(u,r,l),p=r,m={},w=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:v}=a[b],{x,y:C,data:N,reset:k}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:j2},elements:{reference:e,floating:t}});d=x??d,h=C??h,m={...m,[g]:{...m[g],...N}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=Rx(u,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}},O2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Ar(e,t)||{};if(u==null)return{};const h=OC(d),p={x:n,y:r},m=wm(s),w=xm(m),y=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=o.reference[w]+o.reference[m]-p[m]-o.floating[w],N=p[m]-o.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=k?k[x]:0;(!T||!await(i.isElement==null?void 0:i.isElement(k)))&&(T=a.floating[x]||o.floating[w]);const I=C/2-N/2,O=T/2-y[w]/2-1,j=ys(h[g],O),L=ys(h[v],O),D=j,K=T-y[w]-L,R=T/2-y[w]/2+I,G=Rh(D,R,K),q=!l.arrow&&vi(s)!=null&&R!==G&&o.reference[w]/2-(R<D?j:L)-y[w]/2<0,ee=q?R<D?R-D:R-K:0;return{[m]:p[m]+ee,data:{[m]:G,centerOffset:R-G-ee,...q&&{alignmentOffset:ee}},reset:q}}}),L2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=jr(s),v=sr(a),x=jr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(x||!y?[su(a)]:T2(a)),k=w!=="none";!p&&k&&N.push(...P2(a,y,w,C));const T=[a,...N],I=await l.detectOverflow(t,b),O=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&O.push(I[g]),h){const R=E2(s,i,C);O.push(I[R[0]],I[R[1]])}if(j=[...j,{placement:s,overflows:O}],!O.every(R=>R<=0)){var L,D;const R=(((L=o.flip)==null?void 0:L.index)||0)+1,G=T[R];if(G&&(!(h==="alignment"?v!==sr(G):!1)||j.every(A=>sr(A.placement)===v?A.overflows[0]>0:!0)))return{data:{index:R,overflows:j},reset:{placement:G}};let q=(D=j.filter(ee=>ee.overflows[0]<=0).sort((ee,A)=>ee.overflows[1]-A.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(m){case"bestFit":{var K;const ee=(K=j.filter(A=>{if(k){const U=sr(A.placement);return U===v||U==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(U=>U>0).reduce((U,S)=>U+S,0)]).sort((A,U)=>A[1]-U[1])[0])==null?void 0:K[0];ee&&(q=ee);break}case"initialPlacement":q=a;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function Ix(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Px(e){return _2.some(t=>e[t]>=0)}const D2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=Ar(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=Ix(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Px(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=Ix(i,n.floating);return{data:{escapedOffsets:a,escaped:Px(a)}}}default:return{}}}}},LC=new Set(["left","top"]);async function F2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=jr(n),a=vi(n),l=sr(n)==="y",u=LC.has(i)?-1:1,d=o&&l?-1:1,h=Ar(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const z2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await F2(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},B2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...u}=Ar(e,t),d={x:n,y:r},h=await o.detectOverflow(t,u),p=sr(jr(s)),m=vm(p);let w=d[m],y=d[p];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=w+h[g],C=w-h[v];w=Rh(x,w,C)}if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=y+h[g],C=y-h[v];y=Rh(x,y,C)}const b=l.fn({...t,[m]:w,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[p]:a}}}}}},$2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(e,t),d={x:n,y:r},h=sr(s),p=vm(h);let m=d[p],w=d[h];const y=Ar(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=p==="y"?"height":"width",C=o.reference[p]-o.floating[x]+b.mainAxis,N=o.reference[p]+o.reference[x]-b.mainAxis;m<C?m=C:m>N&&(m=N)}if(u){var g,v;const x=p==="y"?"width":"height",C=LC.has(jr(s)),N=o.reference[h]-o.floating[x]+(C&&((g=i.offset)==null?void 0:g[h])||0)+(C?0:b.crossAxis),k=o.reference[h]+o.reference[x]+(C?0:((v=i.offset)==null?void 0:v[h])||0)-(C?b.crossAxis:0);w<N?w=N:w>k&&(w=k)}return{[p]:m,[h]:w}}}},U2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Ar(e,t),d=await i.detectOverflow(t,u),h=jr(s),p=vi(s),m=sr(s)==="y",{width:w,height:y}=o.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=w-d.left-d.right,C=ys(y-d[b],v),N=ys(w-d[g],x),k=!t.middlewareData.shift;let T=C,I=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),k&&!p){const j=Jt(d.left,0),L=Jt(d.right,0),D=Jt(d.top,0),K=Jt(d.bottom,0);m?I=w-2*(j!==0||L!==0?j+L:Jt(d.left,d.right)):T=y-2*(D!==0||K!==0?D+K:Jt(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:T});const O=await i.getDimensions(a.floating);return w!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function Vu(){return typeof window<"u"}function xi(e){return DC(e)?(e.nodeName||"").toLowerCase():"#document"}function nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fr(e){var t;return(t=(DC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DC(e){return Vu()?e instanceof Node||e instanceof nn(e).Node:!1}function $n(e){return Vu()?e instanceof Element||e instanceof nn(e).Element:!1}function lr(e){return Vu()?e instanceof HTMLElement||e instanceof nn(e).HTMLElement:!1}function Ax(e){return!Vu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nn(e).ShadowRoot}const H2=new Set(["inline","contents"]);function rl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!H2.has(s)}const V2=new Set(["table","td","th"]);function W2(e){return V2.has(xi(e))}const K2=[":popover-open",":modal"];function Wu(e){return K2.some(t=>{try{return e.matches(t)}catch{return!1}})}const q2=["transform","translate","scale","rotate","perspective"],G2=["transform","translate","scale","rotate","perspective","filter"],Y2=["paint","layout","strict","content"];function bm(e){const t=_m(),n=$n(e)?Un(e):e;return q2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||G2.some(r=>(n.willChange||"").includes(r))||Y2.some(r=>(n.contain||"").includes(r))}function X2(e){let t=vs(e);for(;lr(t)&&!li(t);){if(bm(t))return t;if(Wu(t))return null;t=vs(t)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Q2=new Set(["html","body","#document"]);function li(e){return Q2.has(xi(e))}function Un(e){return nn(e).getComputedStyle(e)}function Ku(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vs(e){if(xi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ax(e)&&e.host||fr(e);return Ax(t)?t.host:t}function FC(e){const t=vs(e);return li(t)?e.ownerDocument?e.ownerDocument.body:e.body:lr(t)&&rl(t)?t:FC(t)}function Ua(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=FC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=nn(s);if(o){const a=Ph(i);return t.concat(i,i.visualViewport||[],rl(s)?s:[],a&&n?Ua(a):[])}return t.concat(s,Ua(s,[],n))}function Ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zC(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=lr(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=ru(n)!==o||ru(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Sm(e){return $n(e)?e:e.contextElement}function qo(e){const t=Sm(e);if(!lr(t))return ar(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=zC(t);let i=(o?ru(n.width):n.width)/r,a=(o?ru(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const J2=ar(0);function BC(e){const t=nn(e);return!_m()||!t.visualViewport?J2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Z2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nn(e)?!1:t}function Qs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Sm(e);let i=ar(1);t&&(r?$n(r)&&(i=qo(r)):i=qo(e));const a=Z2(o,n,r)?BC(o):ar(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=nn(o),m=r&&$n(r)?nn(r):r;let w=p,y=Ph(w);for(;y&&r&&m!==w;){const b=qo(y),g=y.getBoundingClientRect(),v=Un(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,C=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=C,w=nn(y),y=Ph(w)}}return ou({width:d,height:h,x:l,y:u})}function qu(e,t){const n=Ku(e).scrollLeft;return t?t.left+n:Qs(fr(e)).left+n}function $C(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-qu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function eM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=fr(r),a=t?Wu(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ar(1);const d=ar(0),h=lr(r);if((h||!h&&!o)&&((xi(r)!=="body"||rl(i))&&(l=Ku(r)),lr(r))){const m=Qs(r);u=qo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?$C(i,l):ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function tM(e){return Array.from(e.getClientRects())}function nM(e){const t=fr(e),n=Ku(e),r=e.ownerDocument.body,s=Jt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Jt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+qu(e);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(i+=Jt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const jx=25;function rM(e,t){const n=nn(e),r=fr(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=_m();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=qu(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=jx&&(o-=w)}else u<=jx&&(o+=u);return{width:o,height:i,x:a,y:l}}const sM=new Set(["absolute","fixed"]);function oM(e,t){const n=Qs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=lr(e)?qo(e):ar(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function Mx(e,t,n){let r;if(t==="viewport")r=rM(e,n);else if(t==="document")r=nM(fr(e));else if($n(t))r=oM(t,n);else{const s=BC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ou(r)}function UC(e,t){const n=vs(e);return n===t||!$n(n)||li(n)?!1:Un(n).position==="fixed"||UC(n,t)}function iM(e,t){const n=t.get(e);if(n)return n;let r=Ua(e,[],!1).filter(a=>$n(a)&&xi(a)!=="body"),s=null;const o=Un(e).position==="fixed";let i=o?vs(e):e;for(;$n(i)&&!li(i);){const a=Un(i),l=bm(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&sM.has(s.position)||rl(i)&&!l&&UC(e,i))?r=r.filter(d=>d!==i):s=a,i=vs(i)}return t.set(e,r),r}function aM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Wu(t)?[]:iM(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=Mx(t,d,s);return u.top=Jt(h.top,u.top),u.right=ys(h.right,u.right),u.bottom=ys(h.bottom,u.bottom),u.left=Jt(h.left,u.left),u},Mx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lM(e){const{width:t,height:n}=zC(e);return{width:t,height:n}}function cM(e,t,n){const r=lr(t),s=fr(t),o=n==="fixed",i=Qs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ar(0);function u(){l.x=qu(s)}if(r||!r&&!o)if((xi(t)!=="body"||rl(s))&&(a=Ku(t)),r){const m=Qs(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?$C(s,a):ar(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function of(e){return Un(e).position==="static"}function Ox(e,t){if(!lr(e)||Un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fr(e)===n&&(n=n.ownerDocument.body),n}function HC(e,t){const n=nn(e);if(Wu(e))return n;if(!lr(e)){let s=vs(e);for(;s&&!li(s);){if($n(s)&&!of(s))return s;s=vs(s)}return n}let r=Ox(e,t);for(;r&&W2(r)&&of(r);)r=Ox(r,t);return r&&li(r)&&of(r)&&!bm(r)?n:r||X2(e)||n}const uM=async function(e){const t=this.getOffsetParent||HC,n=this.getDimensions,r=await n(e.floating);return{reference:cM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dM(e){return Un(e).direction==="rtl"}const fM={convertOffsetParentRelativeRectToViewportRelativeRect:eM,getDocumentElement:fr,getClippingRect:aM,getOffsetParent:HC,getElementRects:uM,getClientRects:tM,getDimensions:lM,getScale:qo,isElement:$n,isRTL:dM};function VC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hM(e,t){let n=null,r;const s=fr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||t(),!p||!m)return;const w=$l(h),y=$l(s.clientWidth-(d+p)),b=$l(s.clientHeight-(h+m)),g=$l(d),x={rootMargin:-w+"px "+-y+"px "+-b+"px "+-g+"px",threshold:Jt(0,ys(1,l))||1};let C=!0;function N(k){const T=k[0].intersectionRatio;if(T!==l){if(!C)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!VC(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(N,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,x)}n.observe(e)}return i(!0),o}function pM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Sm(e),d=s||o?[...u?Ua(u):[],...Ua(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&a?hM(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let w,y=l?Qs(e):null;l&&b();function b(){const g=Qs(e);y&&!VC(y,g)&&n(),y=g,w=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const mM=z2,gM=B2,yM=L2,vM=U2,xM=D2,Lx=O2,wM=$2,bM=(e,t,n)=>{const r=new Map,s={platform:fM,...n},o={...s.platform,_c:r};return M2(e,t,{...s,platform:o})};var _M=typeof document<"u",SM=function(){},mc=_M?f.useLayoutEffect:SM;function iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!iu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!iu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function WC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dx(e,t){const n=WC(e);return Math.round(t*n)/n}function af(e){const t=f.useRef(e);return mc(()=>{t.current=e}),t}function CM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);iu(p,r)||m(r);const[w,y]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(A=>{A!==k.current&&(k.current=A,y(A))},[]),x=f.useCallback(A=>{A!==T.current&&(T.current=A,g(A))},[]),C=o||w,N=i||b,k=f.useRef(null),T=f.useRef(null),I=f.useRef(d),O=l!=null,j=af(l),L=af(s),D=af(u),K=f.useCallback(()=>{if(!k.current||!T.current)return;const A={placement:t,strategy:n,middleware:p};L.current&&(A.platform=L.current),bM(k.current,T.current,A).then(U=>{const S={...U,isPositioned:D.current!==!1};R.current&&!iu(I.current,S)&&(I.current=S,gi.flushSync(()=>{h(S)}))})},[p,t,n,L,D]);mc(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[u]);const R=f.useRef(!1);mc(()=>(R.current=!0,()=>{R.current=!1}),[]),mc(()=>{if(C&&(k.current=C),N&&(T.current=N),C&&N){if(j.current)return j.current(C,N,K);K()}},[C,N,K,j,O]);const G=f.useMemo(()=>({reference:k,floating:T,setReference:v,setFloating:x}),[v,x]),q=f.useMemo(()=>({reference:C,floating:N}),[C,N]),ee=f.useMemo(()=>{const A={position:n,left:0,top:0};if(!q.floating)return A;const U=Dx(q.floating,d.x),S=Dx(q.floating,d.y);return a?{...A,transform:"translate("+U+"px, "+S+"px)",...WC(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:S}},[n,a,q.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:K,refs:G,elements:q,floatingStyles:ee}),[d,K,G,q,ee])}const kM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Lx({element:r.current,padding:s}).fn(n):{}:r?Lx({element:r,padding:s}).fn(n):{}}}},EM=(e,t)=>({...mM(e),options:[e,t]}),TM=(e,t)=>({...gM(e),options:[e,t]}),NM=(e,t)=>({...wM(e),options:[e,t]}),RM=(e,t)=>({...yM(e),options:[e,t]}),IM=(e,t)=>({...vM(e),options:[e,t]}),PM=(e,t)=>({...xM(e),options:[e,t]}),AM=(e,t)=>({...kM(e),options:[e,t]});var jM="Arrow",KC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(ue.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});KC.displayName=jM;var MM=KC;function qC(e){const[t,n]=f.useState(void 0);return nt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Cm="Popper",[GC,Gu]=dr(Cm),[OM,YC]=GC(Cm),XC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return c.jsx(OM,{scope:t,anchor:r,onAnchorChange:s,children:n})};XC.displayName=Cm;var QC="PopperAnchor",JC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=YC(QC,n),i=f.useRef(null),a=we(t,i),l=f.useRef(null);return f.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(ue.div,{...s,ref:a})});JC.displayName=QC;var km="PopperContent",[LM,DM]=GC(km),ZC=f.forwardRef((e,t)=>{var Q,ye,Me,_e,ve,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=YC(km,n),[g,v]=f.useState(null),x=we(t,at=>v(at)),[C,N]=f.useState(null),k=qC(C),T=(k==null?void 0:k.width)??0,I=(k==null?void 0:k.height)??0,O=r+(o!=="center"?"-"+o:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],D=L.length>0,K={padding:j,boundary:L.filter(zM),altBoundary:D},{refs:R,floatingStyles:G,placement:q,isPositioned:ee,middlewareData:A}=CM({strategy:"fixed",placement:O,whileElementsMounted:(...at)=>pM(...at,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[EM({mainAxis:s+I,alignmentAxis:i}),l&&TM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?NM():void 0,...K}),l&&RM({...K}),IM({...K,apply:({elements:at,rects:Dt,availableWidth:Cn,availableHeight:Kn})=>{const{width:kn,height:Ci}=Dt.reference,ln=at.floating.style;ln.setProperty("--radix-popper-available-width",`${Cn}px`),ln.setProperty("--radix-popper-available-height",`${Kn}px`),ln.setProperty("--radix-popper-anchor-width",`${kn}px`),ln.setProperty("--radix-popper-anchor-height",`${Ci}px`)}}),C&&AM({element:C,padding:a}),BM({arrowWidth:T,arrowHeight:I}),p&&PM({strategy:"referenceHidden",...K})]}),[U,S]=n0(q),ae=Xe(w);nt(()=>{ee&&(ae==null||ae())},[ee,ae]);const fe=(Q=A.arrow)==null?void 0:Q.x,E=(ye=A.arrow)==null?void 0:ye.y,Te=((Me=A.arrow)==null?void 0:Me.centerOffset)!==0,[He,be]=f.useState();return nt(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ee?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(_e=A.transformOrigin)==null?void 0:_e.x,(ve=A.transformOrigin)==null?void 0:ve.y].join(" "),...((Ne=A.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(LM,{scope:n,placedSide:U,onArrowChange:N,arrowX:fe,arrowY:E,shouldHideArrow:Te,children:c.jsx(ue.div,{"data-side":U,"data-align":S,...y,ref:x,style:{...y.style,animation:ee?void 0:"none"}})})})});ZC.displayName=km;var e0="PopperArrow",FM={top:"bottom",right:"left",bottom:"top",left:"right"},t0=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=DM(e0,r),i=FM[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(MM,{...s,ref:n,style:{...s.style,display:"block"}})})});t0.displayName=e0;function zM(e){return e!==null}var BM=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=n0(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=i?h:`${p}px`,y=`${-l}px`):u==="top"?(w=i?h:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=i?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,y=i?h:`${m}px`),{data:{x:w,y}}}});function n0(e){const[t,n="center"]=e.split("-");return[t,n]}var r0=XC,s0=JC,o0=ZC,i0=t0,$M="Portal",Em=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);nt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?pI.createPortal(c.jsx(ue.div,{...r,ref:t}),i):null});Em.displayName=$M;function UM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var hr=e=>{const{present:t,children:n}=e,r=HM(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=we(r.ref,VM(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};hr.displayName="Presence";function HM(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=UM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Ul(r.current);o.current=a==="mounted"?u:"none"},[a]),nt(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=Ul(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=Ul(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=Ul(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ul(e){return(e==null?void 0:e.animationName)||"none"}function VM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lf="rovingFocusGroup.onEntryFocus",WM={bubbles:!1,cancelable:!0},sl="RovingFocusGroup",[Ah,a0,KM]=RC(sl),[qM,l0]=dr(sl,[KM]),[GM,YM]=qM(sl),c0=f.forwardRef((e,t)=>c.jsx(Ah.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Ah.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(XM,{...e,ref:t})})}));c0.displayName=sl;var XM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=we(t,p),w=Uu(o),[y,b]=Xs({prop:i,defaultProp:a??null,onChange:l,caller:sl}),[g,v]=f.useState(!1),x=Xe(u),C=a0(n),N=f.useRef(!1),[k,T]=f.useState(0);return f.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(lf,x),()=>I.removeEventListener(lf,x)},[x]),c.jsx(GM,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:f.useCallback(I=>b(I),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>T(I=>I-1),[]),children:c.jsx(ue.div,{tabIndex:g||k===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{N.current=!0}),onFocus:re(e.onFocus,I=>{const O=!N.current;if(I.target===I.currentTarget&&O&&!g){const j=new CustomEvent(lf,WM);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const L=C().filter(q=>q.focusable),D=L.find(q=>q.active),K=L.find(q=>q.id===y),G=[D,K,...L].filter(Boolean).map(q=>q.ref.current);f0(G,d)}}N.current=!1}),onBlur:re(e.onBlur,()=>v(!1))})})}),u0="RovingFocusGroupItem",d0=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=Er(),u=o||l,d=YM(u0,n),h=d.currentTabStopId===u,p=a0(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),c.jsx(Ah.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ue.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:re(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:re(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=ZM(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=p().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?eO(x,C+1):x.slice(C+1)}setTimeout(()=>f0(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});d0.displayName=u0;var QM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZM(e,t,n){const r=JM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QM[r]}function f0(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tO=c0,nO=d0,rO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,Hl=new WeakMap,Vl={},cf=0,h0=function(e){return e&&(e.host||h0(e.parentNode))},sO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=h0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},oO=function(e,t,n,r){var s=sO(t,Array.isArray(e)?e:[e]);Vl[n]||(Vl[n]=new WeakMap);var o=Vl[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(vo.get(p)||0)+1,b=(o.get(p)||0)+1;vo.set(p,y),o.set(p,b),i.push(p),y===1&&w&&Hl.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),a.clear(),cf++,function(){i.forEach(function(h){var p=vo.get(h)-1,m=o.get(h)-1;vo.set(h,p),o.set(h,m),p||(Hl.has(h)||h.removeAttribute(r),Hl.delete(h)),m||h.removeAttribute(n)}),cf--,cf||(vo=new WeakMap,vo=new WeakMap,Hl=new WeakMap,Vl={})}},p0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=rO(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),oO(r,s,n,"aria-hidden")):function(){return null}},tr=function(){return tr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},tr.apply(this,arguments)};function m0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iO(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var gc="right-scroll-bar-position",yc="width-before-scroll-bar",aO="with-scroll-bars-hidden",lO="--removed-body-scroll-bar-size";function uf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cO(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var uO=typeof window<"u"?f.useLayoutEffect:f.useEffect,Fx=new WeakMap;function dO(e,t){var n=cO(null,function(r){return e.forEach(function(s){return uf(s,r)})});return uO(function(){var r=Fx.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||uf(a,null)}),o.forEach(function(a){s.has(a)||uf(a,i)})}Fx.set(n,e)},[e]),n}function fO(e){return e}function hO(e,t){t===void 0&&(t=fO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function pO(e){e===void 0&&(e={});var t=hO(null);return t.options=tr({async:!0,ssr:!1},e),t}var g0=function(e){var t=e.sideCar,n=m0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,tr({},n))};g0.isSideCarExport=!0;function mO(e,t){return e.useMedium(t),g0}var y0=pO(),df=function(){},Yu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:df,onWheelCapture:df,onTouchMoveCapture:df}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,x=e.gapMode,C=m0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,k=dO([n,t]),T=tr(tr({},C),s);return f.createElement(f.Fragment,null,d&&f.createElement(N,{sideCar:y0,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?f.cloneElement(f.Children.only(a),tr(tr({},T),{ref:k})):f.createElement(v,tr({},T,{className:l,ref:k}),a))});Yu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yu.classNames={fullWidth:yc,zeroRight:gc};var gO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gO();return t&&e.setAttribute("nonce",t),e}function vO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yO())&&(vO(t,n),xO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bO=function(){var e=wO();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},v0=function(){var e=bO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},_O={left:0,top:0,right:0,gap:0},ff=function(e){return parseInt(e||"",10)||0},SO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ff(n),ff(r),ff(s)]},CO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _O;var t=SO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kO=v0(),Go="data-scroll-locked",EO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(aO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gc," .").concat(gc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(lO,": ").concat(a,`px;
  }
`)},zx=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},TO=function(){f.useEffect(function(){return document.body.setAttribute(Go,(zx()+1).toString()),function(){var e=zx()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},NO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;TO();var o=f.useMemo(function(){return CO(s)},[s]);return f.createElement(kO,{styles:EO(o,!t,s,n?"":"!important")})},jh=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return jh=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{jh=!1}var xo=jh?{passive:!1}:!1,RO=function(e){return e.tagName==="TEXTAREA"},x0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!RO(e)&&n[t]==="visible")},IO=function(e){return x0(e,"overflowY")},PO=function(e){return x0(e,"overflowX")},Bx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=w0(e,r);if(s){var o=b0(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},w0=function(e,t){return e==="v"?IO(t):PO(t)},b0=function(e,t){return e==="v"?AO(t):jO(t)},MO=function(e,t){return e==="h"&&t==="rtl"?-1:1},OO=function(e,t,n,r,s){var o=MO(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=b0(e,a),w=m[0],y=m[1],b=m[2],g=y-b-o*w;(w||g)&&w0(e,a)&&(h+=g,p+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Kl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$x=function(e){return[e.deltaX,e.deltaY]},Ux=function(e){return e&&"current"in e?e.current:e},LO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FO=0,wo=[];function zO(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(FO++)[0],o=f.useState(v0)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=iO([e.lockRef.current],(e.shards||[]).map(Ux),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=Kl(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-g[0],C="deltaY"in y?y.deltaY:v[1]-g[1],N,k=y.target,T=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in y&&T==="h"&&k.type==="range")return!1;var I=window.getSelection(),O=I&&I.anchorNode,j=O?O===k||O.contains(k):!1;if(j)return!1;var L=Bx(T,k);if(!L)return!0;if(L?N=T:(N=T==="v"?"h":"v",L=Bx(T,k)),!L)return!1;if(!r.current&&"changedTouches"in y&&(x||C)&&(r.current=N),!N)return!0;var D=r.current||N;return OO(D,b,y,D==="h"?x:C)},[]),l=f.useCallback(function(y){var b=y;if(!(!wo.length||wo[wo.length-1]!==o)){var g="deltaY"in b?$x(b):Kl(b),v=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&LO(N.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(Ux).filter(Boolean).filter(function(N){return N.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(y,b,g,v){var x={name:y,delta:b,target:g,should:v,shadowParent:BO(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(y){n.current=Kl(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,$x(y),y.target,a(y,e.lockRef.current))},[]),p=f.useCallback(function(y){u(y.type,Kl(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return wo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,xo),document.addEventListener("touchmove",l,xo),document.addEventListener("touchstart",d,xo),function(){wo=wo.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,xo),document.removeEventListener("touchmove",l,xo),document.removeEventListener("touchstart",d,xo)}},[]);var m=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:DO(s)}):null,m?f.createElement(NO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $O=mO(y0,zO);var Tm=f.forwardRef(function(e,t){return f.createElement(Yu,tr({},e,{ref:t,sideCar:$O}))});Tm.classNames=Yu.classNames;const _0=f.forwardRef((e,t)=>c.jsx(an.div,{...e,ref:t}));_0.displayName="AttachmentPrimitive.Root";const Mh=()=>{const e=oe(({attachment:t})=>t.name);return c.jsx(c.Fragment,{children:e})};Mh.displayName="AttachmentPrimitive.Name";const UO=()=>{const e=xe();return f.useCallback(()=>{e.attachment().remove()},[e])},HO=Vn("AttachmentPrimitive.Remove",UO),VO=()=>{const e=xe(),t=oe(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},WO=Vn("BranchPickerPrimitive.Next",VO),KO=()=>{const e=xe(),t=oe(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},qO=Vn("BranchPickerPrimitive.Previous",KO),GO=()=>oe(({message:t})=>t.branchCount),S0=()=>{const e=GO();return c.jsx(c.Fragment,{children:e})};S0.displayName="BranchPickerPrimitive.Count";const YO=()=>oe(({message:t})=>t.branchNumber),C0=()=>{const e=YO();return c.jsx(c.Fragment,{children:e})};C0.displayName="BranchPickerPrimitive.Number";const ol=e=>{const t=f.useRef(void 0);return f.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},k0=(e,t)=>{const n=f.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return ol(n)},Hx=f.createContext(!1),Vx=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},E0=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=oe(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=$u({optional:!0}),o=f.useContext(Hx),i=f.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:h,inset:p,userMessage:m}=d.height,w=Vx(t,l),y=Vx(n,l),b=m<=w?m:y,g=Math.max(0,h-p-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=ol(i);return c.jsx(Hx.Provider,{value:!0,children:c.jsx(_C,{ref:a,children:e})})};E0.displayName="ThreadPrimitive.ViewportSlack";const XO=()=>{const e=xe(),t=oe(()=>e.message()),n=f.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return ol(n)},QO=()=>{const e=$a(s=>s.turnAnchor),t=$a(s=>s.registerUserMessageHeight),n=oe(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=f.useCallback(s=>s.offsetHeight,[]);return k0(n?t:null,r)},Nm=f.forwardRef((e,t)=>{const n=XO(),r=QO(),s=we(t,n,r);return c.jsx(E0,{children:c.jsx(an.div,{...e,ref:s})})});Nm.displayName="MessagePrimitive.Root";const JO=Object.freeze({type:"complete"}),ZO=je(({parts:e,getMessagePart:t})=>{const[n,r]=zn(!0),s=ke(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??JO},[e]),o=ke(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),eL=({startIndex:e,endIndex:t,children:n})=>{const r=oe(({message:i})=>i.parts).slice(e,t+1),s=xe(),o=xe({chainOfThought:ZO({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return c.jsx(_s,{value:o,children:n})},T0=()=>oe(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),Rm=f.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=uC(T0(),e);return c.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});Rm.displayName="MessagePartPrimitive.Text";const tL=()=>oe(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),N0=f.forwardRef((e,t)=>{const{image:n}=tL();return c.jsx(an.img,{src:n,...e,ref:t})});N0.displayName="MessagePartPrimitive.Image";const R0=({children:e})=>oe(({part:n})=>n.status.type==="running")?e:null;R0.displayName="MessagePartPrimitive.InProgress";const Wx=e=>Symbol.iterator in e,Kx=e=>"entries"in e,qx=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},nL=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function rL(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Wx(e)&&Wx(t)?Kx(e)&&Kx(t)?qx(e,t):nL(e,t):qx({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function I0(e){const t=Se.useRef(void 0);return n=>{const r=e(n);return rL(t.current,r)?t.current:t.current=r}}const hf=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},sL=(e,t)=>{const n=[];if(t){const r=hf("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=hf("toolGroup"),s=hf("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},oL=e=>{const t=oe(I0(n=>n.message.parts.map(r=>r.type)));return f.useMemo(()=>t.length===0?[]:sL(t,e),[t,e])},iL=({Fallback:e,...t})=>{const n=oe(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?c.jsx(n,{...t}):null},br={Text:()=>c.jsxs("p",{style:{whiteSpace:"pre-line"},children:[c.jsx(Rm,{}),c.jsx(R0,{children:c.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>c.jsx(N0,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},aL=({components:{Text:e=br.Text,Reasoning:t=br.Reasoning,Image:n=br.Image,Source:r=br.Source,File:s=br.File,Unstable_Audio:o=br.Unstable_Audio,tools:i={}}={}})=>{var d,h;const a=xe(),l=oe(({part:p})=>p),u=l.type;if(u==="tool-call"){const p=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return c.jsx(i.Override,{...l,addResult:p,resume:m});const w=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return c.jsx(iL,{...l,Fallback:w,addResult:p,resume:m})}if(((h=l.status)==null?void 0:h.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return c.jsx(e,{...l});case"reasoning":return c.jsx(t,{...l});case"source":return c.jsx(r,{...l});case"image":return c.jsx(n,{...l});case"file":return c.jsx(s,{...l});case"audio":return c.jsx(o,{...l});case"data":return null;default:const p=u;throw new Error(`Unknown message part type: ${p}`)}},vc=f.memo(({index:e,components:t})=>c.jsx(cj,{index:e,children:c.jsx(aL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,h,p,m,w,y,b,g,v,x;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((h=t.components)==null?void 0:h.File)&&((p=e.components)==null?void 0:p.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((w=e.components)==null?void 0:w.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((x=t.components)==null?void 0:x.ReasoningGroup)});vc.displayName="MessagePrimitive.PartByIndex";const lL=({status:e,component:t})=>c.jsx(hj,{text:"",isRunning:e.type==="running",children:c.jsx(t,{type:"text",text:"",status:e})}),cL=Object.freeze({type:"complete"}),uL=({components:e})=>{const t=oe(n=>n.message.status??cL);return e!=null&&e.Empty?c.jsx(e.Empty,{status:t}):c.jsx(lL,{status:t,component:(e==null?void 0:e.Text)??br.Text})},P0=f.memo(uL,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),dL=({components:e,enabled:t})=>oe(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?c.jsx(P0,{components:e}):null,fL=f.memo(dL,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),Im=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=oe(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=oL(r),o=f.useMemo(()=>n===0?c.jsx(P0,{components:e}):s.map(i=>{if(i.type==="single")return c.jsx(vc,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?c.jsx(eL,{startIndex:i.startIndex,endIndex:i.endIndex,children:c.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??br.ToolGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(vc,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??br.ReasoningGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(vc,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return c.jsxs(c.Fragment,{children:[o,c.jsx(fL,{components:e,enabled:t})]})};Im.displayName="MessagePrimitive.Parts";const hL=e=>oe(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Mr=({children:e,...t})=>hL(t)?e:null;Mr.displayName="MessagePrimitive.If";const pL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},mL=({components:e})=>{const t=oe(({attachment:r})=>r);if(!t)return null;const n=pL(e,t);return n?c.jsx(n,{}):null},A0=f.memo(({index:e,components:t})=>c.jsx(uj,{index:e,children:c.jsx(mL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});A0.displayName="MessagePrimitive.AttachmentByIndex";const j0=({components:e})=>{const t=oe(({message:r})=>r.role!=="user"?0:r.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(A0,{index:s,components:e},s)),[t,e])};j0.displayName="MessagePrimitive.Attachments";const M0=f.forwardRef(({hideWhenSingleBranch:e,...t},n)=>c.jsx(Mr,{hasBranches:e?!0:void 0,children:c.jsx(an.div,{...t,ref:n})}));M0.displayName="BranchPickerPrimitive.Root";const O0=()=>{const e=xe(),t=oe(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=f.useCallback(()=>{e.composer().send()},[e]);return t?null:n},L0=Vn("ComposerPrimitive.Send",O0),Pm=f.forwardRef(({onSubmit:e,...t},n)=>{const r=O0(),s=o=>{o.preventDefault(),r&&r()};return c.jsx(an.form,{...t,ref:n,onSubmit:re(e,s)})});Pm.displayName="ComposerPrimitive.Root";function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(null,arguments)}function gL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yL=f.useLayoutEffect,vL=function(t){var n=Se.useRef(t);return yL(function(){n.current=t}),n},Gx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},xL=function(t,n){var r=Se.useRef();return Se.useCallback(function(s){t.current=s,r.current&&Gx(r.current,null),r.current=n,n&&Gx(n,s)},[n])},Yx={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},wL=function(t){Object.keys(Yx).forEach(function(n){t.style.setProperty(n,Yx[n],"important")})},Xx=wL,Pt=null,Qx=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function bL(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Pt||(Pt=document.createElement("textarea"),Pt.setAttribute("tabindex","-1"),Pt.setAttribute("aria-hidden","true"),Xx(Pt)),Pt.parentNode===null&&document.body.appendChild(Pt);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(p){var m=p;Pt.style[m]=i[m]}),Xx(Pt),Pt.value=t;var l=Qx(Pt,e);Pt.value=t,l=Qx(Pt,e),Pt.value="x";var u=Pt.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var h=u*r;return a==="border-box"&&(h=h+s+o),l=Math.min(h,l),[l,u]}var Jx=function(){},_L=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},SL=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],CL=!!document.documentElement.currentStyle,kL=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=_L(SL,n),s=r.boxSizing;if(s==="")return null;CL&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},EL=kL;function Am(e,t,n){var r=vL(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var TL=function(t,n){Am(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},NL=function(t){Am(window,"resize",t)},RL=function(t){Am(document.fonts,"loadingdone",t)},IL=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],PL=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?Jx:i,l=t.onHeightChange,u=l===void 0?Jx:l,d=gL(t,IL),h=d.value!==void 0,p=f.useRef(null),m=xL(p,n),w=f.useRef(0),y=f.useRef(),b=function(){var x=p.current,C=r&&y.current?y.current:EL(x);if(C){y.current=C;var N=bL(C,x.value||x.placeholder||"x",o,s),k=N[0],T=N[1];w.current!==k&&(w.current=k,x.style.setProperty("height",k+"px","important"),u(k,{rowHeight:T}))}},g=function(x){h||b(),a(x)};return f.useLayoutEffect(b),TL(p,function(){if(!h){var v=p.current.value;requestAnimationFrame(function(){var x=p.current;x&&v!==x.value&&b()})}}),NL(b),RL(b),f.createElement("textarea",Oh({},d,{onChange:g,ref:m}))},AL=f.forwardRef(PL);const D0=e=>{const t=Xe(e),n=$a(r=>r.onScrollToBottom);f.useEffect(()=>n(t),[n,t])},jm=f.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:h=!0,...p},m)=>{const w=xe(),y=oe(({composer:I})=>I.isEditing?I.text:""),b=t?_C:AL,g=oe(({thread:I,composer:O})=>{var j;return I.isDisabled||((j=O.dictation)==null?void 0:j.inputDisabled)})||n,v=f.useRef(null),x=we(m,v);gm(I=>{var j;if(!a||!((j=v.current)!=null&&j.contains(I.target)))return;const O=w.composer();O.getState().canCancel&&(O.cancel(),I.preventDefault())});const C=I=>{var O,j;g||!i||I.nativeEvent.isComposing||I.key==="Enter"&&I.shiftKey===!1&&(w.thread().getState().isRunning||(I.preventDefault(),(j=(O=v.current)==null?void 0:O.closest("form"))==null||j.requestSubmit()))},N=async I=>{var L;if(!h)return;const O=w.thread().getState().capabilities,j=Array.from(((L=I.clipboardData)==null?void 0:L.files)||[]);if(O.attachments&&j.length>0)try{I.preventDefault(),await Promise.all(j.map(D=>w.composer().addAttachment(D)))}catch(D){console.error("Error adding attachment:",D)}},k=e&&!g,T=f.useCallback(()=>{const I=v.current;!I||!k||(I.focus({preventScroll:!0}),I.setSelectionRange(I.value.length,I.value.length))},[k]);return f.useEffect(()=>T(),[T]),D0(()=>{w.composer().getState().type==="thread"&&u&&T()}),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!l))return w.on("thread.runStart",T)},[l,T,w]),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!d))return w.on("threadListItem.switchedTo",T)},[d,T,w]),c.jsx(b,{name:"input",value:y,...p,ref:x,disabled:g,onChange:re(r,I=>{w.composer().getState().isEditing&&CS(()=>{w.composer().setText(I.target.value)})}),onKeyDown:re(s,C),onPaste:re(o,N)})});jm.displayName="ComposerPrimitive.Input";const jL=()=>{const e=xe(),t=oe(({composer:r})=>!r.canCancel),n=f.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},F0=Vn("ComposerPrimitive.Cancel",jL),ML=({multiple:e=!0}={})=>{const t=oe(({composer:s})=>!s.isEditing),n=xe(),r=f.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},OL=Vn("ComposerPrimitive.AddAttachment",ML,["multiple"]),LL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},DL=({components:e})=>{const t=oe(({attachment:r})=>r);if(!t)return null;const n=LL(e,t);return n?c.jsx(n,{}):null},z0=f.memo(({index:e,components:t})=>c.jsx(dj,{index:e,children:c.jsx(DL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});z0.displayName="ComposerPrimitive.AttachmentByIndex";const B0=({components:e})=>{const t=oe(r=>r.composer.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(z0,{index:s,components:e},s)),[t,e])};B0.displayName="ComposerPrimitive.Attachments";const $0=f.forwardRef((e,t)=>c.jsx(an.div,{...e,ref:t}));$0.displayName="ThreadPrimitive.Root";const U0=({children:e})=>oe(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;U0.displayName="ThreadPrimitive.Empty";const FL=e=>oe(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),Ha=({children:e,...t})=>FL(t)?e:null;Ha.displayName="ThreadPrimitive.If";const zL=e=>{const t=Xe(e),n=f.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return ol(n)},BL=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=f.useRef(null),o=$u();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=f.useRef(0),a=f.useRef(null),l=f.useCallback(m=>{const w=s.current;w&&(a.current=m,w.scrollTo({top:w.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const w=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==w&&Ba(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=zL(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),h=ol(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return D0(({behavior:m})=>{l(m)}),Yd("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),Yd("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),Yd("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),we(d,h,s)},$L=()=>{const e=$a(n=>n.registerViewport),t=f.useCallback(n=>n.clientHeight,[]);return k0(e,t)},H0=f.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=BL({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=$L(),u=we(i,a,l);return c.jsx(an.div,{...o,ref:u,children:s})});H0.displayName="ThreadPrimitive.ViewportScrollable";const V0=f.forwardRef(({turnAnchor:e,...t},n)=>c.jsx(vC,{options:{turnAnchor:e},children:c.jsx(H0,{...t,ref:n})}));V0.displayName="ThreadPrimitive.Viewport";const W0=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,UL=()=>null,HL=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??UL;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},VL=({components:e})=>{const t=oe(({message:s})=>s.role),n=oe(({message:s})=>s.composer.isEditing),r=HL(e,t,n);return c.jsx(r,{})},K0=f.memo(({index:e,components:t})=>c.jsx(lj,{index:e,children:c.jsx(VL,{components:t})}),(e,t)=>e.index===t.index&&W0(e.components,t.components));K0.displayName="ThreadPrimitive.MessageByIndex";const q0=({components:e})=>{const t=oe(({thread:r})=>r.messages.length);return f.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>c.jsx(K0,{index:s,components:e},s)),[t,e])};q0.displayName="ThreadPrimitive.Messages";const WL=f.memo(q0,(e,t)=>W0(e.components,t.components)),KL=({behavior:e}={})=>{const t=$a(s=>s.isAtBottom),n=$u(),r=f.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},qL=Vn("ThreadPrimitive.ScrollToBottom",KL,["behavior"]),GL=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=xe(),i=oe(({thread:u})=>u.isDisabled),a=t??r??!1,l=f.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},G0=Vn("ThreadPrimitive.Suggestion",GL,["prompt","send","clearComposer","autoSend","method"]);var Y0=f.createContext({}),Ie=()=>f.useContext(Y0),X0=({children:e,config:t})=>{const n=!!Cj(),r=t&&Object.keys(t).length>0,s=Ie();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?c.jsx(Y0.Provider,{value:t,children:e}):c.jsx(c.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return c.jsx(xC,{runtime:t.runtime,children:o})};X0.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...XL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Q0("lucide",s),...a},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement(QL,{ref:o,iconNode:t,className:Q0(`lucide-${YL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ZL=Lt("ArrowDown",JL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],tD=Lt("AudioLines",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J0=Lt("Check",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sD=Lt("ChevronLeft",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iD=Lt("ChevronRight",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],lD=Lt("CircleStop",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uD=Lt("CircleX",cD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Z0=Lt("Copy",dD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],hD=Lt("File",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],mD=Lt("Paperclip",pD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],yD=Lt("Pencil",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xD=Lt("RefreshCw",vD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],bD=Lt("SendHorizontal",wD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],SD=Lt("ThumbsDown",_D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],kD=Lt("ThumbsUp",CD);var ek=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ED="VisuallyHidden",tk=f.forwardRef((e,t)=>c.jsx(ue.span,{...e,ref:t,style:{...ek,...e.style}}));tk.displayName=ED;var nk=tk,[Xu]=dr("Tooltip",[Gu]),Qu=Gu(),rk="TooltipProvider",TD=700,Lh="tooltip.open",[ND,Mm]=Xu(rk),sk=e=>{const{__scopeTooltip:t,delayDuration:n=TD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(ND,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};sk.displayName=rk;var Va="Tooltip",[RD,Ju]=Xu(Va),ok=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Mm(Va,e.__scopeTooltip),u=Qu(t),[d,h]=f.useState(null),p=Er(),m=f.useRef(0),w=i??l.disableHoverableContent,y=a??l.delayDuration,b=f.useRef(!1),[g,v]=Xs({prop:r,defaultProp:s??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(Lh))):l.onClose(),o==null||o(T)},caller:Va}),x=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),N=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(r0,{...u,children:c.jsx(RD,{scope:t,contentId:p,open:g,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?k():C()},[l.isOpenDelayedRef,k,C]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(m.current),m.current=0)},[N,w]),onOpen:C,onClose:N,disableHoverableContent:w,children:n})})};ok.displayName=Va;var Dh="TooltipTrigger",ik=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ju(Dh,n),o=Mm(Dh,n),i=Qu(n),a=f.useRef(null),l=we(t,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(s0,{asChild:!0,...i,children:c.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:re(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:re(e.onBlur,s.onClose),onClick:re(e.onClick,s.onClose)})})});ik.displayName=Dh;var ID="TooltipPortal",[U8,PD]=Xu(ID,{forceMount:void 0}),ci="TooltipContent",ak=f.forwardRef((e,t)=>{const n=PD(ci,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Ju(ci,e.__scopeTooltip);return c.jsx(hr,{present:r||i.open,children:i.disableHoverableContent?c.jsx(lk,{side:s,...o,ref:t}):c.jsx(AD,{side:s,...o,ref:t})})}),AD=f.forwardRef((e,t)=>{const n=Ju(ci,e.__scopeTooltip),r=Mm(ci,e.__scopeTooltip),s=f.useRef(null),o=we(t,s),[i,a]=f.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((w,y)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},v=DD(g,b.getBoundingClientRect()),x=FD(g,v),C=zD(y.getBoundingClientRect()),N=$D([...x,...C]);a(N),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),f.useEffect(()=>{if(i){const w=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!BD(g,i);v?p():x&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,i,u,p]),c.jsx(lk,{...e,ref:o})}),[jD,MD]=Xu(Va,{isInside:!1}),OD=Zj("TooltipContent"),lk=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Ju(ci,n),u=Qu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Lh,d),()=>document.removeEventListener(Lh,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(o0,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(OD,{children:r}),c.jsx(jD,{scope:n,isInside:!0,children:c.jsx(nk,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ak.displayName=ci;var ck="TooltipArrow",LD=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Qu(n);return MD(ck,n).isInside?null:c.jsx(i0,{...s,...r,ref:t})});LD.displayName=ck;function DD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function zD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function BD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function $D(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UD(t)}function UD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var uk=sk,HD=ok,VD=ik,WD=ak,dk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(dk);var KD=dk.exports;const J=fi(KD);var qD=({className:e,...t})=>({className:n,...r})=>({className:J(e,n),...t,...r}),Ee=(e,t)=>{const n=qD(t),r=f.forwardRef((s,o)=>{const i=e;return c.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Om=e=>c.jsx(uk,{children:c.jsx(HD,{...e})});Om.displayName="Tooltip";var fk=VD,Lm=Ee(WD,{sideOffset:4,className:"aui-tooltip-content"});Lm.displayName="TooltipContent";function hk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function GD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hk(e))&&(r&&(r+=" "),r+=t);return r}const Zx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ew=GD,YD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ew(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=Zx(d)||Zx(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,h,p]:u},[]);return ew(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var XD=YD("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),Zu=f.forwardRef(({className:e,variant:t,size:n,...r},s)=>c.jsx(ue.button,{className:XD({variant:t,size:n,className:e}),...r,ref:s}));Zu.displayName="Button";var kt=f.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>c.jsxs(Om,{children:[c.jsx(fk,{asChild:!0,children:c.jsxs(Zu,{variant:"ghost",size:"icon",...r,ref:s,children:[e,c.jsx("span",{className:"aui-sr-only",children:t})]})}),c.jsx(Lm,{side:n,children:t})]}));kt.displayName="TooltipIconButton";var QD=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.unstable_copy);return t&&(!e||n)},Dm=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.speech);return t&&(!e||n)},pk=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.reload);return t&&(!e||n)},mk=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.feedback);return t&&(!e||n)},gk=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.feedback);return t&&(!e||n)},yk=()=>{const e=QD(!0),t=pk(!0),n=Dm(!0),r=mk(!0),s=gk(!0);return!e&&!t&&!n&&!r&&!s?null:c.jsxs(Fm,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&c.jsx(vk,{}),e&&c.jsx(zm,{}),t&&c.jsx(Um,{}),r&&c.jsx(Hm,{}),s&&c.jsx(Vm,{})]})};yk.displayName="AssistantActionBar";var Fm=Ee(mm,{className:"aui-assistant-action-bar-root"});Fm.displayName="AssistantActionBarRoot";var zm=f.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=Ie();return c.jsx(SC,{copiedDuration:e,asChild:!0,children:c.jsx(kt,{tooltip:r,...t,ref:n,children:t.children??c.jsxs(c.Fragment,{children:[c.jsx(Mr,{copied:!0,children:c.jsx(J0,{})}),c.jsx(Mr,{copied:!1,children:c.jsx(Z0,{})})]})})})});zm.displayName="AssistantActionBarCopy";var vk=()=>c.jsxs(c.Fragment,{children:[c.jsx(Mr,{speaking:!1,children:c.jsx(Bm,{})}),c.jsx(Mr,{speaking:!0,children:c.jsx($m,{})})]}),Bm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=Ie(),r=Dm();return c.jsx(Hj,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(tD,{})})})});Bm.displayName="AssistantActionBarSpeak";var $m=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=Ie(),r=Dm();return c.jsx(CC,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(lD,{})})})});$m.displayName="AssistantActionBarStopSpeaking";var Um=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=Ie(),r=pk();return c.jsx(zj,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(xD,{})})})});Um.displayName="AssistantActionBarReload";var Hm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=Ie(),r=mk();return c.jsx(kC,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(kD,{})})})});Hm.displayName="AssistantActionBarFeedbackPositive";var Vm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=Ie(),r=gk();return c.jsx(EC,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(SD,{})})})});Vm.displayName="AssistantActionBarFeedbackNegative";var JD={Root:Fm,Reload:Um,Copy:zm,Speak:Bm,StopSpeaking:$m,SpeechControl:vk,FeedbackPositive:Hm,FeedbackNegative:Vm},xk=Object.assign(yk,JD),Wm=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.edit);return t&&(!e||n)},wk=()=>Wm(!0)?c.jsxs(Km,{hideWhenSingleBranch:!0,children:[c.jsx(qm,{}),c.jsx(bk,{}),c.jsx(Gm,{})]}):null;wk.displayName="BranchPicker";var Km=Ee(M0,{className:"aui-branch-picker-root"});Km.displayName="BranchPickerRoot";var qm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=Ie(),r=Wm();return c.jsx(qO,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(sD,{})})})});qm.displayName="BranchPickerPrevious";var ZD=Ee("span",{className:"aui-branch-picker-state"}),bk=f.forwardRef((e,t)=>c.jsxs(ZD,{...e,ref:t,children:[c.jsx(C0,{})," / ",c.jsx(S0,{})]}));bk.displayName="BranchPickerState";var Gm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=Ie(),r=Wm();return c.jsx(WO,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(iD,{})})})});Gm.displayName="BranchPickerNext";var eF={Root:Km,Previous:qm,Next:Gm},ed=Object.assign(wk,eF),_k={exports:{}},Sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=f;function tF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nF=typeof Object.is=="function"?Object.is:tF,rF=ui.useState,sF=ui.useEffect,oF=ui.useLayoutEffect,iF=ui.useDebugValue;function aF(e,t){var n=t(),r=rF({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return oF(function(){s.value=n,s.getSnapshot=t,pf(s)&&o({inst:s})},[e,n,t]),sF(function(){return pf(s)&&o({inst:s}),e(function(){pf(s)&&o({inst:s})})},[e]),iF(n),n}function pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nF(e,n)}catch{return!0}}function lF(e,t){return t()}var cF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lF:aF;Sk.useSyncExternalStore=ui.useSyncExternalStore!==void 0?ui.useSyncExternalStore:cF;_k.exports=Sk;var uF=_k.exports;function dF(){return uF.useSyncExternalStore(fF,()=>!0,()=>!1)}function fF(){return()=>{}}var Ym="Avatar",[hF]=dr(Ym),[pF,Ck]=hF(Ym),kk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return c.jsx(pF,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(ue.span,{...r,ref:t})})});kk.displayName=Ym;var Ek="AvatarImage",Tk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=Ck(Ek,n),a=mF(r,o),l=Xe(u=>{s(u),i.onImageLoadingStatusChange(u)});return nt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ue.img,{...o,ref:t,src:r}):null});Tk.displayName=Ek;var Nk="AvatarFallback",Xm=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=Ck(Nk,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(ue.span,{...s,ref:t}):null});Xm.displayName=Nk;function tw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mF(e,{referrerPolicy:t,crossOrigin:n}){const r=dF(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=f.useState(()=>tw(o,e));return nt(()=>{a(tw(o,e))},[o,e]),nt(()=>{const l=h=>()=>{a(h)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var gF=kk,yF=Tk,vF=Xm,Qm=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:c.jsxs(Jm,{children:[e!=null&&c.jsx(Zm,{src:e,alt:t}),n!=null&&c.jsx(Rk,{children:n})]});Qm.displayName="Avatar";var Jm=Ee(gF,{className:"aui-avatar-root"});Jm.displayName="AvatarRoot";var Zm=Ee(yF,{className:"aui-avatar-image"});Zm.displayName="AvatarImage";var Rk=Ee(vF,{className:"aui-avatar-fallback"});Rk.displayName="AvatarFallback";var{useSmoothStatus:xF,withSmoothContextProvider:wF}=hm,bF=()=>{const e=xF();return c.jsx(Rm,{className:J("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},_F={Text:wF(bF)},Ik=_F,Pk=()=>c.jsxs(eg,{children:[c.jsx(Ak,{}),c.jsx(tg,{}),c.jsx(ed,{}),c.jsx(xk,{})]});Pk.displayName="AssistantMessage";var Ak=()=>{const{assistantAvatar:e={fallback:"A"}}=Ie();return c.jsx(Qm,{...e})},eg=Ee(Nm,{className:"aui-assistant-message-root"});eg.displayName="AssistantMessageRoot";var SF=Ee("div",{className:"aui-assistant-message-content"}),tg=f.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=Ie(),o=f.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return c.jsxs(SF,{...t,ref:n,children:[c.jsx(Im,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??Ik.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&c.jsx(i,{})]})});tg.displayName="AssistantMessageContent";var CF={Root:eg,Avatar:Ak,Content:tg},xc=Object.assign(Pk,CF),jk=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:c.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});jk.displayName="CircleStopIcon";var td="Dialog",[Mk]=dr(td),[kF,Wn]=Mk(td),Ok=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[u,d]=Xs({prop:r,defaultProp:s??!1,onChange:o,caller:td});return c.jsx(kF,{scope:t,triggerRef:a,contentRef:l,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};Ok.displayName=td;var Lk="DialogTrigger",Dk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Lk,n),o=we(t,s.triggerRef);return c.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":og(s.open),...r,ref:o,onClick:re(e.onClick,s.onOpenToggle)})});Dk.displayName=Lk;var ng="DialogPortal",[EF,Fk]=Mk(ng,{forceMount:void 0}),zk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Wn(ng,t);return c.jsx(EF,{scope:t,forceMount:n,children:f.Children.map(r,i=>c.jsx(hr,{present:n||o.open,children:c.jsx(Em,{asChild:!0,container:s,children:i})}))})};zk.displayName=ng;var au="DialogOverlay",Bk=f.forwardRef((e,t)=>{const n=Fk(au,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(au,e.__scopeDialog);return o.modal?c.jsx(hr,{present:r||o.open,children:c.jsx(NF,{...s,ref:t})}):null});Bk.displayName=au;var TF=ai("DialogOverlay.RemoveScroll"),NF=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(au,n);return c.jsx(Tm,{as:TF,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ue.div,{"data-state":og(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Js="DialogContent",$k=f.forwardRef((e,t)=>{const n=Fk(Js,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(Js,e.__scopeDialog);return c.jsx(hr,{present:r||o.open,children:o.modal?c.jsx(RF,{...s,ref:t}):c.jsx(IF,{...s,ref:t})})});$k.displayName=Js;var RF=f.forwardRef((e,t)=>{const n=Wn(Js,e.__scopeDialog),r=f.useRef(null),s=we(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return p0(o)},[]),c.jsx(Uk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:re(e.onFocusOutside,o=>o.preventDefault())})}),IF=f.forwardRef((e,t)=>{const n=Wn(Js,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return c.jsx(Uk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Uk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Wn(Js,n),l=f.useRef(null),u=we(t,l);return jC(),c.jsxs(c.Fragment,{children:[c.jsx(ym,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Hu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":og(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(PF,{titleId:a.titleId}),c.jsx(jF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rg="DialogTitle",sg=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(rg,n);return c.jsx(ue.h2,{id:s.titleId,...r,ref:t})});sg.displayName=rg;var Hk="DialogDescription",Vk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Hk,n);return c.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});Vk.displayName=Hk;var Wk="DialogClose",Kk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Wk,n);return c.jsx(ue.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});Kk.displayName=Wk;function og(e){return e?"open":"closed"}var qk="DialogTitleWarning",[H8,Gk]=qj(qk,{contentName:Js,titleName:rg,docsSlug:"dialog"}),PF=({titleId:e})=>{const t=Gk(qk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},AF="DialogDescriptionWarning",jF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gk(AF).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Yk=Ok,Xk=Dk,Qk=zk,ig=Bk,ag=$k,MF=sg,OF=Vk,LF=Kk,DF=Yk,FF=Xk,zF=Qk,Jk=f.forwardRef(({className:e,...t},n)=>c.jsx(ig,{ref:n,className:J("aui-dialog-overlay",e),...t}));Jk.displayName=ig.displayName;var Zk=f.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(zF,{children:[c.jsx(Jk,{}),c.jsx(ag,{ref:r,className:J("aui-dialog-content",e),...n,children:t})]}));Zk.displayName=ag.displayName;var lg=Ee(_0,{className:"aui-attachment-root"}),BF=Ee("div",{className:"aui-attachment-content"});lg.displayName="AttachmentRoot";var $F=e=>{const[t,n]=f.useState(void 0);return f.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},e1=()=>{const{file:e,src:t}=tu(I0(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return $F(e)??t},UF=({src:e})=>{const[t,n]=f.useState(!1);return c.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},HF=({children:e})=>{const t=e1();return t?c.jsxs(DF,{children:[c.jsx(FF,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),c.jsxs(Zk,{children:[c.jsx(sg,{className:"aui-sr-only",children:"Image Attachment Preview"}),c.jsx(UF,{src:t})]})]}):e},VF=()=>{const e=tu(n=>n.type==="image"),t=e1();return c.jsxs(Jm,{className:"aui-attachment-thumb",children:[c.jsx(Xm,{delayMs:e?200:0,children:c.jsx(hD,{})}),c.jsx(Zm,{src:t})]})},t1=()=>{const e=tu(n=>n.source!=="message"),t=tu(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return c.jsxs(Om,{children:[c.jsxs(lg,{children:[c.jsx(HF,{children:c.jsx(fk,{asChild:!0,children:c.jsxs(BF,{children:[c.jsx(VF,{}),c.jsxs("div",{className:"aui-attachment-text",children:[c.jsx("p",{className:"aui-attachment-name",children:c.jsx(Mh,{})}),c.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&c.jsx(cg,{})]}),c.jsx(Lm,{side:"top",children:c.jsx(Mh,{})})]})};t1.displayName="Attachment";var cg=f.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=Ie();return c.jsx(HO,{asChild:!0,children:c.jsx(kt,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??c.jsx(uD,{})})})});cg.displayName="AttachmentRemove";var WF={Root:lg,Remove:cg},n1=Object.assign(t1,WF),r1=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.attachments);return t&&(!e||n)},s1=()=>{const e=r1(!0);return c.jsxs(ug,{children:[e&&c.jsx(o1,{}),e&&c.jsx(fg,{}),c.jsx(dg,{autoFocus:!0}),c.jsx(hg,{})]})};s1.displayName="Composer";var ug=Ee(Pm,{className:"aui-composer-root"});ug.displayName="ComposerRoot";var KF=Ee(jm,{rows:1,autoFocus:!0,className:"aui-composer-input"}),dg=f.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=Ie();return c.jsx(KF,{placeholder:n,...e,ref:t})});dg.displayName="ComposerInput";var qF=Ee("div",{className:"aui-composer-attachments"}),o1=({components:e})=>c.jsx(qF,{children:c.jsx(B0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??n1}})}),GF=Ee(kt,{variant:"default",className:"aui-composer-attach"}),fg=f.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=Ie(),r=r1();return c.jsx(OL,{disabled:!r,asChild:!0,children:c.jsx(GF,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??c.jsx(mD,{})})})});fg.displayName="ComposerAddAttachment";var YF=()=>Hn(t=>t.capabilities.cancel),hg=()=>YF()?c.jsxs(c.Fragment,{children:[c.jsx(Ha,{running:!1,children:c.jsx(lu,{})}),c.jsx(Ha,{running:!0,children:c.jsx(pg,{})})]}):c.jsx(lu,{});hg.displayName="ComposerAction";var XF=Ee(kt,{variant:"default",className:"aui-composer-send"}),lu=f.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=Ie();return c.jsx(L0,{asChild:!0,children:c.jsx(XF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(bD,{})})})});lu.displayName="ComposerSend";var QF=Ee(kt,{variant:"default",className:"aui-composer-cancel"}),pg=f.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=Ie();return c.jsx(F0,{asChild:!0,children:c.jsx(QF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(jk,{})})})});pg.displayName="ComposerCancel";var JF={Root:ug,Input:dg,Action:hg,Send:lu,Cancel:pg,AddAttachment:fg,Attachments:o1},ZF=Object.assign(s1,JF),i1=()=>c.jsxs(mg,{children:[c.jsxs(a1,{children:[c.jsx(l1,{}),c.jsx(gg,{})]}),c.jsx(yg,{})]});i1.displayName="ThreadWelcome";var ez=Ee("div",{className:"aui-thread-welcome-root"}),a1=Ee("div",{className:"aui-thread-welcome-center"}),mg=f.forwardRef((e,t)=>c.jsx(U0,{children:c.jsx(ez,{...e,ref:t})}));mg.displayName="ThreadWelcomeRoot";var l1=()=>{const{assistantAvatar:e={fallback:"A"}}=Ie();return c.jsx(Qm,{...e})},tz=Ee("p",{className:"aui-thread-welcome-message"}),gg=f.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=Ie();return c.jsx(tz,{...t,ref:n,children:e??r??s})});gg.displayName="ThreadWelcomeMessage";var nz=Ee("div",{className:"aui-thread-welcome-suggestions"}),rz=Ee(G0,{className:"aui-thread-welcome-suggestion"}),c1=({suggestion:{text:e,prompt:t}})=>c.jsx(rz,{prompt:t,method:"replace",autoSend:!0,children:c.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),yg=()=>{const e=Hn(r=>r.suggestions),{welcome:{suggestions:t}={}}=Ie(),n=e.length?e:t;return c.jsx(nz,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return c.jsx(c1,{suggestion:r},o)})})};yg.displayName="ThreadWelcomeSuggestions";var sz={Root:mg,Center:a1,Avatar:l1,Message:gg,Suggestions:yg,Suggestion:c1},oz=Object.assign(i1,sz),u1=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=Ie(),n=Hn(r=>r.capabilities.edit);return t&&(!e||n)},d1=()=>u1(!0)?c.jsx(vg,{hideWhenRunning:!0,autohide:"not-last",children:c.jsx(xg,{})}):null;d1.displayName="UserActionBar";var vg=Ee(mm,{className:"aui-user-action-bar-root"});vg.displayName="UserActionBarRoot";var xg=f.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=Ie(),r=u1();return c.jsx($j,{disabled:!r,asChild:!0,children:c.jsx(kt,{tooltip:n,...e,ref:t,children:e.children??c.jsx(yD,{})})})});xg.displayName="UserActionBarEdit";var iz={Root:vg,Edit:xg},f1=Object.assign(d1,iz),h1=()=>c.jsxs(wg,{children:[c.jsx(p1,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(f1,{}),c.jsx(bg,{})]}),c.jsx(ed,{})]});h1.displayName="UserMessage";var wg=Ee(Nm,{className:"aui-user-message-root"});wg.displayName="UserMessageRoot";var az=Ee("div",{className:"aui-user-message-content"}),bg=f.forwardRef(({components:e,...t},n)=>c.jsx(az,{...t,ref:n,children:c.jsx(Im,{components:{...e,Text:(e==null?void 0:e.Text)??Ik.Text}})}));bg.displayName="UserMessageContent";var lz=Ee("div",{className:"aui-user-message-attachments"}),p1=({components:e})=>c.jsx(Mr,{hasAttachments:!0,children:c.jsx(lz,{children:c.jsx(j0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??n1}})})}),cz={Root:wg,Content:bg,Attachments:p1},wc=Object.assign(h1,cz),m1=()=>c.jsxs(_g,{children:[c.jsx(Sg,{}),c.jsxs(Cg,{children:[c.jsx(kg,{}),c.jsx(Eg,{})]})]});m1.displayName="EditComposer";var _g=Ee(Pm,{className:"aui-edit-composer-root"});_g.displayName="EditComposerRoot";var Sg=Ee(jm,{className:"aui-edit-composer-input"});Sg.displayName="EditComposerInput";var Cg=Ee("div",{className:"aui-edit-composer-footer"});Cg.displayName="EditComposerFooter";var kg=f.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=Ie();return c.jsx(F0,{asChild:!0,children:c.jsx(Zu,{variant:"ghost",...e,ref:t,children:e.children??n})})});kg.displayName="EditComposerCancel";var Eg=f.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=Ie();return c.jsx(L0,{asChild:!0,children:c.jsx(Zu,{...e,ref:t,children:e.children??n})})});Eg.displayName="EditComposerSend";var uz={Root:_g,Input:Sg,Footer:Cg,Cancel:kg,Send:Eg},dz=Object.assign(m1,uz),fz=e=>{const{components:{Composer:t=ZF,ThreadWelcome:n=oz,MessagesFooter:r,...s}={}}=e;return c.jsx(Tg,{config:e,children:c.jsxs(Ng,{children:[c.jsx(n,{}),c.jsx(Ig,{MessagesFooter:r,components:s}),c.jsx(g1,{}),c.jsxs(Rg,{children:[c.jsx(Pg,{}),c.jsx(t,{})]})]})})},hz=Ee($0,{className:"aui-root aui-thread-root"}),Tg=f.forwardRef(({config:e,...t},n)=>c.jsx(X0,{config:e,children:c.jsx(hz,{...t,ref:n})}));Tg.displayName="ThreadRoot";var Ng=Ee(V0,{className:"aui-thread-viewport"});Ng.displayName="ThreadViewport";var Rg=Ee("div",{className:"aui-thread-viewport-footer"});Rg.displayName="ThreadViewportFooter";var Ig=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>c.jsxs(c.Fragment,{children:[c.jsx(WL,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??wc,AssistantMessage:(e==null?void 0:e.AssistantMessage)??xc,EditComposer:(e==null?void 0:e.EditComposer)??dz},...r}),t&&c.jsx(t,{}),n&&c.jsx(Ha,{empty:!1,children:c.jsx("div",{style:{flexGrow:1}})})]});Ig.displayName="ThreadMessages";var g1=()=>{const e=Hn(t=>t.suggestions);return c.jsx(Ha,{empty:!1,running:!1,children:c.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>c.jsx(G0,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},pz=Ee(kt,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),Pg=f.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=Ie();return c.jsx(qL,{asChild:!0,children:c.jsx(pz,{tooltip:n,...e,ref:t,children:e.children??c.jsx(ZL,{})})})});Pg.displayName="ThreadScrollToBottom";var mz={Root:Tg,Viewport:Ng,Messages:Ig,FollowupSuggestions:g1,ScrollToBottom:Pg,ViewportFooter:Rg},gz=Object.assign(fz,mz),yz=({copiedDuration:e=3e3}={})=>{const[t,n]=f.useState(!1);return{isCopied:t,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},vz=({language:e,code:t})=>{const{strings:{code:{header:{copy:{tooltip:n="Copy"}={}}={}}={}}={}}=Ie(),{isCopied:r,copyToClipboard:s}=yz(),o=()=>{!t||r||s(t)};return c.jsxs("div",{className:"aui-code-header-root",children:[c.jsx("span",{className:"aui-code-header-language",children:e}),c.jsxs(kt,{tooltip:n,onClick:o,children:[!r&&c.jsx(Z0,{}),r&&c.jsx(J0,{})]})]})};function xz(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_z={};function nw(e,t){return(_z.jsx?bz:wz).test(e)}const Sz=/[ \t\n\f\r]/g;function Cz(e){return typeof e=="object"?e.type==="text"?rw(e.value):!1:rw(e)}function rw(e){return e.replace(Sz,"")===""}class il{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}il.prototype.normal={};il.prototype.property={};il.prototype.space=void 0;function y1(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new il(n,r,t)}function Fh(e){return e.toLowerCase()}class qt{constructor(t,n){this.attribute=n,this.property=t}}qt.prototype.attribute="";qt.prototype.booleanish=!1;qt.prototype.boolean=!1;qt.prototype.commaOrSpaceSeparated=!1;qt.prototype.commaSeparated=!1;qt.prototype.defined=!1;qt.prototype.mustUseProperty=!1;qt.prototype.number=!1;qt.prototype.overloadedBoolean=!1;qt.prototype.property="";qt.prototype.spaceSeparated=!1;qt.prototype.space=void 0;let kz=0;const de=so(),et=so(),zh=so(),B=so(),Le=so(),Yo=so(),Yt=so();function so(){return 2**++kz}const Bh=Object.freeze(Object.defineProperty({__proto__:null,boolean:de,booleanish:et,commaOrSpaceSeparated:Yt,commaSeparated:Yo,number:B,overloadedBoolean:zh,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),mf=Object.keys(Bh);class Ag extends qt{constructor(t,n,r,s){let o=-1;if(super(t,n),sw(this,"space",s),typeof r=="number")for(;++o<mf.length;){const i=mf[o];sw(this,mf[o],(r&Bh[i])===Bh[i])}}}Ag.prototype.defined=!0;function sw(e,t,n){n&&(e[t]=n)}function wi(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Ag(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Fh(r)]=r,n[Fh(o.attribute)]=r}return new il(t,n,e.space)}const v1=wi({properties:{ariaActiveDescendant:null,ariaAtomic:et,ariaAutoComplete:null,ariaBusy:et,ariaChecked:et,ariaColCount:B,ariaColIndex:B,ariaColSpan:B,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:et,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:et,ariaFlowTo:Le,ariaGrabbed:et,ariaHasPopup:null,ariaHidden:et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:B,ariaLive:null,ariaModal:et,ariaMultiLine:et,ariaMultiSelectable:et,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:B,ariaPressed:et,ariaReadOnly:et,ariaRelevant:null,ariaRequired:et,ariaRoleDescription:Le,ariaRowCount:B,ariaRowIndex:B,ariaRowSpan:B,ariaSelected:et,ariaSetSize:B,ariaSort:null,ariaValueMax:B,ariaValueMin:B,ariaValueNow:B,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function x1(e,t){return t in e?e[t]:t}function w1(e,t){return x1(e,t.toLowerCase())}const Ez=wi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Yo,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:de,allowPaymentRequest:de,allowUserMedia:de,alt:null,as:null,async:de,autoCapitalize:null,autoComplete:Le,autoFocus:de,autoPlay:de,blocking:Le,capture:null,charSet:null,checked:de,cite:null,className:Le,cols:B,colSpan:null,content:null,contentEditable:et,controls:de,controlsList:Le,coords:B|Yo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:de,defer:de,dir:null,dirName:null,disabled:de,download:zh,draggable:et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:de,formTarget:null,headers:Le,height:B,hidden:zh,high:B,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:de,inputMode:null,integrity:null,is:null,isMap:de,itemId:null,itemProp:Le,itemRef:Le,itemScope:de,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:de,low:B,manifest:null,max:null,maxLength:B,media:null,method:null,min:null,minLength:B,multiple:de,muted:de,name:null,nonce:null,noModule:de,noValidate:de,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:de,optimum:B,pattern:null,ping:Le,placeholder:null,playsInline:de,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:de,referrerPolicy:null,rel:Le,required:de,reversed:de,rows:B,rowSpan:B,sandbox:Le,scope:null,scoped:de,seamless:de,selected:de,shadowRootClonable:de,shadowRootDelegatesFocus:de,shadowRootMode:null,shape:null,size:B,sizes:null,slot:null,span:B,spellCheck:et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:B,step:null,style:null,tabIndex:B,target:null,title:null,translate:null,type:null,typeMustMatch:de,useMap:null,value:et,width:B,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:B,borderColor:null,bottomMargin:B,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:de,declare:de,event:null,face:null,frame:null,frameBorder:null,hSpace:B,leftMargin:B,link:null,longDesc:null,lowSrc:null,marginHeight:B,marginWidth:B,noResize:de,noHref:de,noShade:de,noWrap:de,object:null,profile:null,prompt:null,rev:null,rightMargin:B,rules:null,scheme:null,scrolling:et,standby:null,summary:null,text:null,topMargin:B,valueType:null,version:null,vAlign:null,vLink:null,vSpace:B,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:de,disableRemotePlayback:de,prefix:null,property:null,results:B,security:null,unselectable:null},space:"html",transform:w1}),Tz=wi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Yt,accentHeight:B,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:B,amplitude:B,arabicForm:null,ascent:B,attributeName:null,attributeType:null,azimuth:B,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:B,by:null,calcMode:null,capHeight:B,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:B,diffuseConstant:B,direction:null,display:null,dur:null,divisor:B,dominantBaseline:null,download:de,dx:null,dy:null,edgeMode:null,editable:null,elevation:B,enableBackground:null,end:null,event:null,exponent:B,externalResourcesRequired:null,fill:null,fillOpacity:B,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Yo,g2:Yo,glyphName:Yo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:B,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:B,horizOriginX:B,horizOriginY:B,id:null,ideographic:B,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:B,k:B,k1:B,k2:B,k3:B,k4:B,kernelMatrix:Yt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:B,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:B,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:B,overlineThickness:B,paintOrder:null,panose1:null,path:null,pathLength:B,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:B,pointsAtY:B,pointsAtZ:B,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Yt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Yt,rev:Yt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Yt,requiredFeatures:Yt,requiredFonts:Yt,requiredFormats:Yt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:B,specularExponent:B,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:B,strikethroughThickness:B,string:null,stroke:null,strokeDashArray:Yt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:B,strokeOpacity:B,strokeWidth:null,style:null,surfaceScale:B,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Yt,tabIndex:B,tableValues:null,target:null,targetX:B,targetY:B,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Yt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:B,underlineThickness:B,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:B,values:null,vAlphabetic:B,vMathematical:B,vectorEffect:null,vHanging:B,vIdeographic:B,version:null,vertAdvY:B,vertOriginX:B,vertOriginY:B,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:B,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:x1}),b1=wi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_1=wi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:w1}),S1=wi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Nz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Rz=/[A-Z]/g,ow=/-[a-z]/g,Iz=/^data[-\w.:]+$/i;function Pz(e,t){const n=Fh(t);let r=t,s=qt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Iz.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(ow,jz);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!ow.test(o)){let i=o.replace(Rz,Az);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=Ag}return new s(r,t)}function Az(e){return"-"+e.toLowerCase()}function jz(e){return e.charAt(1).toUpperCase()}const Mz=y1([v1,Ez,b1,_1,S1],"html"),jg=y1([v1,Tz,b1,_1,S1],"svg");function Oz(e){return e.join(" ").trim()}var Mg={},iw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Lz=/\n/g,Dz=/^\s*/,Fz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,zz=/^:\s*/,Bz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,$z=/^[;\s]*/,Uz=/^\s+|\s+$/g,Hz=`
`,aw="/",lw="*",Ds="",Vz="comment",Wz="declaration";function Kz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(w){var y=w.match(Lz);y&&(n+=y.length);var b=w.lastIndexOf(Hz);r=~b?w.length-b:r+w.length}function o(){var w={line:n,column:r};return function(y){return y.position=new i(w),u(),y}}function i(w){this.start=w,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function a(w){var y=new Error(t.source+":"+n+":"+r+": "+w);if(y.reason=w,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(w){var y=w.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function u(){l(Dz)}function d(w){var y;for(w=w||[];y=h();)y!==!1&&w.push(y);return w}function h(){var w=o();if(!(aw!=e.charAt(0)||lw!=e.charAt(1))){for(var y=2;Ds!=e.charAt(y)&&(lw!=e.charAt(y)||aw!=e.charAt(y+1));)++y;if(y+=2,Ds===e.charAt(y-1))return a("End of comment missing");var b=e.slice(2,y-2);return r+=2,s(b),e=e.slice(y),r+=2,w({type:Vz,comment:b})}}function p(){var w=o(),y=l(Fz);if(y){if(h(),!l(zz))return a("property missing ':'");var b=l(Bz),g=w({type:Wz,property:cw(y[0].replace(iw,Ds)),value:b?cw(b[0].replace(iw,Ds)):Ds});return l($z),g}}function m(){var w=[];d(w);for(var y;y=p();)y!==!1&&(w.push(y),d(w));return w}return u(),m()}function cw(e){return e?e.replace(Uz,Ds):Ds}var qz=Kz,Gz=kc&&kc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=Xz;const Yz=Gz(qz);function Xz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Yz.default)(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:a}=o;s?t(i,a,o):a&&(n=n||{},n[i]=a)}),n}var nd={};Object.defineProperty(nd,"__esModule",{value:!0});nd.camelCase=void 0;var Qz=/^--[a-zA-Z0-9_-]+$/,Jz=/-([a-z])/g,Zz=/^[^-]+$/,eB=/^-(webkit|moz|ms|o|khtml)-/,tB=/^-(ms)-/,nB=function(e){return!e||Zz.test(e)||Qz.test(e)},rB=function(e,t){return t.toUpperCase()},uw=function(e,t){return"".concat(t,"-")},sB=function(e,t){return t===void 0&&(t={}),nB(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(tB,uw):e=e.replace(eB,uw),e.replace(Jz,rB))};nd.camelCase=sB;var oB=kc&&kc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},iB=oB(Mg),aB=nd;function $h(e,t){var n={};return!e||typeof e!="string"||(0,iB.default)(e,function(r,s){r&&s&&(n[(0,aB.camelCase)(r,t)]=s)}),n}$h.default=$h;var lB=$h;const cB=fi(lB),C1=k1("end"),Og=k1("start");function k1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function uB(e){const t=Og(e),n=C1(e);if(t&&n)return{start:t,end:n}}function ma(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dw(e.position):"start"in e||"end"in e?dw(e):"line"in e||"column"in e?Uh(e):""}function Uh(e){return fw(e&&e.line)+":"+fw(e&&e.column)}function dw(e){return Uh(e&&e.start)+"-"+Uh(e&&e.end)}function fw(e){return e&&typeof e=="number"?e:1}class Et extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},i=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(i=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=ma(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Et.prototype.file="";Et.prototype.name="";Et.prototype.reason="";Et.prototype.message="";Et.prototype.stack="";Et.prototype.column=void 0;Et.prototype.line=void 0;Et.prototype.ancestors=void 0;Et.prototype.cause=void 0;Et.prototype.fatal=void 0;Et.prototype.place=void 0;Et.prototype.ruleId=void 0;Et.prototype.source=void 0;const Lg={}.hasOwnProperty,dB=new Map,fB=/[A-Z]/g,hB=new Set(["table","tbody","thead","tfoot","tr"]),pB=new Set(["td","th"]),E1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mB(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=SB(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=_B(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?jg:Mz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=T1(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function T1(e,t,n){if(t.type==="element")return gB(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return yB(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return xB(e,t,n);if(t.type==="mdxjsEsm")return vB(e,t);if(t.type==="root")return wB(e,t,n);if(t.type==="text")return bB(e,t)}function gB(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=jg,e.schema=s),e.ancestors.push(t);const o=R1(e,t.tagName,!1),i=CB(e,t);let a=Fg(e,t);return hB.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Cz(l):!0})),N1(e,i,o,t),Dg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function yB(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Wa(e,t.position)}function vB(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Wa(e,t.position)}function xB(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=jg,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:R1(e,t.name,!0),i=kB(e,t),a=Fg(e,t);return N1(e,i,o,t),Dg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function wB(e,t,n){const r={};return Dg(r,Fg(e,t)),e.create(t,e.Fragment,r,n)}function bB(e,t){return t.value}function N1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Dg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function _B(e,t,n){return r;function r(s,o,i,a){const u=Array.isArray(i.children)?n:t;return a?u(o,i,a):u(o,i)}}function SB(e,t){return n;function n(r,s,o,i){const a=Array.isArray(o.children),l=Og(r);return t(s,o,i,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function CB(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Lg.call(t.properties,s)){const o=EB(e,s,t.properties[s]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&i==="align"&&typeof a=="string"&&pB.has(t.tagName)?r=a:n[i]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kB(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Wa(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else Wa(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function Fg(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:dB;for(;++r<t.children.length;){const o=t.children[r];let i;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=s.get(l)||0;i=l+"-"+u,s.set(l,u+1)}}const a=T1(e,o,i);a!==void 0&&n.push(a)}return n}function EB(e,t,n){const r=Pz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xz(n):Oz(n)),r.property==="style"){let s=typeof n=="object"?n:TB(e,String(n));return e.stylePropertyNameCase==="css"&&(s=NB(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?Nz[r.property]||r.property:r.attribute,n]}}function TB(e,t){try{return cB(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Et("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=E1+"#cannot-parse-style-attribute",s}}function R1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,i;for(;++o<s.length;){const a=nw(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};i=i?{type:"MemberExpression",object:i,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=i}else r=nw(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Lg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Wa(e)}function Wa(e,t){const n=new Et("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=E1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function NB(e){const t={};let n;for(n in e)Lg.call(e,n)&&(t[RB(n)]=e[n]);return t}function RB(e){let t=e.replace(fB,IB);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function IB(e){return"-"+e.toLowerCase()}const gf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},PB={};function AB(e,t){const n=PB,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return I1(e,r,s)}function I1(e,t,n){if(jB(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hw(e.children,t,n)}return Array.isArray(e)?hw(e,t,n):""}function hw(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=I1(e[s],t,n);return r.join("")}function jB(e){return!!(e&&typeof e=="object")}const pw=document.createElement("i");function zg(e){const t="&"+e+";";pw.innerHTML=t;const n=pw.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function cr(e,t,n,r){const s=e.length;let o=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function yn(e,t){return e.length>0?(cr(e,e.length,0,t),e):t}const mw={}.hasOwnProperty;function MB(e){const t={};let n=-1;for(;++n<e.length;)OB(t,e[n]);return t}function OB(e,t){let n;for(n in t){const s=(mw.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){mw.call(s,i)||(s[i]=[]);const a=o[i];LB(s[i],Array.isArray(a)?a:a?[a]:[])}}}function LB(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);cr(e,0,0,r)}function P1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Xo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nr=Cs(/[A-Za-z]/),en=Cs(/[\dA-Za-z]/),DB=Cs(/[#-'*+\--9=?A-Z^-~]/);function Hh(e){return e!==null&&(e<32||e===127)}const Vh=Cs(/\d/),FB=Cs(/[\dA-Fa-f]/),zB=Cs(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function Kt(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const BB=Cs(new RegExp("\\p{P}|\\p{S}","u")),$B=Cs(/\s/);function Cs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function bi(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let i="";if(o===37&&en(e.charCodeAt(n+1))&&en(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(i=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(i=String.fromCharCode(o,a),s=1):i=""}else i=String.fromCharCode(o);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return i;function i(l){return Pe(l)?(e.enter(n),a(l)):t(l)}function a(l){return Pe(l)&&o++<s?(e.consume(l),a):(e.exit(n),t(l))}}const UB={tokenize:HB};function HB(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(a)}function i(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return le(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),i)}}const VB={tokenize:WB},gw={tokenize:KB};function WB(e){const t=this,n=[];let r=0,s,o,i;return a;function a(x){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const C=t.events.length;let N=C,k;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){k=t.events[N][1].end;break}g(r);let T=C;for(;T<t.events.length;)t.events[T][1].end={...k},T++;return cr(t.events,N+1,0,t.events.slice(C)),t.events.length=T,u(x)}return a(x)}function u(x){if(r===n.length){if(!s)return p(x);if(s.currentConstruct&&s.currentConstruct.concrete)return w(x);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gw,d,h)(x)}function d(x){return s&&v(),g(r),p(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,w(x)}function p(x){return t.containerState={},e.attempt(gw,m,w)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),p(x)}function w(x){if(x===null){s&&v(),g(0),e.consume(x);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),y(x)}function y(x){if(x===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return le(x)?(e.consume(x),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),y)}function b(x,C){const N=t.sliceStream(x);if(C&&N.push(null),x.previous=o,o&&(o.next=x),o=x,s.defineSkip(x.start),s.write(N),t.parser.lazy[x.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<i&&(!s.events[k][1].end||s.events[k][1].end.offset>i))return;const T=t.events.length;let I=T,O,j;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(O){j=t.events[I][1].end;break}O=!0}for(g(r),k=T;k<t.events.length;)t.events[k][1].end={...j},k++;cr(t.events,I+1,0,t.events.slice(T)),t.events.length=k}}function g(x){let C=n.length;for(;C-- >x;){const N=n[C];t.containerState=N[1],N[0].exit.call(t,e)}n.length=x}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function KB(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yw(e){if(e===null||Kt(e)||$B(e))return 1;if(BB(e))return 2}function Bg(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Wh={name:"attention",resolveAll:qB,tokenize:GB};function qB(e,t){let n=-1,r,s,o,i,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};vw(h,-l),vw(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[r][1].end={...i.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=yn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=yn(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",o,t]]),u=yn(u,Bg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=yn(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=yn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,cr(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function GB(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=yw(r);let o;return i;function i(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=yw(l),h=!d||d===2&&s||n.includes(l),p=!s||s===2&&d||n.includes(r);return u._open=!!(o===42?h:h&&(s||!p)),u._close=!!(o===42?p:p&&(d||!h)),t(l)}}function vw(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const YB={name:"autolink",tokenize:XB};function XB(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return nr(m)?(e.consume(m),i):m===64?n(m):u(m)}function i(m){return m===43||m===45||m===46||en(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||en(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Hh(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):DB(m)?(e.consume(m),u):n(m)}function d(m){return en(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||en(m))&&r++<63){const w=m===45?p:h;return e.consume(m),w}return n(m)}}const rd={partial:!0,tokenize:QB};function QB(e,t,n){return r;function r(o){return Pe(o)?Fe(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||le(o)?t(o):n(o)}}const A1={continuation:{tokenize:ZB},exit:e3,name:"blockQuote",tokenize:JB};function JB(e,t,n){const r=this;return s;function s(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)}function o(i){return Pe(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function ZB(e,t,n){const r=this;return s;function s(i){return Pe(i)?Fe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(A1,t,n)(i)}}function e3(e){e.exit("blockQuote")}const j1={name:"characterEscape",tokenize:t3};function t3(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return zB(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const M1={name:"characterReference",tokenize:n3};function n3(e,t,n){const r=this;let s=0,o,i;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,i=en,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=FB,d):(e.enter("characterReferenceValue"),o=7,i=Vh,d(h))}function d(h){if(h===59&&s){const p=e.exit("characterReferenceValue");return i===en&&!zg(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(h)&&s++<o?(e.consume(h),d):n(h)}}const xw={partial:!0,tokenize:s3},ww={concrete:!0,name:"codeFenced",tokenize:r3};function r3(e,t,n){const r=this,s={partial:!0,tokenize:N};let o=0,i=0,a;return l;function l(k){return u(k)}function u(k){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===a?(i++,e.consume(k),d):i<3?n(k):(e.exit("codeFencedFenceSequence"),Pe(k)?Fe(e,h,"whitespace")(k):h(k))}function h(k){return k===null||le(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(xw,y,C)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Pe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,m,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),p)}function m(k){return k===null||le(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),w)}function y(k){return e.attempt(s,C,b)(k)}function b(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g}function g(k){return o>0&&Pe(k)?Fe(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||le(k)?e.check(xw,y,C)(k):(e.enter("codeFlowValue"),x(k))}function x(k){return k===null||le(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),x)}function C(k){return e.exit("codeFenced"),t(k)}function N(k,T,I){let O=0;return j;function j(G){return k.enter("lineEnding"),k.consume(G),k.exit("lineEnding"),L}function L(G){return k.enter("codeFencedFence"),Pe(G)?Fe(k,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):D(G)}function D(G){return G===a?(k.enter("codeFencedFenceSequence"),K(G)):I(G)}function K(G){return G===a?(O++,k.consume(G),K):O>=i?(k.exit("codeFencedFenceSequence"),Pe(G)?Fe(k,R,"whitespace")(G):R(G)):I(G)}function R(G){return G===null||le(G)?(k.exit("codeFencedFence"),T(G)):I(G)}}}function s3(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const yf={name:"codeIndented",tokenize:i3},o3={partial:!0,tokenize:a3};function i3(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),Fe(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?l(u):le(u)?e.attempt(o3,i,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||le(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function a3(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):Fe(e,o,"linePrefix",5)(i)}function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):le(i)?s(i):n(i)}}const l3={name:"codeText",previous:u3,resolve:c3,tokenize:d3};function c3(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function u3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function d3(e,t,n){let r=0,s,o;return i;function i(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),s=0,d(h)):le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||le(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",u(h))}}class f3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Wi(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Wi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Wi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Wi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Wi(this.left,n.reverse())}}}function Wi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function O1(e){const t={};let n=-1,r,s,o,i,a,l,u;const d=new f3(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,h3(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(i=d.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=o);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return cr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function h3(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const a=i.events,l=[],u={};let d,h,p=-1,m=n,w=0,y=0;const b=[y];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const g=a.slice(b[p],b[p+1]),v=o.pop();l.push([v,v+g.length-1]),e.splice(v,2,g)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}const p3={resolve:g3,tokenize:y3},m3={partial:!0,tokenize:v3};function g3(e){return O1(e),e}function y3(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?o(a):le(a)?e.check(m3,i,o)(a):(e.consume(a),s)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function v3(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Fe(e,o,"linePrefix")}function o(i){if(i===null||le(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function L1(e,t,n,r,s,o,i,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||Hh(g)?n(g):(e.enter(r),e.enter(i),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(a),p(g)):g===null||g===60||le(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Kt(g))?(e.exit("chunkString"),e.exit(a),e.exit(i),e.exit(r),t(g)):d<u&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Hh(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function D1(e,t,n,r,s,o){const i=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):le(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||le(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Pe(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function F1(e,t,n,r,s,o){let i;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(s),e.consume(p),e.exit(s),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===i?(e.exit(o),l(i)):p===null?n(p):le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||le(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:d)}function h(p){return p===i||p===92?(e.consume(p),d):d(p)}}function ga(e,t){let n;return r;function r(s){return le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Pe(s)?Fe(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const x3={name:"definition",tokenize:b3},w3={partial:!0,tokenize:_3};function b3(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),i(m)}function i(m){return D1.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return s=Xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Kt(m)?ga(e,u)(m):u(m)}function u(m){return L1(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(w3,h,h)(m)}function h(m){return Pe(m)?Fe(e,p,"whitespace")(m):p(m)}function p(m){return m===null||le(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function _3(e,t,n){return r;function r(a){return Kt(a)?ga(e,s)(a):n(a)}function s(a){return F1(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Pe(a)?Fe(e,i,"whitespace")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const S3={name:"hardBreakEscape",tokenize:C3};function C3(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const k3={name:"headingAtx",resolve:E3,tokenize:T3};function E3(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},cr(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function T3(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Kt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||le(d)?(e.exit("atxHeading"),t(d)):Pe(d)?Fe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Kt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const N3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bw=["pre","script","style","textarea"],R3={concrete:!0,name:"htmlFlow",resolveTo:A3,tokenize:j3},I3={partial:!0,tokenize:O3},P3={partial:!0,tokenize:M3};function A3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function j3(e,t,n){const r=this;let s,o,i,a,l;return u;function u(E){return d(E)}function d(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),h}function h(E){return E===33?(e.consume(E),p):E===47?(e.consume(E),o=!0,y):E===63?(e.consume(E),s=3,r.interrupt?t:S):nr(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function p(E){return E===45?(e.consume(E),s=2,m):E===91?(e.consume(E),s=5,a=0,w):nr(E)?(e.consume(E),s=4,r.interrupt?t:S):n(E)}function m(E){return E===45?(e.consume(E),r.interrupt?t:S):n(E)}function w(E){const Te="CDATA[";return E===Te.charCodeAt(a++)?(e.consume(E),a===Te.length?r.interrupt?t:D:w):n(E)}function y(E){return nr(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function b(E){if(E===null||E===47||E===62||Kt(E)){const Te=E===47,He=i.toLowerCase();return!Te&&!o&&bw.includes(He)?(s=1,r.interrupt?t(E):D(E)):N3.includes(i.toLowerCase())?(s=6,Te?(e.consume(E),g):r.interrupt?t(E):D(E)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):o?v(E):x(E))}return E===45||en(E)?(e.consume(E),i+=String.fromCharCode(E),b):n(E)}function g(E){return E===62?(e.consume(E),r.interrupt?t:D):n(E)}function v(E){return Pe(E)?(e.consume(E),v):j(E)}function x(E){return E===47?(e.consume(E),j):E===58||E===95||nr(E)?(e.consume(E),C):Pe(E)?(e.consume(E),x):j(E)}function C(E){return E===45||E===46||E===58||E===95||en(E)?(e.consume(E),C):N(E)}function N(E){return E===61?(e.consume(E),k):Pe(E)?(e.consume(E),N):x(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),l=E,T):Pe(E)?(e.consume(E),k):I(E)}function T(E){return E===l?(e.consume(E),l=null,O):E===null||le(E)?n(E):(e.consume(E),T)}function I(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Kt(E)?N(E):(e.consume(E),I)}function O(E){return E===47||E===62||Pe(E)?x(E):n(E)}function j(E){return E===62?(e.consume(E),L):n(E)}function L(E){return E===null||le(E)?D(E):Pe(E)?(e.consume(E),L):n(E)}function D(E){return E===45&&s===2?(e.consume(E),q):E===60&&s===1?(e.consume(E),ee):E===62&&s===4?(e.consume(E),ae):E===63&&s===3?(e.consume(E),S):E===93&&s===5?(e.consume(E),U):le(E)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(I3,fe,K)(E)):E===null||le(E)?(e.exit("htmlFlowData"),K(E)):(e.consume(E),D)}function K(E){return e.check(P3,R,fe)(E)}function R(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),G}function G(E){return E===null||le(E)?K(E):(e.enter("htmlFlowData"),D(E))}function q(E){return E===45?(e.consume(E),S):D(E)}function ee(E){return E===47?(e.consume(E),i="",A):D(E)}function A(E){if(E===62){const Te=i.toLowerCase();return bw.includes(Te)?(e.consume(E),ae):D(E)}return nr(E)&&i.length<8?(e.consume(E),i+=String.fromCharCode(E),A):D(E)}function U(E){return E===93?(e.consume(E),S):D(E)}function S(E){return E===62?(e.consume(E),ae):E===45&&s===2?(e.consume(E),S):D(E)}function ae(E){return E===null||le(E)?(e.exit("htmlFlowData"),fe(E)):(e.consume(E),ae)}function fe(E){return e.exit("htmlFlow"),t(E)}}function M3(e,t,n){const r=this;return s;function s(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function O3(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(rd,t,n)}}const L3={name:"htmlText",tokenize:D3};function D3(e,t,n){const r=this;let s,o,i;return a;function a(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),N):S===63?(e.consume(S),x):nr(S)?(e.consume(S),I):n(S)}function u(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),o=0,w):nr(S)?(e.consume(S),v):n(S)}function d(S){return S===45?(e.consume(S),m):n(S)}function h(S){return S===null?n(S):S===45?(e.consume(S),p):le(S)?(i=h,ee(S)):(e.consume(S),h)}function p(S){return S===45?(e.consume(S),m):h(S)}function m(S){return S===62?q(S):S===45?p(S):h(S)}function w(S){const ae="CDATA[";return S===ae.charCodeAt(o++)?(e.consume(S),o===ae.length?y:w):n(S)}function y(S){return S===null?n(S):S===93?(e.consume(S),b):le(S)?(i=y,ee(S)):(e.consume(S),y)}function b(S){return S===93?(e.consume(S),g):y(S)}function g(S){return S===62?q(S):S===93?(e.consume(S),g):y(S)}function v(S){return S===null||S===62?q(S):le(S)?(i=v,ee(S)):(e.consume(S),v)}function x(S){return S===null?n(S):S===63?(e.consume(S),C):le(S)?(i=x,ee(S)):(e.consume(S),x)}function C(S){return S===62?q(S):x(S)}function N(S){return nr(S)?(e.consume(S),k):n(S)}function k(S){return S===45||en(S)?(e.consume(S),k):T(S)}function T(S){return le(S)?(i=T,ee(S)):Pe(S)?(e.consume(S),T):q(S)}function I(S){return S===45||en(S)?(e.consume(S),I):S===47||S===62||Kt(S)?O(S):n(S)}function O(S){return S===47?(e.consume(S),q):S===58||S===95||nr(S)?(e.consume(S),j):le(S)?(i=O,ee(S)):Pe(S)?(e.consume(S),O):q(S)}function j(S){return S===45||S===46||S===58||S===95||en(S)?(e.consume(S),j):L(S)}function L(S){return S===61?(e.consume(S),D):le(S)?(i=L,ee(S)):Pe(S)?(e.consume(S),L):O(S)}function D(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),s=S,K):le(S)?(i=D,ee(S)):Pe(S)?(e.consume(S),D):(e.consume(S),R)}function K(S){return S===s?(e.consume(S),s=void 0,G):S===null?n(S):le(S)?(i=K,ee(S)):(e.consume(S),K)}function R(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||Kt(S)?O(S):(e.consume(S),R)}function G(S){return S===47||S===62||Kt(S)?O(S):n(S)}function q(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function ee(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),A}function A(S){return Pe(S)?Fe(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):U(S)}function U(S){return e.enter("htmlTextData"),i(S)}}const $g={name:"labelEnd",resolveAll:$3,resolveTo:U3,tokenize:H3},F3={tokenize:V3},z3={tokenize:W3},B3={tokenize:K3};function $3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&cr(e,0,e.length,n),e}function U3(e,t){let n=e.length,r=0,s,o,i,a;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=yn(a,e.slice(o+1,o+r+3)),a=yn(a,[["enter",d,t]]),a=yn(a,Bg(t.parser.constructs.insideSpan.null,e.slice(o+r+4,i-3),t)),a=yn(a,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),a=yn(a,e.slice(i+1)),a=yn(a,[["exit",l,t]]),cr(e,o,e.length,a),e}function H3(e,t,n){const r=this;let s=r.events.length,o,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return a;function a(p){return o?o._inactive?h(p):(i=r.parser.defined.includes(Xo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(F3,d,i?d:h)(p):p===91?e.attempt(z3,d,i?u:h)(p):i?d(p):h(p)}function u(p){return e.attempt(B3,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function V3(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Kt(h)?ga(e,o)(h):o(h)}function o(h){return h===41?d(h):L1(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function i(h){return Kt(h)?ga(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?F1(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Kt(h)?ga(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function W3(e,t,n){const r=this;return s;function s(a){return D1.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}function K3(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const q3={name:"labelStartImage",resolveAll:$g.resolveAll,tokenize:G3};function G3(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Y3={name:"labelStartLink",resolveAll:$g.resolveAll,tokenize:X3};function X3(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const vf={name:"lineEnding",tokenize:Q3};function Q3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const bc={name:"thematicBreak",tokenize:J3};function J3(e,t,n){let r=0,s;return o;function o(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,a(u)}function a(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Pe(u)?Fe(e,a,"whitespace")(u):a(u))}}const Bt={continuation:{tokenize:n$},exit:s$,name:"list",tokenize:t$},Z3={partial:!0,tokenize:o$},e$={partial:!0,tokenize:r$};function t$(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return a;function a(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Vh(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bc,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Vh(m)&&++i<10?(e.consume(m),l):(!r.interrupt||i<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(rd,r.interrupt?n:d,e.attempt(Z3,p,h))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function h(m){return Pe(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function n$(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rd,s,o);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Pe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(e$,t,i)(a))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Bt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function r$(e,t,n){const r=this;return Fe(e,s,"listItemIndent",r.containerState.size+1);function s(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)}}function s$(e){e.exit(this.containerState.type)}function o$(e,t,n){const r=this;return Fe(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const i=r.events[r.events.length-1];return!Pe(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const _w={name:"setextUnderline",resolveTo:i$,tokenize:a$};function i$(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",i,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function a$(e,t,n){const r=this;let s;return o;function o(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Pe(u)?Fe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const l$={tokenize:c$};function c$(e){const t=this,n=e.attempt(rd,r,e.attempt(this.parser.constructs.flowInitial,s,Fe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(p3,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const u$={resolveAll:B1()},d$=z1("string"),f$=z1("text");function z1(e){return{resolveAll:B1(e==="text"?h$:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,i,a);return i;function i(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function B1(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function h$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,i=-1,a=0,l;for(;o--;){const u=s[o];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)a++,i--;if(i)break;i=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?i:r.start._bufferIndex+i,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const p$={42:Bt,43:Bt,45:Bt,48:Bt,49:Bt,50:Bt,51:Bt,52:Bt,53:Bt,54:Bt,55:Bt,56:Bt,57:Bt,62:A1},m$={91:x3},g$={[-2]:yf,[-1]:yf,32:yf},y$={35:k3,42:bc,45:[_w,bc],60:R3,61:_w,95:bc,96:ww,126:ww},v$={38:M1,92:j1},x$={[-5]:vf,[-4]:vf,[-3]:vf,33:q3,38:M1,42:Wh,60:[YB,L3],91:Y3,92:[S3,j1],93:$g,95:Wh,96:l3},w$={null:[Wh,u$]},b$={null:[42,95]},_$={null:[]},S$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b$,contentInitial:m$,disable:_$,document:p$,flow:y$,flowInitial:g$,insideSpan:w$,string:v$,text:x$},Symbol.toStringTag,{value:"Module"}));function C$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let i=[],a=[];const l={attempt:T(N),check:T(k),consume:v,enter:x,exit:C,interrupt:T(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function h(L){return i=yn(i,L),b(),i[i.length-1]!==null?[]:(I(t,0),u.events=Bg(o,u.events,u),u.events)}function p(L,D){return E$(m(L),D)}function m(L){return k$(i,L)}function w(){const{_bufferIndex:L,_index:D,line:K,column:R,offset:G}=r;return{_bufferIndex:L,_index:D,line:K,column:R,offset:G}}function y(L){s[L.line]=L.column,j()}function b(){let L;for(;r._index<i.length;){const D=i[r._index];if(typeof D=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<D.length;)g(D.charCodeAt(r._bufferIndex));else g(D)}}function g(L){d=d(L)}function v(L){le(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,j()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,D){const K=D||{};return K.type=L,K.start=w(),u.events.push(["enter",K,u]),a.push(K),K}function C(L){const D=a.pop();return D.end=w(),u.events.push(["exit",D,u]),D}function N(L,D){I(L,D.from)}function k(L,D){D.restore()}function T(L,D){return K;function K(R,G,q){let ee,A,U,S;return Array.isArray(R)?fe(R):"tokenize"in R?fe([R]):ae(R);function ae(be){return Q;function Q(ye){const Me=ye!==null&&be[ye],_e=ye!==null&&be.null,ve=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return fe(ve)(ye)}}function fe(be){return ee=be,A=0,be.length===0?q:E(be[A])}function E(be){return Q;function Q(ye){return S=O(),U=be,be.partial||(u.currentConstruct=be),be.name&&u.parser.constructs.disable.null.includes(be.name)?He():be.tokenize.call(D?Object.assign(Object.create(u),D):u,l,Te,He)(ye)}}function Te(be){return L(U,S),G}function He(be){return S.restore(),++A<ee.length?E(ee[A]):q}}}function I(L,D){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&cr(u.events,D,u.events.length-D,L.resolve(u.events.slice(D),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function O(){const L=w(),D=u.previous,K=u.currentConstruct,R=u.events.length,G=Array.from(a);return{from:R,restore:q};function q(){r=L,u.previous=D,u.currentConstruct=K,u.events.length=R,a=G,j()}}function j(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function k$(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){const a=i[0];typeof a=="string"?i[0]=a.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function E$(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(o)}s=o===-2,r.push(i)}return r.join("")}function T$(e){const r={constructs:MB([S$,...(e||{}).extensions||[]]),content:s(UB),defined:[],document:s(VB),flow:s(l$),lazy:{},string:s(d$),text:s(f$)};return r;function s(o){return i;function i(a){return C$(r,o,a)}}}function N$(e){for(;!O1(e););return e}const Sw=/[\0\t\n\r]/g;function R$(){let e=1,t="",n=!0,r;return s;function s(o,i,a){const l=[];let u,d,h,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(i||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(Sw.lastIndex=h,u=Sw.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){t=o.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const I$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function P$(e){return e.replace(I$,A$)}function A$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return P1(n.slice(o?2:1),o?16:10)}return zg(n)||e}const $1={}.hasOwnProperty;function j$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),M$(n)(N$(T$(n).document().write(R$()(e,t,!0))))}function M$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ln),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(Cn),blockQuote:o(_e),characterEscape:O,characterReference:O,codeFenced:o(ve),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(ve,i),codeText:o(Ne,i),codeTextData:O,data:O,codeFlowValue:O,definition:o(at),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o(Dt),hardBreakEscape:o(Kn),hardBreakTrailing:o(Kn),htmlFlow:o(kn,i),htmlFlowData:O,htmlText:o(kn,i),htmlTextData:O,image:o(Ci),label:i,link:o(ln),listItem:o(pd),listItemValue:p,listOrdered:o(ki,h),listUnordered:o(ki),paragraph:o(Ei),reference:E,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(Cn),strong:o(ll),thematicBreak:o(md)},exit:{atxHeading:l(),atxHeadingSequence:N,autolink:l(),autolinkEmail:Me,autolinkProtocol:ye,blockQuote:l(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:He,characterReferenceMarkerNumeric:He,characterReferenceValue:be,characterReference:Q,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:j,codeIndented:l(g),codeText:l(G),codeTextData:j,data:j,definition:l(),definitionDestinationString:C,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(K),htmlFlowData:j,htmlText:l(R),htmlTextData:j,image:l(ee),label:U,labelText:A,lineEnding:L,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Te,resourceDestinationString:S,resourceTitleString:ae,resource:fe,setextHeading:l(I),setextHeadingLineSequence:T,setextHeadingText:k,strong:l(),thematicBreak:l()}};U1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(M){let $={type:"root",children:[]};const ce={stack:[$],tokenStack:[],config:t,enter:a,exit:u,buffer:i,resume:d,data:n},he=[];let Re=-1;for(;++Re<M.length;)if(M[Re][1].type==="listOrdered"||M[Re][1].type==="listUnordered")if(M[Re][0]==="enter")he.push(Re);else{const Oe=he.pop();Re=s(M,Oe,Re)}for(Re=-1;++Re<M.length;){const Oe=t[M[Re][0]];$1.call(Oe,M[Re][1].type)&&Oe[M[Re][1].type].call(Object.assign({sliceSerialize:M[Re][2].sliceSerialize},ce),M[Re][1])}if(ce.tokenStack.length>0){const Oe=ce.tokenStack[ce.tokenStack.length-1];(Oe[1]||Cw).call(ce,void 0,Oe[0])}for($.position={start:Vr(M.length>0?M[0][1].start:{line:1,column:1,offset:0}),end:Vr(M.length>0?M[M.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)$=t.transforms[Re]($)||$;return $}function s(M,$,ce){let he=$-1,Re=-1,Oe=!1,En,cn,Fr,Ns;for(;++he<=ce;){const yt=M[he];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Re++:Re--,Ns=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(En&&!Ns&&!Re&&!Fr&&(Fr=he),Ns=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ns=void 0}if(!Re&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Re===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(En){let qn=he;for(cn=void 0;qn--;){const un=M[qn];if(un[1].type==="lineEnding"||un[1].type==="lineEndingBlank"){if(un[0]==="exit")continue;cn&&(M[cn][1].type="lineEndingBlank",Oe=!0),un[1].type="lineEnding",cn=qn}else if(!(un[1].type==="linePrefix"||un[1].type==="blockQuotePrefix"||un[1].type==="blockQuotePrefixWhitespace"||un[1].type==="blockQuoteMarker"||un[1].type==="listItemIndent"))break}Fr&&(!cn||Fr<cn)&&(En._spread=!0),En.end=Object.assign({},cn?M[cn][1].start:yt[1].end),M.splice(cn||he,0,["exit",En,yt[2]]),he++,ce++}if(yt[1].type==="listItemPrefix"){const qn={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};En=qn,M.splice(he,0,["enter",qn,yt[2]]),he++,ce++,Fr=void 0,Ns=!0}}}return M[$][1]._spread=Oe,ce}function o(M,$){return ce;function ce(he){a.call(this,M(he),he),$&&$.call(this,he)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(M,$,ce){this.stack[this.stack.length-1].children.push(M),this.stack.push(M),this.tokenStack.push([$,ce||void 0]),M.position={start:Vr($.start),end:void 0}}function l(M){return $;function $(ce){M&&M.call(this,ce),u.call(this,ce)}}function u(M,$){const ce=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==M.type&&($?$.call(this,M,he[0]):(he[1]||Cw).call(this,M,he[0]));else throw new Error("Cannot close `"+M.type+"` ("+ma({start:M.start,end:M.end})+"): its not open");ce.position.end=Vr(M.end)}function d(){return AB(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(M){if(this.data.expectingFirstListItemValue){const $=this.stack[this.stack.length-2];$.start=Number.parseInt(this.sliceSerialize(M),10),this.data.expectingFirstListItemValue=void 0}}function m(){const M=this.resume(),$=this.stack[this.stack.length-1];$.lang=M}function w(){const M=this.resume(),$=this.stack[this.stack.length-1];$.meta=M}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M.replace(/(\r?\n|\r)$/g,"")}function v(M){const $=this.resume(),ce=this.stack[this.stack.length-1];ce.label=$,ce.identifier=Xo(this.sliceSerialize(M)).toLowerCase()}function x(){const M=this.resume(),$=this.stack[this.stack.length-1];$.title=M}function C(){const M=this.resume(),$=this.stack[this.stack.length-1];$.url=M}function N(M){const $=this.stack[this.stack.length-1];if(!$.depth){const ce=this.sliceSerialize(M).length;$.depth=ce}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function T(M){const $=this.stack[this.stack.length-1];$.depth=this.sliceSerialize(M).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function O(M){const ce=this.stack[this.stack.length-1].children;let he=ce[ce.length-1];(!he||he.type!=="text")&&(he=cl(),he.position={start:Vr(M.start),end:void 0},ce.push(he)),this.stack.push(he)}function j(M){const $=this.stack.pop();$.value+=this.sliceSerialize(M),$.position.end=Vr(M.end)}function L(M){const $=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ce=$.children[$.children.length-1];ce.position.end=Vr(M.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes($.type)&&(O.call(this,M),j.call(this,M))}function D(){this.data.atHardBreak=!0}function K(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function R(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function G(){const M=this.resume(),$=this.stack[this.stack.length-1];$.value=M}function q(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=$,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function ee(){const M=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=$,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function A(M){const $=this.sliceSerialize(M),ce=this.stack[this.stack.length-2];ce.label=P$($),ce.identifier=Xo($).toLowerCase()}function U(){const M=this.stack[this.stack.length-1],$=this.resume(),ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,ce.type==="link"){const he=M.children;ce.children=he}else ce.alt=$}function S(){const M=this.resume(),$=this.stack[this.stack.length-1];$.url=M}function ae(){const M=this.resume(),$=this.stack[this.stack.length-1];$.title=M}function fe(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function Te(M){const $=this.resume(),ce=this.stack[this.stack.length-1];ce.label=$,ce.identifier=Xo(this.sliceSerialize(M)).toLowerCase(),this.data.referenceType="full"}function He(M){this.data.characterReferenceType=M.type}function be(M){const $=this.sliceSerialize(M),ce=this.data.characterReferenceType;let he;ce?(he=P1($,ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=zg($);const Re=this.stack[this.stack.length-1];Re.value+=he}function Q(M){const $=this.stack.pop();$.position.end=Vr(M.end)}function ye(M){j.call(this,M);const $=this.stack[this.stack.length-1];$.url=this.sliceSerialize(M)}function Me(M){j.call(this,M);const $=this.stack[this.stack.length-1];$.url="mailto:"+this.sliceSerialize(M)}function _e(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function Ne(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Dt(){return{type:"emphasis",children:[]}}function Cn(){return{type:"heading",depth:0,children:[]}}function Kn(){return{type:"break"}}function kn(){return{type:"html",value:""}}function Ci(){return{type:"image",title:null,url:"",alt:null}}function ln(){return{type:"link",title:null,url:"",children:[]}}function ki(M){return{type:"list",ordered:M.type==="listOrdered",start:null,spread:M._spread,children:[]}}function pd(M){return{type:"listItem",spread:M._spread,checked:null,children:[]}}function Ei(){return{type:"paragraph",children:[]}}function ll(){return{type:"strong",children:[]}}function cl(){return{type:"text",value:""}}function md(){return{type:"thematicBreak"}}}function Vr(e){return{line:e.line,column:e.column,offset:e.offset}}function U1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?U1(e,r):O$(e,r)}}function O$(e,t){let n;for(n in t)if($1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Cw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ma({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ma({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ma({start:t.start,end:t.end})+") is still open")}function L$(e){const t=this;t.parser=n;function n(r){return j$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function D$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function F$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function z$(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function B$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function U$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=bi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let i,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function H$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function H1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function W$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return H1(e,t);const s={src:bi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function K$(e,t){const n={src:bi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function q$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function G$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return H1(e,t);const s={href:bi(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function Y$(e,t){const n={href:bi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function X$(e,t,n){const r=e.all(t),s=n?Q$(n):V1(t),o={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:i};return e.patch(t,u),e.applyData(t,u)}function Q$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=V1(n[r])}return t}function V1(e){const t=e.spread;return t??e.children.length>1}function J$(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Z$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e4(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function t4(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n4(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Og(t.children[1]),l=C1(t.children[t.children.length-1]);a&&l&&(i.position={start:a,end:l}),s.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function r4(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],p={},m=i?i[l]:void 0;m&&(p.align=m);let w={type:"element",tagName:o,properties:p,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function s4(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const kw=9,Ew=32;function o4(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(Tw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(Tw(t.slice(s),s>0,!1)),o.join("")}function Tw(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===kw||o===Ew;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===kw||o===Ew;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function i4(e,t){const n={type:"text",value:o4(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function a4(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const l4={blockquote:D$,break:F$,code:z$,delete:B$,emphasis:$$,footnoteReference:U$,heading:H$,html:V$,imageReference:W$,image:K$,inlineCode:q$,linkReference:G$,link:Y$,listItem:X$,list:J$,paragraph:Z$,root:e4,strong:t4,table:n4,tableCell:s4,tableRow:r4,text:i4,thematicBreak:a4,toml:ql,yaml:ql,definition:ql,footnoteDefinition:ql};function ql(){}const W1=-1,sd=0,ya=1,cu=2,Ug=3,Hg=4,Vg=5,Wg=6,K1=7,q1=8,Nw=typeof self=="object"?self:globalThis,c4=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,i]=t[s];switch(o){case sd:case W1:return n(i,s);case ya:{const a=n([],s);for(const l of i)a.push(r(l));return a}case cu:{const a=n({},s);for(const[l,u]of i)a[r(l)]=r(u);return a}case Ug:return n(new Date(i),s);case Hg:{const{source:a,flags:l}=i;return n(new RegExp(a,l),s)}case Vg:{const a=n(new Map,s);for(const[l,u]of i)a.set(r(l),r(u));return a}case Wg:{const a=n(new Set,s);for(const l of i)a.add(r(l));return a}case K1:{const{name:a,message:l}=i;return n(new Nw[a](l),s)}case q1:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:a}=new Uint8Array(i);return n(new DataView(a),i)}}return n(new Nw[o](i),s)};return r},Rw=e=>c4(new Map,e)(0),bo="",{toString:u4}={},{keys:d4}=Object,Ki=e=>{const t=typeof e;if(t!=="object"||!e)return[sd,t];const n=u4.call(e).slice(8,-1);switch(n){case"Array":return[ya,bo];case"Object":return[cu,bo];case"Date":return[Ug,bo];case"RegExp":return[Hg,bo];case"Map":return[Vg,bo];case"Set":return[Wg,bo];case"DataView":return[ya,n]}return n.includes("Array")?[ya,n]:n.includes("Error")?[K1,n]:[cu,n]},Gl=([e,t])=>e===sd&&(t==="function"||t==="symbol"),f4=(e,t,n,r)=>{const s=(i,a)=>{const l=r.push(i)-1;return n.set(a,l),l},o=i=>{if(n.has(i))return n.get(i);let[a,l]=Ki(i);switch(a){case sd:{let d=i;switch(l){case"bigint":a=q1,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([W1],i)}return s([a,d],i)}case ya:{if(l){let p=i;return l==="DataView"?p=new Uint8Array(i.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(i)),s([l,[...p]],i)}const d=[],h=s([a,d],i);for(const p of i)d.push(o(p));return h}case cu:{if(l)switch(l){case"BigInt":return s([l,i.toString()],i);case"Boolean":case"Number":case"String":return s([l,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const d=[],h=s([a,d],i);for(const p of d4(i))(e||!Gl(Ki(i[p])))&&d.push([o(p),o(i[p])]);return h}case Ug:return s([a,i.toISOString()],i);case Hg:{const{source:d,flags:h}=i;return s([a,{source:d,flags:h}],i)}case Vg:{const d=[],h=s([a,d],i);for(const[p,m]of i)(e||!(Gl(Ki(p))||Gl(Ki(m))))&&d.push([o(p),o(m)]);return h}case Wg:{const d=[],h=s([a,d],i);for(const p of i)(e||!Gl(Ki(p)))&&d.push(o(p));return h}}const{message:u}=i;return s([a,{name:l,message:u}],i)};return o},Iw=(e,{json:t,lossy:n}={})=>{const r=[];return f4(!(t||n),!!t,new Map,r)(e),r},uu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Rw(Iw(e,t)):structuredClone(e):(e,t)=>Rw(Iw(e,t));function h4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function p4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function m4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||h4,r=e.options.footnoteBackLabel||p4,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),p=bi(h.toLowerCase());let m=0;const w=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,m);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...w)}else d.push(...w);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...uu(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const G1=function(e){if(e==null)return x4;if(typeof e=="function")return od(e);if(typeof e=="object")return Array.isArray(e)?g4(e):y4(e);if(typeof e=="string")return v4(e);throw new Error("Expected function, string, or object as test")};function g4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=G1(e[n]);return od(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function y4(e){const t=e;return od(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function v4(e){return od(t);function t(n){return n&&n.type===e}}function od(e){return t;function t(n,r,s){return!!(w4(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function x4(){return!0}function w4(e){return e!==null&&typeof e=="object"&&"type"in e}const Y1=[],b4=!0,Pw=!1,_4="skip";function S4(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=G1(s),i=r?-1:1;a(e,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=Y1,w,y,b;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=C4(n(l,d)),m[0]===Pw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==_4)for(y=(r?g.children.length:-1)+i,b=d.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(w=a(v,y,b)(),w[0]===Pw)return w;y=typeof w[1]=="number"?w[1]:y+i}}return m}}}function C4(e){return Array.isArray(e)?e:typeof e=="number"?[b4,e]:e==null?Y1:[e]}function X1(e,t,n,r){let s,o,i;typeof t=="function"&&typeof n!="function"?(o=void 0,i=t,s=n):(o=t,i=n,s=r),S4(e,o,a,s);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return i(l,h,d)}}const Kh={}.hasOwnProperty,k4={};function E4(e,t){const n=t||k4,r=new Map,s=new Map,o=new Map,i={...l4,...n.handlers},a={all:u,applyData:N4,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:i,one:l,options:n,patch:T4,wrap:I4};return X1(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(Kh.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,g=uu(b);return g.children=a.all(d),g}return uu(d)}return(a.options.unknownHandler||R4)(a,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const w=a.one(p[m],d);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Aw(w.value)),!Array.isArray(w)&&w.type==="element")){const y=w.children[0];y&&y.type==="text"&&(y.value=Aw(y.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function T4(e,t){e.position&&(t.position=uB(e))}function N4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&o&&Object.assign(n.properties,uu(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function R4(e,t){const n=t.data||{},r="value"in t&&!(Kh.call(n,"hProperties")||Kh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function I4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Aw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function jw(e,t){const n=E4(e,t),r=n.one(e,void 0),s=m4(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function P4(e,t){return e&&"run"in e?async function(n,r){const s=jw(n,{file:r,...t});await e.run(s,r)}:function(n,r){return jw(n,{file:r,...e||t})}}function Mw(e){if(e)throw e}var _c=Object.prototype.hasOwnProperty,Q1=Object.prototype.toString,Ow=Object.defineProperty,Lw=Object.getOwnPropertyDescriptor,Dw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Q1.call(t)==="[object Array]"},Fw=function(t){if(!t||Q1.call(t)!=="[object Object]")return!1;var n=_c.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&_c.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||_c.call(t,s)},zw=function(t,n){Ow&&n.name==="__proto__"?Ow(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Bw=function(t,n){if(n==="__proto__")if(_c.call(t,n)){if(Lw)return Lw(t,n).value}else return;return t[n]},A4=function e(){var t,n,r,s,o,i,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=Bw(a,n),s=Bw(t,n),a!==s&&(d&&s&&(Fw(s)||(o=Dw(s)))?(o?(o=!1,i=r&&Dw(r)?r:[]):i=r&&Fw(r)?r:{},zw(a,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&zw(a,{name:n,newValue:s}));return a};const xf=fi(A4);function qh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function j4(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);a(null,...s);function a(l,...u){const d=e[++o];let h=-1;if(l){i(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?M4(d,a)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function M4(e,t){let n;return r;function r(...i){const a=e.length>i.length;let l;a&&i.push(s);try{l=e.apply(this,i)}catch(u){const d=u;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,s):l instanceof Error?s(l):o(l))}function s(i,...a){n||(n=!0,t(i,...a))}function o(i){s(null,i)}}const Zn={basename:O4,dirname:L4,extname:D4,join:F4,sep:"/"};function O4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');al(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function L4(e){if(al(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function D4(e){al(e);let t=e.length,n=-1,r=0,s=-1,o=0,i;for(;t--;){const a=e.codePointAt(t);if(a===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),a===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function F4(...e){let t=-1,n;for(;++t<e.length;)al(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":z4(n)}function z4(e){al(e);const t=e.codePointAt(0)===47;let n=B4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function B4(e,t){let n="",r=0,s=-1,o=0,i=-1,a,l;for(;++i<=e.length;){if(i<e.length)a=e.codePointAt(i);else{if(a===47)break;a=47}if(a===47){if(!(s===i-1||o===1))if(s!==i-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=i,o=0;continue}}else if(n.length>0){n="",r=0,s=i,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,o=0}else a===46&&o>-1?o++:o=-1}return n}function al(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $4={cwd:U4};function U4(){return"/"}function Gh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function H4(e){if(typeof e=="string")e=new URL(e);else if(!Gh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return V4(e)}function V4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const wf=["history","path","basename","stem","extname","dirname"];class J1{constructor(t){let n;t?Gh(t)?n={path:t}:typeof t=="string"||W4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":$4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wf.length;){const o=wf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)wf.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Zn.basename(this.path):void 0}set basename(t){_f(t,"basename"),bf(t,"basename"),this.path=Zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zn.dirname(this.path):void 0}set dirname(t){$w(this.basename,"dirname"),this.path=Zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zn.extname(this.path):void 0}set extname(t){if(bf(t,"extname"),$w(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Gh(t)&&(t=H4(t)),_f(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zn.basename(this.path,this.extname):void 0}set stem(t){_f(t,"stem"),bf(t,"stem"),this.path=Zn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Et(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function bf(e,t){if(e&&e.includes(Zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zn.sep+"`")}function _f(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $w(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function W4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const K4=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},q4={}.hasOwnProperty;class Kg extends K4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=j4()}copy(){const t=new Kg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(kf("data",this.frozen),this.namespace[t]=n,this):q4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(kf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Yl(t),r=this.parser||this.Parser;return Sf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Sf("process",this.parser||this.Parser),Cf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,i){const a=Yl(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return u(d);const m=h,w=r.stringify(m,p);X4(w)?p.value=w:p.result=w,u(d,p)});function u(d,h){d||!h?i(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Sf("processSync",this.parser||this.Parser),Cf("processSync",this.compiler||this.Compiler),this.process(t,s),Hw("processSync","process",n),r;function s(o,i){n=!0,Mw(o),r=i}}run(t,n,r){Uw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(i,a){const l=Yl(n);s.run(t,l,u);function u(d,h,p){const m=h||t;d?a(d):i?i(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),Hw("runSync","run",r),s;function o(i,a){Mw(i),s=a,r=!0}}stringify(t,n){this.freeze();const r=Yl(n),s=this.compiler||this.Compiler;return Cf("stringify",s),Uw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(kf("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=xf(!0,s.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...w]=d;const y=r[p][1];qh(y)&&qh(m)&&(m=xf(!0,y,m)),r[p]=[u,m,...w]}}}}const G4=new Kg().freeze();function Sf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Cf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Uw(e){if(!qh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Hw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yl(e){return Y4(e)?e:new J1(e)}function Y4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function X4(e){return typeof e=="string"||Q4(e)}function Q4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const J4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Vw=[],Ww={allowDangerousHtml:!0},Z4=/^(https?|ircs?|mailto|xmpp)$/i,e5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function t5(e){const t=n5(e),n=r5(e);return s5(t.runSync(t.parse(n),n),e)}function n5(e){const t=e.rehypePlugins||Vw,n=e.remarkPlugins||Vw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ww}:Ww;return G4().use(L$).use(n).use(P4,r).use(t)}function r5(e){const t=e.children||"",n=new J1;return typeof t=="string"&&(n.value=t),n}function s5(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,i=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||o5;for(const d of e5)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+J4+d.id,void 0);return X1(e,u),mB(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return i?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in gf)if(Object.hasOwn(gf,m)&&Object.hasOwn(d.properties,m)){const w=d.properties[m],y=gf[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(w||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function o5(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||Z4.test(e.slice(0,t))?e:""}const i5=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),a5=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:s,data:o,...i}=r||{};return i};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&i5(e.children,t.children)},qg=(e,t)=>a5(e.node,t.node),l5=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,s=({node:o,...i})=>c.jsx(r,{...i});return[t,f.memo(s,qg)]})),Gg=f.createContext(null),Z1=()=>f.useContext(Gg)!==null,c5=({children:e,...t})=>c.jsx(Gg.Provider,{value:t,children:e}),u5=f.memo(c5,qg),d5=({node:e,...t})=>c.jsx("pre",{...t}),f5=({node:e,...t})=>c.jsx("code",{...t}),Yg=({node:e,components:{Pre:t,Code:n},code:r})=>c.jsx(t,{children:c.jsx(n,{node:e,children:r})}),h5=()=>null,p5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:o,code:i})=>{const a=f.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:Yg;return c.jsxs(c.Fragment,{children:[c.jsx(s,{node:e,language:o,code:i}),c.jsx(l,{node:e,components:a,language:o??"unknown",code:i})]})},Kw=({className:e,...t})=>({className:n,...r})=>({className:J(e,n),...t,...r}),m5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:o={},children:i,...a})=>{var b,g,v;const l=f.useContext(Gg),u=Kw(l),d=Xe(x=>c.jsx(t,{...u(x)})),h=Kw(a),p=Xe(x=>c.jsx(n,{...h(x)})),m=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof i!="string")return c.jsx(Yg,{node:e,components:{Pre:d,Code:p},code:i});const w=((g=o[m])==null?void 0:g.SyntaxHighlighter)??r,y=((v=o[m])==null?void 0:v.CodeHeader)??s;return c.jsx(p5,{node:e,components:{Pre:d,Code:p,SyntaxHighlighter:w,CodeHeader:y},language:m||"unknown",code:i})},g5=({node:e,components:t,componentsByLanguage:n,...r})=>Z1()?c.jsx(m5,{node:e,components:t,componentsByLanguage:n,...r}):c.jsx(t.Code,{...r}),y5=f.memo(g5,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&qg(e,t)),{useSmooth:v5,useSmoothStatus:x5,withSmoothContextProvider:w5}=hm,b5=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...s})=>{const o=T0(),i=f.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:a}=v5(i,n),{pre:l=d5,code:u=f5,SyntaxHighlighter:d=Yg,CodeHeader:h=h5}=e??{},p=f.useMemo(()=>({Pre:l,Code:u,SyntaxHighlighter:d,CodeHeader:h}),[l,u,d,h]),m=Xe(y=>c.jsx(y5,{components:p,componentsByLanguage:t,...y})),w=f.useMemo(()=>{const{pre:y,code:b,SyntaxHighlighter:g,CodeHeader:v,...x}=e??{};return{...x,pre:u5,code:m}},[m,e]);return c.jsx(t5,{components:w,...s,children:a})},eE=f.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},s)=>{const o=x5();return c.jsx(n,{"data-status":o.type,...t,className:J(e,t==null?void 0:t.className),ref:s,children:c.jsx(b5,{...r})})});eE.displayName="MarkdownTextPrimitive";const _5=w5(eE);var{withSmoothContextProvider:S5,useSmoothStatus:C5}=hm,k5=l5({h1:({className:e,...t})=>c.jsx("h1",{className:J("aui-md-h1",e),...t}),h2:({className:e,...t})=>c.jsx("h2",{className:J("aui-md-h2",e),...t}),h3:({className:e,...t})=>c.jsx("h3",{className:J("aui-md-h3",e),...t}),h4:({className:e,...t})=>c.jsx("h4",{className:J("aui-md-h4",e),...t}),h5:({className:e,...t})=>c.jsx("h5",{className:J("aui-md-h5",e),...t}),h6:({className:e,...t})=>c.jsx("h6",{className:J("aui-md-h6",e),...t}),p:({className:e,...t})=>c.jsx("p",{className:J("aui-md-p",e),...t}),a:({className:e,...t})=>c.jsx("a",{className:J("aui-md-a",e),...t}),blockquote:({className:e,...t})=>c.jsx("blockquote",{className:J("aui-md-blockquote",e),...t}),ul:({className:e,...t})=>c.jsx("ul",{className:J("aui-md-ul",e),...t}),ol:({className:e,...t})=>c.jsx("ol",{className:J("aui-md-ol",e),...t}),hr:({className:e,...t})=>c.jsx("hr",{className:J("aui-md-hr",e),...t}),table:({className:e,...t})=>c.jsx("table",{className:J("aui-md-table",e),...t}),th:({className:e,...t})=>c.jsx("th",{className:J("aui-md-th",e),...t}),td:({className:e,...t})=>c.jsx("td",{className:J("aui-md-td",e),...t}),tr:({className:e,...t})=>c.jsx("tr",{className:J("aui-md-tr",e),...t}),sup:({className:e,...t})=>c.jsx("sup",{className:J("aui-md-sup",e),...t}),pre:({className:e,...t})=>c.jsx("pre",{className:J("aui-md-pre",e),...t}),code:function({className:t,...n}){const r=Z1();return c.jsx("code",{className:J(!r&&"aui-md-inline-code",t),...n})},CodeHeader:vz}),E5=({className:e,components:t,...n}={})=>{const r={...k5,...Object.fromEntries(Object.entries(t??{}).filter(([o,i])=>i!==void 0))},s=()=>{const o=C5();return c.jsx(_5,{components:r,...n,className:J(o.type==="running"&&"aui-md-running",e)})};return s.displayName="MarkdownText",f.memo(S5(s),()=>!0)};function tE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Yh(e,[t,n]){return Math.min(n,Math.max(t,e))}function T5(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Xg="ScrollArea",[nE]=dr(Xg),[N5,Sn]=nE(Xg),rE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,w]=f.useState(null),[y,b]=f.useState(null),[g,v]=f.useState(0),[x,C]=f.useState(0),[N,k]=f.useState(!1),[T,I]=f.useState(!1),O=we(t,L=>l(L)),j=Uu(s);return c.jsx(N5,{scope:n,type:r,dir:j,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:C,children:c.jsx(ue.div,{dir:j,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});rE.displayName=Xg;var sE="ScrollAreaViewport",oE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Sn(sE,n),a=f.useRef(null),l=we(t,a,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oE.displayName=sE;var pr="ScrollAreaScrollbar",iE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(pr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return f.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?c.jsx(R5,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(I5,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(aE,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(Qg,{...r,ref:t}):null});iE.displayName=pr;var R5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(pr,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(hr,{present:n||o,children:c.jsx(aE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),I5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sn(pr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=ad(()=>l("SCROLL_END"),100),[a,l]=T5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),i()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),c.jsx(hr,{present:n||a!=="hidden",children:c.jsx(Qg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:re(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),aE=f.forwardRef((e,t)=>{const n=Sn(pr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=f.useState(!1),a=e.orientation==="horizontal",l=ad(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return di(n.viewport,l),di(n.content,l),c.jsx(hr,{present:r||o,children:c.jsx(Qg,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Qg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Sn(pr,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=fE(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return L5(p,i.current,a,m)}return n==="horizontal"?c.jsx(P5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=qw(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?c.jsx(A5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=qw(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),P5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Sn(pr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=we(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(cE,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":id(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),pE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:fu(i.paddingLeft),paddingEnd:fu(i.paddingRight)}})}})}),A5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Sn(pr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=we(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(cE,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":id(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),pE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:fu(i.paddingTop),paddingEnd:fu(i.paddingBottom)}})}})}),[j5,lE]=nE(pr),cE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,m=Sn(pr,n),[w,y]=f.useState(null),b=we(t,O=>y(O)),g=f.useRef(null),v=f.useRef(""),x=m.viewport,C=r.content-r.viewport,N=Xe(d),k=Xe(l),T=ad(h,10);function I(O){if(g.current){const j=O.clientX-g.current.left,L=O.clientY-g.current.top;u({x:j,y:L})}}return f.useEffect(()=>{const O=j=>{const L=j.target;(w==null?void 0:w.contains(L))&&N(j,C)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[x,w,C,N]),f.useEffect(k,[r,k]),di(w,T),di(m.content,T),c.jsx(j5,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Xe(o),onThumbPointerUp:Xe(i),onThumbPositionChange:k,onThumbPointerDown:Xe(a),children:c.jsx(ue.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:re(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(O))}),onPointerMove:re(e.onPointerMove,I),onPointerUp:re(e.onPointerUp,O=>{const j=O.target;j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),du="ScrollAreaThumb",uE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lE(du,e.__scopeScrollArea);return c.jsx(hr,{present:n||s.hasThumb,children:c.jsx(M5,{ref:t,...r})})}),M5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Sn(du,n),i=lE(du,n),{onThumbPositionChange:a}=i,l=we(t,h=>i.onThumbChange(h)),u=f.useRef(void 0),d=ad(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=D5(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),c.jsx(ue.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,y=h.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:re(e.onPointerUp,i.onThumbPointerUp)})});uE.displayName=du;var Jg="ScrollAreaCorner",dE=f.forwardRef((e,t)=>{const n=Sn(Jg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(O5,{...e,ref:t}):null});dE.displayName=Jg;var O5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Sn(Jg,n),[o,i]=f.useState(0),[a,l]=f.useState(0),u=!!(o&&a);return di(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),di(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?c.jsx(ue.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function fu(e){return e?parseInt(e,10):0}function fE(e,t){const n=e/t;return isNaN(n)?0:n}function id(e){const t=fE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function L5(e,t,n,r="ltr"){const s=id(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return hE([l,u],h)(e)}function qw(e,t,n="ltr"){const r=id(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=Yh(e,l);return hE([0,i],[0,a])(u)}function hE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function pE(e,t){return e>0&&e<t}var D5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function ad(e,t){const n=Xe(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function di(e,t){const n=Xe(t);nt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var mE=rE,gE=oE,Xh=iE,Qh=uE,F5=dE,z5=[" ","Enter","ArrowUp","ArrowDown"],B5=[" ","Enter"],Zs="Select",[ld,cd,$5]=RC(Zs),[_i]=dr(Zs,[$5,Gu]),ud=Gu(),[U5,ks]=_i(Zs),[H5,V5]=_i(Zs),yE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,y=ud(t),[b,g]=f.useState(null),[v,x]=f.useState(null),[C,N]=f.useState(!1),k=Uu(u),[T,I]=Xs({prop:r,defaultProp:s??!1,onChange:o,caller:Zs}),[O,j]=Xs({prop:i,defaultProp:a,onChange:l,caller:Zs}),L=f.useRef(null),D=b?w||!!b.closest("form"):!0,[K,R]=f.useState(new Set),G=Array.from(K).map(q=>q.props.value).join(";");return c.jsx(r0,{...y,children:c.jsxs(U5,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:Er(),value:O,onValueChange:j,open:T,onOpenChange:I,dir:k,triggerPointerDownPosRef:L,disabled:p,children:[c.jsx(ld.Provider,{scope:t,children:c.jsx(H5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(q=>{R(ee=>new Set(ee).add(q))},[]),onNativeOptionRemove:f.useCallback(q=>{R(ee=>{const A=new Set(ee);return A.delete(q),A})},[]),children:n})}),D?c.jsxs(BE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:q=>j(q.target.value),disabled:p,form:w,children:[O===void 0?c.jsx("option",{value:""}):null,Array.from(K)]},G):null]})})};yE.displayName=Zs;var vE="SelectTrigger",xE=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=ud(n),i=ks(vE,n),a=i.disabled||r,l=we(t,i.onTriggerChange),u=cd(n),d=f.useRef("touch"),[h,p,m]=UE(y=>{const b=u().filter(x=>!x.disabled),g=b.find(x=>x.value===i.value),v=HE(b,y,g);v!==void 0&&i.onValueChange(v.value)}),w=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(s0,{asChild:!0,...o,children:c.jsx(ue.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$E(i.value)?"":void 0,...s,ref:l,onClick:re(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:re(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:re(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&z5.includes(y.key)&&(w(),y.preventDefault())})})})});xE.displayName=vE;var wE="SelectValue",bE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=ks(wE,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=we(t,l.onValueNodeChange);return nt(()=>{u(d)},[u,d]),c.jsx(ue.span,{...a,ref:h,style:{pointerEvents:"none"},children:$E(l.value)?c.jsx(c.Fragment,{children:i}):o})});bE.displayName=wE;var W5="SelectIcon",_E=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});_E.displayName=W5;var K5="SelectPortal",SE=e=>c.jsx(Em,{asChild:!0,...e});SE.displayName=K5;var eo="SelectContent",CE=f.forwardRef((e,t)=>{const n=ks(eo,e.__scopeSelect),[r,s]=f.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?gi.createPortal(c.jsx(kE,{scope:e.__scopeSelect,children:c.jsx(ld.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(EE,{...e,ref:t})});CE.displayName=eo;var In=10,[kE,Es]=_i(eo),q5="SelectContentImpl",G5=ai("SelectContent.RemoveScroll"),EE=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b,...g}=e,v=ks(eo,n),[x,C]=f.useState(null),[N,k]=f.useState(null),T=we(t,Q=>C(Q)),[I,O]=f.useState(null),[j,L]=f.useState(null),D=cd(n),[K,R]=f.useState(!1),G=f.useRef(!1);f.useEffect(()=>{if(x)return p0(x)},[x]),jC();const q=f.useCallback(Q=>{const[ye,...Me]=D().map(Ne=>Ne.ref.current),[_e]=Me.slice(-1),ve=document.activeElement;for(const Ne of Q)if(Ne===ve||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===ye&&N&&(N.scrollTop=0),Ne===_e&&N&&(N.scrollTop=N.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==ve))return},[D,N]),ee=f.useCallback(()=>q([I,x]),[q,I,x]);f.useEffect(()=>{K&&ee()},[K,ee]);const{onOpenChange:A,triggerPointerDownPosRef:U}=v;f.useEffect(()=>{if(x){let Q={x:0,y:0};const ye=_e=>{var ve,Ne;Q={x:Math.abs(Math.round(_e.pageX)-(((ve=U.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ne=U.current)==null?void 0:Ne.y)??0))}},Me=_e=>{Q.x<=10&&Q.y<=10?_e.preventDefault():x.contains(_e.target)||A(!1),document.removeEventListener("pointermove",ye),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Me,{capture:!0})}}},[x,A,U]),f.useEffect(()=>{const Q=()=>A(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[A]);const[S,ae]=UE(Q=>{const ye=D().filter(ve=>!ve.disabled),Me=ye.find(ve=>ve.ref.current===document.activeElement),_e=HE(ye,Q,Me);_e&&setTimeout(()=>_e.ref.current.focus())}),fe=f.useCallback((Q,ye,Me)=>{const _e=!G.current&&!Me;(v.value!==void 0&&v.value===ye||_e)&&(O(Q),_e&&(G.current=!0))},[v.value]),E=f.useCallback(()=>x==null?void 0:x.focus(),[x]),Te=f.useCallback((Q,ye,Me)=>{const _e=!G.current&&!Me;(v.value!==void 0&&v.value===ye||_e)&&L(Q)},[v.value]),He=r==="popper"?Jh:TE,be=He===Jh?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(kE,{scope:n,content:x,viewport:N,onViewportChange:k,itemRefCallback:fe,selectedItem:I,onItemLeave:E,itemTextRefCallback:Te,focusSelectedItem:ee,selectedItemText:j,position:r,isPositioned:K,searchRef:S,children:c.jsx(Tm,{as:G5,allowPinchZoom:!0,children:c.jsx(ym,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:re(s,Q=>{var ye;(ye=v.trigger)==null||ye.focus({preventScroll:!0}),Q.preventDefault()}),children:c.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(He,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...g,...be,onPlaced:()=>R(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:re(g.onKeyDown,Q=>{const ye=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ye&&Q.key.length===1&&ae(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let _e=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ve=Q.target,Ne=_e.indexOf(ve);_e=_e.slice(Ne+1)}setTimeout(()=>q(_e)),Q.preventDefault()}})})})})})})});EE.displayName=q5;var Y5="SelectItemAlignedPosition",TE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ks(eo,n),i=Es(eo,n),[a,l]=f.useState(null),[u,d]=f.useState(null),h=we(t,T=>d(T)),p=cd(n),m=f.useRef(!1),w=f.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&g){const T=o.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),j=g.getBoundingClientRect();if(o.dir!=="rtl"){const ve=j.left-I.left,Ne=O.left-ve,at=T.left-Ne,Dt=T.width+at,Cn=Math.max(Dt,I.width),Kn=window.innerWidth-In,kn=Yh(Ne,[In,Math.max(In,Kn-Cn)]);a.style.minWidth=Dt+"px",a.style.left=kn+"px"}else{const ve=I.right-j.right,Ne=window.innerWidth-O.right-ve,at=window.innerWidth-T.right-Ne,Dt=T.width+at,Cn=Math.max(Dt,I.width),Kn=window.innerWidth-In,kn=Yh(Ne,[In,Math.max(In,Kn-Cn)]);a.style.minWidth=Dt+"px",a.style.right=kn+"px"}const L=p(),D=window.innerHeight-In*2,K=y.scrollHeight,R=window.getComputedStyle(u),G=parseInt(R.borderTopWidth,10),q=parseInt(R.paddingTop,10),ee=parseInt(R.borderBottomWidth,10),A=parseInt(R.paddingBottom,10),U=G+q+K+A+ee,S=Math.min(b.offsetHeight*5,U),ae=window.getComputedStyle(y),fe=parseInt(ae.paddingTop,10),E=parseInt(ae.paddingBottom,10),Te=T.top+T.height/2-In,He=D-Te,be=b.offsetHeight/2,Q=b.offsetTop+be,ye=G+q+Q,Me=U-ye;if(ye<=Te){const ve=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const Ne=u.clientHeight-y.offsetTop-y.offsetHeight,at=Math.max(He,be+(ve?E:0)+Ne+ee),Dt=ye+at;a.style.height=Dt+"px"}else{const ve=L.length>0&&b===L[0].ref.current;a.style.top="0px";const at=Math.max(Te,G+y.offsetTop+(ve?fe:0)+be)+Me;a.style.height=at+"px",y.scrollTop=ye-Te+y.offsetTop}a.style.margin=`${In}px 0`,a.style.minHeight=S+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,g,o.dir,r]);nt(()=>x(),[x]);const[C,N]=f.useState();nt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(T=>{T&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return c.jsx(Q5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(ue.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TE.displayName=Y5;var X5="SelectPopperPosition",Jh=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=In,...o}=e,i=ud(n);return c.jsx(o0,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jh.displayName=X5;var[Q5,Zg]=_i(eo,{}),Zh="SelectViewport",NE=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Es(Zh,n),i=Zg(Zh,n),a=we(t,o.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(ld.Slot,{scope:n,children:c.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const w=window.innerHeight-In*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<w){const v=g+m,x=Math.min(w,v),C=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});NE.displayName=Zh;var RE="SelectGroup",[J5,Z5]=_i(RE),IE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Er();return c.jsx(J5,{scope:n,id:s,children:c.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});IE.displayName=RE;var PE="SelectLabel",AE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Z5(PE,n);return c.jsx(ue.div,{id:s.id,...r,ref:t})});AE.displayName=PE;var hu="SelectItem",[eU,jE]=_i(hu),ME=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=ks(hu,n),l=Es(hu,n),u=a.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),w=we(t,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),y=Er(),b=f.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(eU,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:f.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(ld.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(ue.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:re(i.onFocus,()=>m(!0)),onBlur:re(i.onBlur,()=>m(!1)),onClick:re(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:re(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:re(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:re(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:re(i.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(B5.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});ME.displayName=hu;var ea="SelectItemText",OE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ks(ea,n),a=Es(ea,n),l=jE(ea,n),u=V5(ea,n),[d,h]=f.useState(null),p=we(t,g=>h(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,w=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return nt(()=>(y(w),()=>b(w)),[y,b,w]),c.jsxs(c.Fragment,{children:[c.jsx(ue.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gi.createPortal(o.children,i.valueNode):null]})});OE.displayName=ea;var LE="SelectItemIndicator",DE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jE(LE,n).isSelected?c.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});DE.displayName=LE;var ep="SelectScrollUpButton",tU=f.forwardRef((e,t)=>{const n=Es(ep,e.__scopeSelect),r=Zg(ep,e.__scopeSelect),[s,o]=f.useState(!1),i=we(t,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(FE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});tU.displayName=ep;var tp="SelectScrollDownButton",nU=f.forwardRef((e,t)=>{const n=Es(tp,e.__scopeSelect),r=Zg(tp,e.__scopeSelect),[s,o]=f.useState(!1),i=we(t,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(FE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});nU.displayName=tp;var FE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Es("SelectScrollButton",n),i=f.useRef(null),a=cd(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),nt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{l()})})}),rU="SelectSeparator",zE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});zE.displayName=rU;var np="SelectArrow",sU=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ud(n),o=ks(np,n),i=Es(np,n);return o.open&&i.position==="popper"?c.jsx(i0,{...s,...r,ref:t}):null});sU.displayName=np;var oU="SelectBubbleInput",BE=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=we(r,s),i=tE(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),c.jsx(ue.select,{...n,style:{...ek,...n.style},ref:o,defaultValue:t})});BE.displayName=oU;function $E(e){return e===""||e===void 0}function UE(e){const t=Xe(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function HE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=iU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function iU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aU=yE,lU=xE,cU=bE,uU=_E,dU=SE,fU=CE,hU=NE,pU=IE,mU=AE,gU=ME,yU=OE,vU=DE,xU=zE,dd="Switch",[wU]=dr(dd),[bU,_U]=wU(dd),VE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[p,m]=f.useState(null),w=we(t,x=>m(x)),y=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[g,v]=Xs({prop:s,defaultProp:o??!1,onChange:u,caller:dd});return c.jsxs(bU,{scope:n,checked:g,disabled:a,children:[c.jsx(ue.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":GE(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onClick:re(e.onClick,x=>{v(C=>!C),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&c.jsx(qE,{control:p,bubbles:!y.current,name:r,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});VE.displayName=dd;var WE="SwitchThumb",KE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=_U(WE,n);return c.jsx(ue.span,{"data-state":GE(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});KE.displayName=WE;var SU="SwitchBubbleInput",qE=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),a=we(i,o),l=tE(n),u=qC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qE.displayName=SU;function GE(e){return e?"checked":"unchecked"}var CU=VE,kU=KE,fd="Tabs",[EU]=dr(fd,[l0]),YE=l0(),[TU,ey]=EU(fd),XE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=Uu(a),[h,p]=Xs({prop:r,onChange:s,defaultProp:o??"",caller:fd});return c.jsx(TU,{scope:n,baseId:Er(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(ue.div,{dir:d,"data-orientation":i,...u,ref:t})})});XE.displayName=fd;var QE="TabsList",JE=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=ey(QE,n),i=YE(n);return c.jsx(tO,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(ue.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});JE.displayName=QE;var ZE="TabsTrigger",eT=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=ey(ZE,n),a=YE(n),l=rT(i.baseId,r),u=sT(i.baseId,r),d=r===i.value;return c.jsx(nO,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:re(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:re(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});eT.displayName=ZE;var tT="TabsContent",nT=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=ey(tT,n),l=rT(a.baseId,r),u=sT(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(hr,{present:s||d,children:({present:p})=>c.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});nT.displayName=tT;function rT(e,t){return`${e}-trigger-${t}`}function sT(e,t){return`${e}-content-${t}`}var NU=XE,RU=JE,IU=eT,PU=nT;const Lr={asChild:{type:"boolean"}},Sc={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},oT={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},AU=["1","2","3","4"],jU={...Lr,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:AU,default:"3",responsive:!0},width:Sc.width,minWidth:Sc.minWidth,maxWidth:{...Sc.maxWidth,default:"600px"},...oT},iT=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],Dr={color:{type:"enum",values:iT,default:void 0}},ty={color:{type:"enum",values:iT,default:""}},Ts={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},MU=["normal","start","end","both"],aT={trim:{type:"enum",className:"rt-r-lt",values:MU,responsive:!0}},OU=["left","center","right"],lT={align:{type:"enum",className:"rt-r-ta",values:OU,responsive:!0}},LU=["wrap","nowrap","pretty","balance"],cT={wrap:{type:"enum",className:"rt-r-tw",values:LU,responsive:!0}},uT={truncate:{type:"boolean",className:"rt-truncate"}},DU=["light","regular","medium","bold"],dT={weight:{type:"enum",className:"rt-r-weight",values:DU,responsive:!0}},FU=["h1","h2","h3","h4","h5","h6"],zU=["1","2","3","4","5","6","7","8","9"],BU={as:{type:"enum",values:FU,default:"h1"},...Lr,size:{type:"enum",className:"rt-r-size",values:zU,default:"6",responsive:!0},...dT,...lT,...aT,...uT,...cT,...Dr,...Ts},$U=["initial","xs","sm","md","lg","xl"],ny=new Set($U);function fT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function va(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>ny.has(t))}function Gr({className:e,customProperties:t,...n}){const r=pu({allowArbitraryValues:!0,className:e,...n}),s=UU({customProperties:t,...n});return[r,s]}function pu({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return Gw(n,t,s);if(va(t)){const i=t;for(const a in i){if(!fT(i,a)||!ny.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=Gw(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function Gw(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function UU({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),va(t)){const o=t;for(const i in o){if(!fT(o,i)||!ny.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function mu(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function HU(...e){return Object.assign({},...e)}function it(e,...t){let n,r;const s={...e},o=HU(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!va(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||va(a)&&!u)continue;if(va(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=pu({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=J(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[h,p]=Gr({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=mu(r,p),n=J(n,h);continue}if(l.type==="boolean"&&a){n=J(n,l.className);continue}}}return s.className=J(n,e.className),s.style=mu(r,e.style),s}const Ps=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Tt={m:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Ps,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},ry=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=it(e,BU,Tt);return f.createElement(Ss,{"data-accent-color":i,...a,ref:t,className:J("rt-Heading",r)},s?n:f.createElement(o,null,n))});ry.displayName="Heading";const VU=["span","div","label","p"],WU=["1","2","3","4","5","6","7","8","9"],KU={as:{type:"enum",values:VU,default:"span"},...Lr,size:{type:"enum",className:"rt-r-size",values:WU,responsive:!0},...dT,...lT,...aT,...uT,...cT,...Dr,...Ts},Y=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=it(e,KU,Tt);return f.createElement(Ss,{"data-accent-color":i,...a,ref:t,className:J("rt-Text",r)},s?n:f.createElement(o,null,n))});Y.displayName="Text";function qU(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const GU=["none","small","medium","large","full"],Si={radius:{type:"enum",values:GU,default:void 0}},Qt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},_o=()=>{},gu=f.createContext(void 0);function YU(){const e=f.useContext(gu);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const hd=f.forwardRef((e,t)=>f.useContext(gu)===void 0?f.createElement(uk,{delayDuration:200},f.createElement(o2,{dir:"ltr"},f.createElement(hT,{...e,ref:t}))):f.createElement(sy,{...e,ref:t}));hd.displayName="Theme";const hT=f.forwardRef((e,t)=>{const{appearance:n=Qt.appearance.default,accentColor:r=Qt.accentColor.default,grayColor:s=Qt.grayColor.default,panelBackground:o=Qt.panelBackground.default,radius:i=Qt.radius.default,scaling:a=Qt.scaling.default,hasBackground:l=Qt.hasBackground.default,...u}=e,[d,h]=f.useState(n);f.useEffect(()=>h(n),[n]);const[p,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[w,y]=f.useState(s);f.useEffect(()=>y(s),[s]);const[b,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[v,x]=f.useState(i);f.useEffect(()=>x(i),[i]);const[C,N]=f.useState(a);return f.useEffect(()=>N(a),[a]),f.createElement(sy,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:w,panelBackground:b,radius:v,scaling:C,onAppearanceChange:h,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:x,onScalingChange:N})});hT.displayName="ThemeRoot";const sy=f.forwardRef((e,t)=>{const n=f.useContext(gu),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Qt.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Qt.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Qt.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Qt.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Qt.radius.default,scaling:h=(n==null?void 0:n.scaling)??Qt.scaling.default,onAppearanceChange:p=_o,onAccentColorChange:m=_o,onGrayColorChange:w=_o,onPanelBackgroundChange:y=_o,onRadiusChange:b=_o,onScalingChange:g=_o,...v}=e,x=r?Ss:"div",C=l==="auto"?qU(a):l,N=e.appearance==="light"||e.appearance==="dark",k=o===void 0?s||N:o;return f.createElement(gu.Provider,{value:f.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:C,panelBackground:u,radius:d,scaling:h,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:w,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,C,u,d,h,p,m,w,y,b,g])},f.createElement(x,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":C,"data-has-background":k?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":h,ref:t,...v,className:J("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});sy.displayName="ThemeImpl";const pT=e=>{if(!f.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${f.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function XU(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=f.Children.only(r);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const QU=["1","2","3"],JU=["solid","soft","surface","outline"],ZU={...Lr,size:{type:"enum",className:"rt-r-size",values:QU,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:JU,default:"soft"},...ty,...Ts,...Si},oy=f.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=it(e,ZU,Tt),a=n?Ss:"span";return f.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:J("rt-reset","rt-Badge",r)})});oy.displayName="Badge";const e6=Ss,As=["0","1","2","3","4","5","6","7","8","9"],Cc={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:As,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:As,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:As,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:As,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:As,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:As,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:As,responsive:!0}},Ef=["visible","hidden","clip","scroll","auto"],t6=["static","relative","absolute","fixed","sticky"],qi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],n6=["0","1"],r6=["0","1"],s6=["start","center","end","baseline","stretch"],o6=["start","center","end","baseline","stretch"],i6={...Cc,...Sc,...oT,position:{type:"enum",className:"rt-r-position",values:t6,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:qi,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:qi,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:qi,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:qi,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:qi,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:Ef,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:Ef,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:Ef,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:n6,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:r6,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:s6,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:o6,responsive:!0}},a6=["1","2","3","4"],l6=["classic","solid","soft","surface","outline","ghost"],Yw={...Lr,size:{type:"enum",className:"rt-r-size",values:a6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:l6,default:"solid"},...ty,...Ts,...Si,loading:{type:"boolean",className:"rt-loading",default:!1}},Tf=["0","1","2","3","4","5","6","7","8","9"],c6={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Tf,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Tf,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Tf,responsive:!0}},u6=["div","span"],d6=["none","inline-flex","flex"],f6=["row","column","row-reverse","column-reverse"],h6=["start","center","end","baseline","stretch"],p6=["start","center","end","between"],m6=["nowrap","wrap","wrap-reverse"],mT={as:{type:"enum",values:u6,default:"div"},...Lr,display:{type:"enum",className:"rt-r-display",values:d6,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:f6,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:h6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:p6,parseValue:g6,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:m6,responsive:!0},...c6};function g6(e){return e==="between"?"space-between":e}const wn=f.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=it(e,mT,i6,Tt);return f.createElement(r?e6:s,{...o,ref:t,className:J("rt-Flex",n)})});wn.displayName="Flex";const y6=["1","2","3"],v6={size:{type:"enum",className:"rt-r-size",values:y6,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},gT=f.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=it(e,v6,Tt);if(!s)return r;const i=f.createElement("span",{...o,ref:t,className:J("rt-Spinner",n)},f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:f.createElement(wn,{asChild:!0,position:"relative",align:"center",justify:"center"},f.createElement("span",null,f.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),f.createElement(wn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,i))))});gT.displayName="Spinner";const x6=nk;function yT(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function w6(e){return e==="3"?"3":"2"}function b6(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const vT=f.forwardRef((e,t)=>{const{size:n=Yw.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=it(e,Yw,Tt),d=o?Ss:"button";return f.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:J("rt-reset","rt-BaseButton",r),disabled:l},e.loading?f.createElement(f.Fragment,null,f.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),f.createElement(x6,null,s),f.createElement(wn,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,f.createElement(gT,{size:yT(n,b6)})))):s)});vT.displayName="BaseButton";const pn=f.forwardRef(({className:e,...t},n)=>f.createElement(vT,{...t,ref:n,className:J("rt-Button",e)}));pn.displayName="Button";const _6=["1","2","3"],S6=["soft","surface","outline"],Xw={...Lr,size:{type:"enum",className:"rt-r-size",values:_6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:S6,default:"soft"},...ty,...Ts},xT=f.createContext({}),fn=f.forwardRef((e,t)=>{const{size:n=Xw.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=it(e,Xw,Tt),l=r?Ss:"div";return f.createElement(l,{"data-accent-color":i,...a,className:J("rt-CalloutRoot",o),ref:t},f.createElement(xT.Provider,{value:f.useMemo(()=>({size:n}),[n])},s))});fn.displayName="Callout.Root";const C6=f.forwardRef(({className:e,...t},n)=>f.createElement("div",{...t,className:J("rt-CalloutIcon",e),ref:n}));C6.displayName="Callout.Icon";const hn=f.forwardRef(({className:e,...t},n)=>{const{size:r}=f.useContext(xT);return f.createElement(Y,{as:"p",size:yT(r,w6),...t,asChild:!1,ref:n,className:J("rt-CalloutText",e)})});hn.displayName="Callout.Text";const k6=["1","2","3","4","5"],E6=["surface","classic","ghost"],T6={...Lr,size:{type:"enum",className:"rt-r-size",values:k6,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:E6,default:"surface"}},St=f.forwardRef((e,t)=>{const{asChild:n,className:r,...s}=it(e,T6,Tt),o=n?Ss:"div";return f.createElement(o,{ref:t,...s,className:J("rt-reset","rt-BaseCard","rt-Card",r)})});St.displayName="Card";var wT=ue;wT.dispatchDiscreteCustomEvent=NC;wT.Root=ue;const N6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));N6.displayName="ThickDividerHorizontalIcon";const bT=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));bT.displayName="ThickCheckIcon";const _T=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));_T.displayName="ChevronDownIcon";const R6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));R6.displayName="ThickChevronRightIcon";const I6=["1","2","3"],Gi={...Lr,size:{values:I6,default:"1"},...Si,scrollbars:{default:"both"}};function P6(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const js=Tt.m.values;function A6(e){const[t,n]=Gr({className:"rt-r-m",customProperties:["--margin"],propValues:js,value:e.m}),[r,s]=Gr({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:js,value:e.mx}),[o,i]=Gr({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:js,value:e.my}),[a,l]=Gr({className:"rt-r-mt",customProperties:["--margin-top"],propValues:js,value:e.mt}),[u,d]=Gr({className:"rt-r-mr",customProperties:["--margin-right"],propValues:js,value:e.mr}),[h,p]=Gr({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:js,value:e.mb}),[m,w]=Gr({className:"rt-r-ml",customProperties:["--margin-left"],propValues:js,value:e.ml});return[J(t,r,o,a,u,h,m),mu(n,s,i,l,d,p,w)]}const ST=f.forwardRef((e,t)=>{const{rest:n,...r}=P6(e),[s,o]=A6(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:p,size:m=Gi.size.default,radius:w=Gi.radius.default,scrollbars:y=Gi.scrollbars.default,...b}=n;return f.createElement(mE,{type:d,scrollHideDelay:h,className:J("rt-ScrollAreaRoot",s,l),style:mu(o,u),asChild:i},XU({asChild:i,children:a},g=>f.createElement(f.Fragment,null,f.createElement(gE,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?f.createElement(Xh,{"data-radius":w,orientation:"horizontal",className:J("rt-ScrollAreaScrollbar",pu({className:"rt-r-size",value:m,propValues:Gi.size.values}))},f.createElement(Qh,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?f.createElement(Xh,{"data-radius":w,orientation:"vertical",className:J("rt-ScrollAreaScrollbar",pu({className:"rt-r-size",value:m,propValues:Gi.size.values}))},f.createElement(Qh,{className:"rt-ScrollAreaThumb"})):null,y==="both"?f.createElement(F5,{className:"rt-ScrollAreaCorner"}):null)))});ST.displayName="ScrollArea";const Lo=e=>f.createElement(Yk,{...e,modal:!0});Lo.displayName="Dialog.Root";const j6=f.forwardRef(({children:e,...t},n)=>f.createElement(Xk,{...t,ref:n,asChild:!0},pT(e)));j6.displayName="Dialog.Trigger";const Do=f.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=jU,{className:o}=it({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=it(t,s);return f.createElement(Qk,{container:l,forceMount:a},f.createElement(hd,{asChild:!0},f.createElement(ig,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},f.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},f.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},f.createElement(ag,{...u,ref:n,className:J("rt-BaseDialogContent","rt-DialogContent",i)}))))))});Do.displayName="Dialog.Content";const Fo=f.forwardRef((e,t)=>f.createElement(MF,{asChild:!0},f.createElement(ry,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));Fo.displayName="Dialog.Title";const zo=f.forwardRef((e,t)=>f.createElement(OF,{asChild:!0},f.createElement(Y,{as:"p",size:"3",...e,asChild:!1,ref:t})));zo.displayName="Dialog.Description";const CT=f.forwardRef(({children:e,...t},n)=>f.createElement(LF,{...t,ref:n,asChild:!0},pT(e)));CT.displayName="Dialog.Close";const M6=["1","2","3"],iy={size:{type:"enum",className:"rt-r-size",values:M6,default:"2",responsive:!0}},O6=["classic","surface","soft","ghost"],L6={variant:{type:"enum",className:"rt-variant",values:O6,default:"surface"},...Dr,...Si,placeholder:{type:"string"}},D6=["solid","soft"],F6={variant:{type:"enum",className:"rt-variant",values:D6,default:"solid"},...Dr,...Ts},ay=f.createContext({}),ly=e=>{const{children:t,size:n=iy.size.default,...r}=e;return f.createElement(aU,{...r},f.createElement(ay.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};ly.displayName="Select.Root";const cy=f.forwardRef((e,t)=>{const n=f.useContext(ay),{children:r,className:s,color:o,radius:i,placeholder:a,...l}=it({size:n==null?void 0:n.size,...e},{size:iy.size},L6,Tt);return f.createElement(lU,{asChild:!0},f.createElement("button",{"data-accent-color":o,"data-radius":i,...l,ref:t,className:J("rt-reset","rt-SelectTrigger",s)},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(cU,{placeholder:a},r)),f.createElement(uU,{asChild:!0},f.createElement(_T,{className:"rt-SelectIcon"}))))});cy.displayName="Select.Trigger";const uy=f.forwardRef((e,t)=>{const n=f.useContext(ay),{className:r,children:s,color:o,container:i,...a}=it({size:n==null?void 0:n.size,...e},{size:iy.size},F6),l=YU(),u=o||l.accentColor;return f.createElement(dU,{container:i},f.createElement(hd,{asChild:!0},f.createElement(fU,{"data-accent-color":u,sideOffset:4,...a,asChild:!1,ref:t,className:J({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},f.createElement(mE,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(hU,{asChild:!0,className:"rt-SelectViewport"},f.createElement(gE,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),f.createElement(Xh,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement(Qh,{className:"rt-ScrollAreaThumb"}))))))});uy.displayName="Select.Content";const xa=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(gU,{...s,asChild:!1,ref:t,className:J("rt-SelectItem",n)},f.createElement(vU,{className:"rt-SelectItemIndicator"},f.createElement(bT,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(yU,null,r))});xa.displayName="Select.Item";const z6=f.forwardRef(({className:e,...t},n)=>f.createElement(pU,{...t,asChild:!1,ref:n,className:J("rt-SelectGroup",e)}));z6.displayName="Select.Group";const B6=f.forwardRef(({className:e,...t},n)=>f.createElement(mU,{...t,asChild:!1,ref:n,className:J("rt-SelectLabel",e)}));B6.displayName="Select.Label";const $6=f.forwardRef(({className:e,...t},n)=>f.createElement(xU,{...t,asChild:!1,ref:n,className:J("rt-SelectSeparator",e)}));$6.displayName="Select.Separator";const U6=["horizontal","vertical"],H6=["1","2","3","4"],V6={orientation:{type:"enum",className:"rt-r-orientation",values:U6,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:H6,default:"1",responsive:!0},color:{...Dr.color,default:"gray"},decorative:{type:"boolean",default:!0}},dy=f.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=it(e,V6,Tt);return f.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:J("rt-Separator",n)})});dy.displayName="Separator";const W6=["1","2","3"],K6=["classic","surface","soft"],q6={size:{type:"enum",className:"rt-r-size",values:W6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:K6,default:"surface"},...Dr,...Ts,...Si},kT=f.forwardRef((e,t)=>{const{className:n,color:r,radius:s,...o}=it(e,q6,Tt);return f.createElement(CU,{"data-accent-color":r,"data-radius":s,...o,asChild:!1,ref:t,className:J("rt-reset","rt-SwitchRoot",n)},f.createElement(kU,{className:J("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});kT.displayName="Switch";const G6=["1","2"],Y6=["nowrap","wrap","wrap-reverse"],X6=["start","center","end"],Q6={size:{type:"enum",className:"rt-r-size",values:G6,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:Y6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:X6,responsive:!0},...Dr,...Ts},ET=f.forwardRef((e,t)=>{const{className:n,...r}=it(e,Tt);return f.createElement(NU,{...r,ref:t,className:J("rt-TabsRoot",n)})});ET.displayName="Tabs.Root";const TT=f.forwardRef((e,t)=>{const{className:n,color:r,...s}=it(e,Q6,Tt);return f.createElement(RU,{"data-accent-color":r,...s,asChild:!1,ref:t,className:J("rt-BaseTabList","rt-TabsList",n)})});TT.displayName="Tabs.List";const Yr=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(IU,{...s,asChild:!1,ref:t,className:J("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},r))});Yr.displayName="Tabs.Trigger";const Xr=f.forwardRef((e,t)=>{const{className:n,...r}=it(e,Tt);return f.createElement(PU,{...r,ref:t,className:J("rt-TabsContent",n)})});Xr.displayName="Tabs.Content";const J6=["1","2","3"],Z6=["classic","surface","soft"],e8={size:{type:"enum",className:"rt-r-size",values:J6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Z6,default:"surface"},...Dr,...Si},t8=["left","right"],n8={side:{type:"enum",values:t8},...Dr,gap:mT.gap,px:Cc.px,pl:Cc.pl,pr:Cc.pr},ne=f.forwardRef((e,t)=>{const n=f.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=it(e,e8,Tt);return f.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:J("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const p=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(p,p)}catch{}h.focus()})}},f.createElement("input",{spellCheck:"false",...l,ref:Bu(n,t),className:"rt-reset rt-TextFieldInput"}),r)});ne.displayName="TextField.Root";const r8=f.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=it(e,n8);return f.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:J("rt-TextFieldSlot",n)})});r8.displayName="TextField.Slot";function s8(e){const t=/^session-(\d{14})$/.exec(e.trim());if(!t)return null;const n=t[1],r=Number(n.slice(0,4)),s=Number(n.slice(4,6)),o=Number(n.slice(6,8)),i=Number(n.slice(8,10)),a=Number(n.slice(10,12)),l=Number(n.slice(12,14));if(!Number.isFinite(r)||!Number.isFinite(s)||!Number.isFinite(o))return null;const u=new Date(r,s-1,o,i,a,l);return Number.isNaN(u.getTime())?null:u}function Xl(e){return String(e).padStart(2,"0")}function o8(e){const t=s8(e.session_key),n=Date.parse(e.last_message_time||""),r=t||(Number.isFinite(n)?new Date(n):null);return r?`created ${r.getFullYear()}-${Xl(r.getMonth()+1)}-${Xl(r.getDate())} ${Xl(r.getHours())}:${Xl(r.getMinutes())}`:"created --"}function Qw({appearance:e,onToggleAppearance:t,uiTheme:n,onUiThemeChange:r,uiThemeOptions:s,sessionItems:o,selectedSessionKey:i,onSessionSelect:a,onRefreshSession:l,onResetSession:u,onDeleteSession:d,onOpenConfig:h,onOpenUsage:p,onNewSession:m,appVersion:w}){const y=e==="dark",[b,g]=f.useState(null),[v,x]=f.useState(!1),C=f.useRef(null),N=f.useRef(null),k=f.useRef(null);return f.useEffect(()=>{const T=O=>{var L,D,K;const j=O.target;j&&((L=N.current)!=null&&L.contains(j)||(D=C.current)!=null&&D.contains(j)||(K=k.current)!=null&&K.contains(j)||(g(null),x(!1)))},I=()=>{g(null),x(!1)};return window.addEventListener("pointerdown",T),window.addEventListener("scroll",I,!0),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("scroll",I,!0)}},[]),c.jsxs("aside",{className:y?"flex h-full min-h-0 flex-col border-r p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",style:y?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-sidebar)"}:void 0,children:[c.jsxs(wn,{justify:"between",align:"center",className:"mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),c.jsx(Y,{size:"5",weight:"bold",children:"MicroClaw"})]}),c.jsxs("div",{className:"relative flex items-center gap-2",children:[c.jsx("button",{ref:N,type:"button",onClick:T=>{T.stopPropagation(),x(I=>!I)},"aria-label":"Change UI theme color",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:""})}),c.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),t()},"aria-label":y?"Switch to light mode":"Switch to dark mode",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:y?"":""})}),v?c.jsxs("div",{ref:C,className:y?"absolute right-0 top-10 z-50 w-56 rounded-lg border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-sidebar)] p-2 shadow-xl":"absolute right-0 top-10 z-50 w-56 rounded-lg border border-slate-300 bg-white p-2 shadow-xl",children:[c.jsx(Y,{size:"1",color:"gray",children:"Theme"}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:s.map(T=>c.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),r(T.key),x(!1)},className:n===T.key?y?"flex items-center gap-2 rounded-md border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-2 py-1 text-left text-xs text-slate-100":"flex items-center gap-2 rounded-md border px-2 py-1 text-left text-xs text-slate-900":y?"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-600 hover:border-slate-200 hover:bg-slate-50",style:!y&&n===T.key?{borderColor:"var(--mc-accent)",backgroundColor:"color-mix(in srgb, var(--mc-accent) 12%, white)"}:void 0,children:[c.jsx("span",{className:y?"h-3 w-3 rounded-sm border border-white/20":"h-3 w-3 rounded-sm border border-slate-300",style:{backgroundColor:T.color},"aria-hidden":"true"}),T.label]},T.key))})]}):null]})]}),c.jsx(wn,{direction:"column",gap:"2",className:"mb-4",children:c.jsx("button",{type:"button",onClick:m,className:"inline-flex h-9 w-full items-center justify-center rounded-md border border-transparent text-[15px] font-medium transition hover:brightness-110 active:brightness-95",style:y?{backgroundColor:"var(--mc-accent)",color:"#06110f"}:{backgroundColor:"var(--mc-accent)",color:"#ffffff"},children:"New Session"})}),c.jsx(dy,{size:"4",className:"my-4"}),c.jsxs(wn,{justify:"between",align:"center",className:"mb-2",children:[c.jsx(Y,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),c.jsx(oy,{variant:"surface",children:o.length})]}),c.jsx("div",{className:y?"min-h-0 flex-1 rounded-xl border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:c.jsxs(ST,{type:"auto",style:{height:"100%"},children:[c.jsx("div",{className:"mb-2",children:c.jsx(Y,{size:"1",color:"gray",children:"Chats"})}),c.jsx("div",{className:"flex flex-col gap-1.5 pr-4",children:o.map(T=>c.jsxs("button",{type:"button",onClick:()=>a(T.session_key),onContextMenu:I=>{I.preventDefault(),g({x:I.clientX,y:I.clientY,key:T.session_key})},className:i===T.session_key?y?"flex w-full max-w-full flex-col items-start rounded-lg border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-3 py-2 text-left shadow-sm":"flex w-full max-w-full flex-col items-start rounded-lg border bg-white px-3 py-2 text-left shadow-sm":y?"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",style:!y&&i===T.session_key?{borderColor:"color-mix(in srgb, var(--mc-accent) 36%, #94a3b8)",boxShadow:"0 4px 12px color-mix(in srgb, var(--mc-accent) 12%, transparent)"}:void 0,children:[c.jsx("span",{className:"max-w-full truncate text-sm font-medium",children:T.label}),c.jsx("span",{className:y?"mt-0.5 text-[11px] uppercase tracking-wide text-slate-500":"mt-0.5 text-[11px] uppercase tracking-wide text-slate-400",children:T.chat_type}),c.jsx("span",{className:y?"mt-0.5 text-[11px] text-slate-500":"mt-0.5 text-[11px] text-slate-400",children:o8(T)})]},T.session_key))})]})}),c.jsxs("div",{className:y?"mt-4 border-t border-[color:var(--mc-border-soft)] pt-3":"mt-4 border-t border-slate-200 pt-3",children:[c.jsx(pn,{size:"2",variant:"soft",onClick:()=>void p(),style:{width:"100%"},children:"Usage Panel"}),c.jsx(pn,{size:"2",variant:"soft",onClick:()=>void h(),style:{width:"100%",marginTop:"8px"},children:"Runtime Config"}),c.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[c.jsx("a",{href:"https://microclaw.ai",target:"_blank",rel:"noreferrer",className:y?"text-xs text-slate-400 hover:text-slate-200":"text-xs text-slate-600 hover:text-slate-900",children:"microclaw.ai"}),c.jsx(Y,{size:"1",className:"text-slate-500",children:w?`v${w}`:"v--"})]})]}),b?c.jsxs("div",{ref:k,className:y?"fixed z-50 min-w-[170px] rounded-lg border border-emerald-900/80 bg-[#092018] p-1.5 shadow-xl":"fixed z-50 min-w-[170px] rounded-lg border border-slate-300 bg-white p-1.5 shadow-xl",style:{left:b.x,top:b.y},onClick:T=>T.stopPropagation(),children:[c.jsx("button",{type:"button",className:y?"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-100 hover:bg-emerald-900/50":"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{l(b.key),g(null)},children:"Refresh"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-300 hover:bg-amber-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-700 hover:bg-amber-50",onClick:()=>{u(b.key),g(null)},children:"Clear Context"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-300 hover:bg-red-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-700 hover:bg-red-50",onClick:()=>{d(b.key),g(null)},children:"Delete"})]}):null]})}function Qn(e){return Number.isFinite(e)?Math.trunc(e).toLocaleString("en-US"):"0"}function i8(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?"0%":`${(e/t*100).toFixed(1)}%`}function Ql(e,t,n){const r=Date.now(),s=3600*1e3,o=r-t*s,i=Math.max(1,Math.ceil(t/n)),a=Array.from({length:i},(l,u)=>({label:`${u+1}`,a:0,b:0,c:0}));for(const l of e){const u=Date.parse(l.ts);if(!Number.isFinite(u)||u<o||u>r)continue;const d=Math.min(i-1,Math.max(0,Math.floor((u-o)/(n*s))));a[d].a+=l.a,a[d].b+=l.b,a[d].c+=l.c}return a}function a8(e,t=320,n=70){if(e.length===0)return"";const r=Math.max(...e,1),s=Math.min(...e,0),o=Math.max(1e-6,r-s);return e.map((i,a)=>{const l=a/Math.max(1,e.length-1)*t,u=n-(i-s)/o*n;return`${a===0?"M":"L"}${l.toFixed(2)},${u.toFixed(2)}`}).join(" ")}function Wr({title:e,subtitle:t,values:n,color:r}){const s=a8(n);return c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"block",children:t}),c.jsx("div",{className:"mt-2",children:c.jsx("svg",{viewBox:"0 0 320 70",className:"h-[70px] w-full",children:c.jsx("path",{d:s,fill:"none",stroke:r,strokeWidth:"2.5"})})})]})}function l8(e){const{open:t,onOpenChange:n,usageSession:r,sessionKey:s,usageLoading:o,usageError:i,usageReport:a,usageMemory:l,reflectorRuns:u,injectionLogs:d,onRefreshCurrent:h,onRefreshThis:p}=e,m=f.useMemo(()=>{const y=Ql(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),24,1),b=Ql(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24,1);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]),w=f.useMemo(()=>{const y=Ql(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),168,24),b=Ql(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24*7,24);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]);return c.jsx(Lo,{open:t,onOpenChange:n,children:c.jsxs(Do,{maxWidth:"980px",className:"min-h-0 overflow-hidden flex flex-col",style:{width:"980px",height:"760px",maxWidth:"980px",maxHeight:"760px"},children:[c.jsx(Fo,{children:"Usage Panel"}),c.jsxs(zo,{size:"2",mb:"3",children:["Token and memory observability for session ",c.jsx("code",{children:r||s})]}),c.jsx("div",{className:"mb-3",children:c.jsxs(wn,{gap:"2",children:[c.jsx(pn,{size:"2",variant:"soft",onClick:h,disabled:o,children:"Refresh Current Session"}),c.jsx(pn,{size:"2",variant:"soft",onClick:p,disabled:o,children:"Refresh This Panel"})]})}),c.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:c.jsx(St,{className:"min-h-0 p-3",children:o?c.jsx(Y,{size:"2",children:"Loading usage report..."}):i?c.jsx(fn,{color:"red",size:"1",variant:"soft",children:c.jsx(hn,{children:i})}):c.jsxs("div",{className:"space-y-4",children:[l?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(wn,{justify:"between",align:"center",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Memory Observability"}),c.jsx(Y,{size:"1",color:"gray",children:"24h + 7d trends"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:[c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Memory Pool"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Qn(l.total)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["active ",Qn(l.active)," / archived ",Qn(l.archived)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Avg Confidence"}),c.jsxs(Y,{size:"4",weight:"bold",className:"mt-1 block",children:[(l.avg_confidence*100).toFixed(1),"%"]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["low confidence: ",Qn(l.low_confidence)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Reflector 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Qn(l.reflector_runs_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["+",Qn(l.reflector_inserted_24h)," / ~",Qn(l.reflector_updated_24h)," / -",Qn(l.reflector_skipped_24h)]})]}),c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Injection Coverage 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:i8(l.injection_selected_24h,l.injection_candidates_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:[Qn(l.injection_selected_24h)," selected / ",Qn(l.injection_candidates_24h)," candidates"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(Wr,{title:"Reflector Inserts (24h)",subtitle:"hourly buckets",values:m.inserted,color:"#10b981"}),c.jsx(Wr,{title:"Reflector Updates (24h)",subtitle:"hourly buckets",values:m.updated,color:"#3b82f6"}),c.jsx(Wr,{title:"Reflector Skips (24h)",subtitle:"hourly buckets",values:m.skipped,color:"#f59e0b"}),c.jsx(Wr,{title:"Injection Coverage (24h)",subtitle:"selected/candidates %",values:m.coverage,color:"#a855f7"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(Wr,{title:"Reflector Inserts (7d)",subtitle:"daily buckets",values:w.inserted,color:"#059669"}),c.jsx(Wr,{title:"Reflector Updates (7d)",subtitle:"daily buckets",values:w.updated,color:"#2563eb"}),c.jsx(Wr,{title:"Reflector Skips (7d)",subtitle:"daily buckets",values:w.skipped,color:"#d97706"}),c.jsx(Wr,{title:"Injection Coverage (7d)",subtitle:"selected/candidates %",values:w.coverage,color:"#7e22ce"})]})]}):null,c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Token Usage Report"}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-[13px] leading-6",children:a||"(no usage data)"})]})]})})})]})})}function fy(e){if(!e)return{visibleText:"",thinkSegments:[]};const t=[];let n="",r=0;for(;r<e.length;){const s=e.indexOf("<think>",r);if(s<0){n+=e.slice(r);break}n+=e.slice(r,s);const o=s+7,i=e.indexOf("</think>",o);if(i<0){const l=e.slice(o).trim();l&&t.push(l);break}const a=e.slice(o,i).trim();a&&t.push(a),r=i+8}return{visibleText:n,thinkSegments:t}}function c8(e){if(!Array.isArray(e))return"";const t=[];for(const n of e){if(n.type!=="text"||typeof n.text!="string")continue;const r=fy(n.text);r.thinkSegments.length>0&&t.push(...r.thinkSegments)}return t.join(`

`)}const Zr="https://microclaw.ai/docs";function u8(e){switch(e){case"sandbox_disabled":case"sandbox_runtime_unavailable":case"sandbox_mount_allowlist_missing":return`${Zr}/configuration#sandbox`;case"auth_password_not_configured":case"legacy_auth_token_enabled":case"web_host_not_loopback":return`${Zr}/permissions`;case"web_rate_limit_too_high":case"web_inflight_limit_too_high":case"web_rate_window_too_small_for_limit":case"web_session_idle_ttl_too_low":return`${Zr}/configuration#web`;case"hooks_max_input_bytes_too_high":case"hooks_max_output_bytes_too_high":return`${Zr}/hooks`;case"otlp_enabled_without_endpoint":case"otlp_queue_capacity_low":case"otlp_retry_attempts_too_low":return`${Zr}/observability`;default:return`${Zr}/configuration`}}const d8=["openai","openai-codex","ollama","openrouter","anthropic","google","alibaba","deepseek","moonshot","mistral","azure","bedrock","zhipu","minimax","cohere","tencent","xai","huggingface","together","custom"],f8={anthropic:["claude-sonnet-4-5-20250929","claude-opus-4-1-20250805","claude-3-7-sonnet-latest"],openai:["gpt-5.2"],"openai-codex":["gpt-5.3-codex"],ollama:["llama3.2","qwen2.5","deepseek-r1"],openrouter:["openai/gpt-5","anthropic/claude-sonnet-4-5","google/gemini-2.5-pro"],deepseek:["deepseek-chat","deepseek-reasoner"],google:["gemini-2.5-pro","gemini-2.5-flash"]},rt={llm_provider:"anthropic",working_dir_isolation:"chat",high_risk_tool_user_confirmation_required:!0,max_tokens:8192,max_tool_iterations:100,max_document_size_mb:100,memory_token_budget:1500,show_thinking:!1,web_enabled:!0,web_host:"127.0.0.1",web_port:10961,reflector_enabled:!0,reflector_interval_mins:15,embedding_provider:"",embedding_api_key:"",embedding_base_url:"",embedding_model:"",embedding_dim:"",souls_dir:""},Jl=[{name:"slack",title:"Slack",icon:"",steps:["Go to api.slack.com/apps and create a new app.","Enable Socket Mode and create an app-level token (xapp-).","Add bot token scopes: chat:write, channels:history, groups:history, im:history, mpim:history, app_mentions:read.","Install to workspace and copy the Bot User OAuth Token (xoxb-).","Enable Event Subscriptions and subscribe to: message.channels, message.groups, message.im, message.mpim, app_mention."],hint:"Required: bot token and app token. Leave tokens blank to keep current secrets unchanged.",fields:[{yamlKey:"bot_token",label:"slack_bot_token",placeholder:"xoxb-...",description:"Bot User OAuth Token (xoxb-) for sending messages. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"app_token",label:"slack_app_token",placeholder:"xapp-...",description:"App-level token (xapp-) for Socket Mode connection. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"bot_username",label:"slack_bot_username",placeholder:"slack_bot_name",description:"Optional Slack-specific bot username override.",secret:!1},{yamlKey:"model",label:"slack_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Slack bot model override for this account.",secret:!1}]},{name:"feishu",title:"Feishu / Lark",icon:"",steps:["Go to Feishu Open Platform (or Lark Developer for international) and create a custom app.","Copy the App ID and App Secret from Credentials.","Add permissions: im:message, im:message:send_as_bot, im:resource.","Enable Long Connection mode (recommended) or configure a webhook URL.","Subscribe to event: im.message.receive_v1."],hint:'Required: App ID and App Secret. Domain defaults to "feishu" (China); use "lark" for international.',fields:[{yamlKey:"app_id",label:"feishu_app_id",placeholder:"cli_xxx",description:"App ID from Feishu Open Platform credentials.",secret:!1},{yamlKey:"app_secret",label:"feishu_app_secret",placeholder:"xxx",description:"App Secret from Feishu Open Platform. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"domain",label:"feishu_domain",placeholder:"feishu",description:'Use "feishu" for China, "lark" for international, or a custom base URL.',secret:!1},{yamlKey:"bot_username",label:"feishu_bot_username",placeholder:"feishu_bot_name",description:"Optional Feishu-specific bot username override.",secret:!1},{yamlKey:"model",label:"feishu_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Feishu bot model override for this account.",secret:!1},{yamlKey:"topic_mode",label:"feishu_topic_mode",placeholder:"false",description:"Optional topic mode (true/false).",secret:!1,valueType:"bool"},{yamlKey:"show_progress",label:"feishu_show_progress",placeholder:"false",description:"Optional progress updates in topic mode (true/false).",secret:!1,valueType:"bool"}]},{name:"matrix",title:"Matrix",icon:"",steps:["Prepare a Matrix bot account on your homeserver.","Get homeserver URL, bot user ID, and access token.","Invite the bot to target rooms/chats."],hint:"Required: homeserver_url, access_token, bot_user_id.",fields:[{yamlKey:"homeserver_url",label:"matrix_homeserver_url",placeholder:"https://matrix.org",description:"Matrix homeserver URL.",secret:!1},{yamlKey:"access_token",label:"matrix_access_token",placeholder:"syt_xxx",description:"Matrix access token for the bot account.",secret:!0},{yamlKey:"bot_user_id",label:"matrix_bot_user_id",placeholder:"@bot:example.org",description:"Matrix bot user ID.",secret:!1},{yamlKey:"bot_username",label:"matrix_bot_username",placeholder:"matrix_bot_name",description:"Optional Matrix-specific bot username override.",secret:!1}]},{name:"whatsapp",title:"WhatsApp",icon:"",steps:["Create WhatsApp Cloud API app in Meta Developer dashboard.","Copy access token and phone number ID.","Configure webhook and verify token if needed."],hint:"Required: access_token and phone_number_id.",fields:[{yamlKey:"access_token",label:"whatsapp_access_token",placeholder:"EAAG...",description:"WhatsApp Cloud API access token.",secret:!0},{yamlKey:"phone_number_id",label:"whatsapp_phone_number_id",placeholder:"1234567890",description:"WhatsApp phone number ID.",secret:!1},{yamlKey:"webhook_verify_token",label:"whatsapp_webhook_verify_token",placeholder:"verify-token",description:"Optional webhook verify token.",secret:!0},{yamlKey:"api_version",label:"whatsapp_api_version",placeholder:"v21.0",description:"Graph API version.",secret:!1},{yamlKey:"webhook_path",label:"whatsapp_webhook_path",placeholder:"/whatsapp/webhook",description:"Webhook path.",secret:!1},{yamlKey:"allowed_user_ids",label:"whatsapp_allowed_user_ids",placeholder:"user1,user2",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"whatsapp_bot_username",placeholder:"whatsapp_bot_name",description:"Optional WhatsApp-specific bot username override.",secret:!1},{yamlKey:"model",label:"whatsapp_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional WhatsApp bot model override for this account.",secret:!1}]},{name:"imessage",title:"iMessage",icon:"",steps:["Run on macOS with osascript support.","Choose service type and connect sender workflow."],hint:"Default service is iMessage.",fields:[{yamlKey:"service",label:"imessage_service",placeholder:"iMessage",description:"Service type (iMessage/SMS relay setup dependent).",secret:!1},{yamlKey:"bot_username",label:"imessage_bot_username",placeholder:"imessage_bot_name",description:"Optional iMessage-specific bot username override.",secret:!1},{yamlKey:"model",label:"imessage_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional iMessage bot model override for this account.",secret:!1}]},{name:"email",title:"Email",icon:"",steps:["Set sender address and sendmail path.","Expose webhook endpoint if receiving inbound events.","Optionally restrict allowed senders."],hint:"Required: from_address.",fields:[{yamlKey:"from_address",label:"email_from_address",placeholder:"bot@example.com",description:"Email sender address.",secret:!1},{yamlKey:"sendmail_path",label:"email_sendmail_path",placeholder:"/usr/sbin/sendmail",description:"sendmail binary path.",secret:!1},{yamlKey:"webhook_path",label:"email_webhook_path",placeholder:"/email/webhook",description:"Inbound webhook path.",secret:!1},{yamlKey:"webhook_token",label:"email_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_senders",label:"email_allowed_senders",placeholder:"a@example.com,b@example.com",description:"Optional allowed sender list csv.",secret:!1},{yamlKey:"bot_username",label:"email_bot_username",placeholder:"email_bot_name",description:"Optional Email-specific bot username override.",secret:!1},{yamlKey:"model",label:"email_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Email bot model override for this account.",secret:!1}]},{name:"nostr",title:"Nostr",icon:"",steps:["Configure publish command used to send outgoing replies.","Configure webhook endpoint for incoming events."],hint:"Recommended: set publish_command and webhook token.",fields:[{yamlKey:"publish_command",label:"nostr_publish_command",placeholder:"nostril publish ...",description:"Command used to publish messages.",secret:!1},{yamlKey:"webhook_path",label:"nostr_webhook_path",placeholder:"/nostr/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"nostr_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_pubkeys",label:"nostr_allowed_pubkeys",placeholder:"npub1...,npub1...",description:"Optional allowed pubkeys csv.",secret:!1},{yamlKey:"bot_username",label:"nostr_bot_username",placeholder:"nostr_bot_name",description:"Optional Nostr-specific bot username override.",secret:!1},{yamlKey:"model",label:"nostr_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Nostr bot model override for this account.",secret:!1}]},{name:"signal",title:"Signal",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"signal_send_command",placeholder:"signal-cli send ...",description:"Command used to send Signal messages.",secret:!1},{yamlKey:"webhook_path",label:"signal_webhook_path",placeholder:"/signal/messages",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"signal_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_numbers",label:"signal_allowed_numbers",placeholder:"+15551234567,+15559876543",description:"Optional allowed numbers csv.",secret:!1},{yamlKey:"bot_username",label:"signal_bot_username",placeholder:"signal_bot_name",description:"Optional Signal-specific bot username override.",secret:!1},{yamlKey:"model",label:"signal_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Signal bot model override for this account.",secret:!1}]},{name:"dingtalk",title:"DingTalk",icon:"",steps:["Create DingTalk robot integration.","Set robot webhook URL and inbound webhook route."],hint:"Recommended: set robot_webhook_url and webhook token.",fields:[{yamlKey:"robot_webhook_url",label:"dingtalk_robot_webhook_url",placeholder:"https://oapi.dingtalk.com/robot/send?...",description:"DingTalk robot webhook URL.",secret:!0},{yamlKey:"webhook_path",label:"dingtalk_webhook_path",placeholder:"/dingtalk/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"dingtalk_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_chat_ids",label:"dingtalk_allowed_chat_ids",placeholder:"chat1,chat2",description:"Optional allowed chat IDs csv.",secret:!1},{yamlKey:"bot_username",label:"dingtalk_bot_username",placeholder:"dingtalk_bot_name",description:"Optional DingTalk-specific bot username override.",secret:!1},{yamlKey:"model",label:"dingtalk_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional DingTalk bot model override for this account.",secret:!1}]},{name:"qq",title:"QQ",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"qq_send_command",placeholder:"qq-send ...",description:"Command used to send QQ messages.",secret:!1},{yamlKey:"webhook_path",label:"qq_webhook_path",placeholder:"/qq/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"qq_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_user_ids",label:"qq_allowed_user_ids",placeholder:"10001,10002",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"qq_bot_username",placeholder:"qq_bot_name",description:"Optional QQ-specific bot username override.",secret:!1},{yamlKey:"model",label:"qq_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional QQ bot model override for this account.",secret:!1}]}],rp=[{key:"green",label:"Green",color:"#34d399"},{key:"blue",label:"Blue",color:"#60a5fa"},{key:"slate",label:"Slate",color:"#94a3b8"},{key:"amber",label:"Amber",color:"#fbbf24"},{key:"violet",label:"Violet",color:"#a78bfa"},{key:"rose",label:"Rose",color:"#fb7185"},{key:"cyan",label:"Cyan",color:"#22d3ee"},{key:"teal",label:"Teal",color:"#2dd4bf"},{key:"orange",label:"Orange",color:"#fb923c"},{key:"indigo",label:"Indigo",color:"#818cf8"}],h8={green:"green",blue:"blue",slate:"gray",amber:"amber",violet:"violet",rose:"ruby",cyan:"cyan",teal:"teal",orange:"orange",indigo:"indigo"},es=10;function Jw(e){const t=e.trim().toLowerCase();return t==="anthropic"?"claude-sonnet-4-5-20250929":t==="openai-codex"?"gpt-5.3-codex":t==="ollama"?"llama3.2":"gpt-5.2"}function So(e){return String(e||"").trim()||"main"}function wa(e){if(!e||typeof e!="object")return"main";const t=e,n=String(t.default_account||"").trim();if(n)return n;const r=t.accounts;if(r&&typeof r=="object"){const s=Object.keys(r).sort();if(s.includes("default"))return"default";if(s.length>0)return s[0]||"main"}return"main"}function p8(e){if(!e||typeof e!="object")return{};const t=e,n=wa(t),r=t.accounts;if(!r||typeof r!="object")return{};const s=r[n];return s&&typeof s=="object"?s:{}}function Zl(e){return e<=1?"main":`bot${e}`}function Kr(e){return e<=1?"main":`bot${e}`}function dn(e){const t=Number(e);return Number.isFinite(t)?Math.min(es,Math.max(1,Math.floor(t))):1}function yu(e,t){const n=String(e||"").trim();if(!n)return"";if(n.includes("/")||n.includes("\\"))return n;const r=String(t||"").trim().replace(/[\\/]+$/,"")||"souls";return n.toLowerCase().endsWith(".md")?`${r}/${n}`:`${r}/${n}.md`}function m8(e){const t=String(e||"").trim();if(!t)return"";const r=t.replace(/\\/g,"/").split("/");return r[r.length-1]||""}function g8(e,t,n){const r=yu(e,n);if(!r)return"__none__";const s=m8(r);return t.includes(s)?s:"__custom__"}function sp(e){if(!e||typeof e!="object")return[];const t=e,n=t.accounts;if(!n||typeof n!="object")return[];const s=Object.entries(n).filter(([,a])=>a&&typeof a=="object"&&!Array.isArray(a)).map(([a,l])=>[a,l]);if(s.length===0)return[];const o=wa(t);s.sort(([a],[l])=>a.localeCompare(l));const i=s.findIndex(([a])=>a===o);if(i>0){const[a]=s.splice(i,1);s.unshift(a)}return s.slice(0,es)}function y8(e){return sp(e)}function NT(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function v8(e){localStorage.setItem("microclaw_appearance",e)}function RT(){const e=localStorage.getItem("microclaw_ui_theme");return rp.some(t=>t.key===e)?e:"green"}function x8(e){localStorage.setItem("microclaw_ui_theme",e)}function Zw(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("session",e),window.history.replaceState(null,"",t.toString())}function w8(){var t;return typeof window>"u"?"":((t=new URL(window.location.href).searchParams.get("session"))==null?void 0:t.trim())||""}function eb(e){var n,r;if(e.length===0)return rs();const t=e.map(s=>({item:s,ts:Date.parse(s.last_message_time||"")})).filter(s=>Number.isFinite(s.ts));return t.length>0?(t.sort((s,o)=>o.ts-s.ts),((n=t[0])==null?void 0:n.item.session_key)||rs()):((r=e[0])==null?void 0:r.session_key)||rs()}typeof document<"u"&&(document.documentElement.classList.toggle("dark",NT()==="dark"),document.documentElement.setAttribute("data-ui-theme",RT()));function IT(e={}){const t={...e.headers};e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json");const n=_8("mc_csrf");return n&&!b8(t,"x-csrf-token")&&(t["x-csrf-token"]=n),t}class Ls extends Error{constructor(n,r){super(n);P(this,"status");this.name="ApiError",this.status=r}}function b8(e,t){const n=t.toLowerCase();return Object.keys(e).some(r=>r.toLowerCase()===n)}function _8(e){if(typeof document>"u")return"";const t=`${encodeURIComponent(e)}=`,n=document.cookie?document.cookie.split("; "):[];for(const r of n)if(r.startsWith(t))return decodeURIComponent(r.slice(t.length));return""}function S8(){var n;if(typeof window>"u")return"";const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash;return((n=new URLSearchParams(e).get("bootstrap"))==null?void 0:n.trim())||""}function C8(){if(typeof window>"u")return;const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,t=new URLSearchParams(e);if(!t.has("bootstrap"))return;t.delete("bootstrap");const n=t.toString();window.location.hash=n?`#${n}`:""}function k8(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const t=crypto.randomUUID().replace(/-/g,"");return`mc-${t.slice(0,6)}-${t.slice(6,12)}!`}const e=Math.random().toString(36).slice(2,14);return`mc-${e.slice(0,6)}-${e.slice(6,12)}!`}async function ut(e,t={}){const n=await fetch(e,{...t,headers:IT(t),credentials:"same-origin"}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Ls(String(r.error||r.message||`HTTP ${n.status}`),n.status);return r}async function*E8(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const h={event:o,payload:d};return o="message",h},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),h=d>=0?u.slice(0,d):u;let p=d>=0?u.slice(d+1):"";return p.startsWith(" ")&&(p=p.slice(1)),h==="event"&&(o=p),h==="data"&&i.push(p),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const h=s.indexOf(`
`);if(h<0)break;let p=s.slice(0,h);s=s.slice(h+1),p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}if(u){if(s.length>0){let p=s;p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}const h=a();h&&(yield h);return}}}function T8(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function N8(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function rs(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function R8(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function I8(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function tb(e){const t=I8(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function P8(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function A8(e){const t=R8(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return c.jsxs("div",{className:"tool-card",children:[c.jsxs("div",{className:"tool-card-head",children:[c.jsx("span",{className:"tool-card-name",children:e.toolName}),c.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?c.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?c.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?c.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?c.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?c.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?c.jsx("span",{children:a}):null]}):null,r!==void 0?c.jsx("pre",{className:"tool-card-pre",children:P8(r)}):null]})}function PT({align:e}){const t=Th(r=>r.createdAt),n=t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsx("div",{className:e==="right"?"mc-msg-time mc-msg-time-right":"mc-msg-time",children:n})}function j8(){const e=Th(n=>c8(n.content)),t=Th(n=>Array.isArray(n.content)?n.content.some(r=>r.type==="text"?!!fy(r.text??"").visibleText.trim():r.type==="tool-call"):!1);return c.jsxs(xc.Root,{children:[c.jsx(xc.Avatar,{}),t?c.jsx(xc.Content,{}):c.jsxs("div",{className:"mc-assistant-placeholder","aria-live":"polite",children:[c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-text",children:"Thinking"})]}),e.trim()?c.jsxs("details",{className:"mc-think-details",open:!0,children:[c.jsxs("summary",{children:[c.jsx("span",{className:"mc-think-summary-icon","aria-hidden":"true"}),c.jsx("span",{children:"Thinking & Processing ..."})]}),c.jsx("pre",{className:"mc-think-content",children:e})]}):null,c.jsx(ed,{}),c.jsx(xk,{}),c.jsx(PT,{align:"left"})]})}function M8(){return c.jsxs(wc.Root,{children:[c.jsx(wc.Attachments,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(f1,{}),c.jsxs("div",{className:"mc-user-content-wrap",children:[c.jsx(wc.Content,{}),c.jsx(PT,{align:"right"})]})]}),c.jsx(ed,{})]})}function O8({adapter:e,initialMessages:t,runtimeKey:n}){const r=E5({preprocess:o=>fy(o).visibleText}),s=AA(e,{initialMessages:t,maxSteps:100});return c.jsx(xC,{runtime:s,children:c.jsx("div",{className:"aui-root h-full min-h-0",children:c.jsx(gz,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{Text:r,ToolFallback:A8}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},components:{AssistantMessage:j8,UserMessage:M8},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}},assistantAvatar:{fallback:"M"}})})},n)}function L8(e){const t=[];for(const n of e.split(",")){const r=n.trim();if(!r)continue;const s=Number(r);Number.isInteger(s)&&s>0&&t.push(s)}return Array.from(new Set(t))}function nb(e,t){const n=e.trim();if(!n)return[];const r=()=>{const s=[];for(const o of n.split(",")){const i=o.trim();if(!i)continue;if(!/^-?\d+$/.test(i))throw new Error(`${t} must be a CSV of integers or a JSON integer array`);const a=Number(i);if(!Number.isSafeInteger(a))throw new Error(`${t} contains an out-of-range integer`);s.push(a)}return Array.from(new Set(s))};if(n.startsWith("[")){let s;try{s=JSON.parse(n)}catch(i){throw new Error(`${t} must be valid JSON array: ${i instanceof Error?i.message:String(i)}`)}if(!Array.isArray(s))throw new Error(`${t} must be a JSON array when using JSON format`);const o=[];for(const i of s){if(typeof i!="number"||!Number.isSafeInteger(i))throw new Error(`${t} JSON array must contain integers only`);o.push(i)}return Array.from(new Set(o))}return r()}function D8(e,t){const n=e.trim().toLowerCase();if(!n)return null;if(n==="true"||n==="1"||n==="yes")return!0;if(n==="false"||n==="0"||n==="no")return!1;throw new Error(`${t} must be true/false (or 1/0)`)}function F8(e,t="string"){if(t==="bool"){if(typeof e=="boolean")return e?"true":"false";const n=String(e||"").trim().toLowerCase();return n?n==="true"||n==="1"||n==="yes"?"true":n==="false"||n==="0"||n==="no"?"false":String(e||""):""}return String(e||"")}function Nf(e){return String(e||"").trim().toLowerCase()==="shared"?"shared":"chat"}function Z({label:e,description:t,children:n}){return c.jsxs(St,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"medium",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}),c.jsx("div",{className:"mt-2",children:n})]})}function rb({value:e,soulsDir:t,soulFiles:n,onChange:r}){const s=g8(e,n,t),o=String(t||"").trim()||"souls";return c.jsxs(wn,{direction:"column",gap:"2",children:[c.jsxs(ly,{value:s,onValueChange:i=>{if(i==="__none__"){r("");return}i!=="__custom__"&&r(yu(i,t))},children:[c.jsx(cy,{className:"w-full mc-select-trigger-full",placeholder:"Select soul file"}),c.jsxs(uy,{position:"popper",children:[c.jsx(xa,{value:"__none__",children:"(None)"}),c.jsx(xa,{value:"__custom__",children:"Custom filename/path"}),n.map(i=>c.jsx(xa,{value:i,children:i},i))]})]}),s==="__custom__"?c.jsx(ne,{value:String(e||""),onChange:i=>r(i.target.value),placeholder:"my-bot.md or /abs/path/my-bot.md"}):null,c.jsxs(Y,{size:"1",color:"gray",children:["Select from ",c.jsxs("code",{children:[o,"/*.md"]})," or use custom input (file may not exist yet)."]})]})}function ec({label:e,description:t,checked:n,onCheckedChange:r,className:s,style:o}){return c.jsx("div",{className:s,style:o,children:c.jsxs(wn,{justify:"between",align:"center",children:[c.jsxs("div",{children:[c.jsx(Y,{size:"2",children:e}),t?c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}):null]}),c.jsx(kT,{checked:n,onCheckedChange:r})]})})}function Yi({title:e="Setup Steps",steps:t}){return c.jsxs(St,{className:"mt-3 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:e}),c.jsx("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-400",children:t.map((n,r)=>c.jsx("li",{children:n},r))})]})}function z8(){var Dy,Fy,zy;const[e,t]=f.useState(NT()),[n,r]=f.useState(RT()),[s,o]=f.useState(!1),[i,a]=f.useState([]),[l,u]=f.useState([]),[d,h]=f.useState(()=>rs()),[p,m]=f.useState([]),[w,y]=f.useState({}),[b,g]=f.useState(0),[v,x]=f.useState(""),[C,N]=f.useState("Idle"),[k,T]=f.useState(""),[I,O]=f.useState(!1),[j,L]=f.useState(!1),[D,K]=f.useState(null),[R,G]=f.useState({}),[q,ee]=f.useState([]),[A,U]=f.useState(null),[S,ae]=f.useState(!1),[fe,E]=f.useState(""),[Te,He]=f.useState(""),[be,Q]=f.useState(!1),[ye,Me]=f.useState(!1),[_e,ve]=f.useState(""),[Ne,at]=f.useState(null),[Dt,Cn]=f.useState([]),[Kn,kn]=f.useState([]),[Ci,ln]=f.useState(""),[ki,pd]=f.useState(""),[Ei,ll]=f.useState(!1),[cl,md]=f.useState(!1),[M,$]=f.useState(!1),[ce,he]=f.useState(!1),[Re,Oe]=f.useState(""),[En,cn]=f.useState(""),[Fr,Ns]=f.useState(()=>S8()),[yt,qn]=f.useState(""),[un,gd]=f.useState(""),[hy,py]=f.useState(""),[Ti,ul]=f.useState(!1),[AT,dl]=f.useState(!1),[my,fl]=f.useState(""),[yd,gy]=f.useState(!1),[yy,vy]=f.useState(""),[xy,wy]=f.useState(""),[by,_y]=f.useState(""),Ni=f.useMemo(()=>{const _=new Map;for(const ie of[...l,...i])_.has(ie.session_key)||_.set(ie.session_key,ie);const H=!_.has(d);if(H&&!d.startsWith("chat:")&&_.set(d,{session_key:d,label:d,chat_id:0,chat_type:"web"}),_.size===0){const ie=rs();_.set(ie,{session_key:ie,label:ie,chat_id:0,chat_type:"web"})}const F=Array.from(_.values()),V=H&&!d.startsWith("chat:");return F.sort((ie,pe)=>{if(V){if(ie.session_key===d)return-1;if(pe.session_key===d)return 1}const Ge=Date.parse(ie.last_message_time||""),$e=Date.parse(pe.last_message_time||""),Gt=Number.isFinite(Ge),Ze=Number.isFinite($e);if(Gt&&Ze){if($e!==Ge)return $e-Ge}else if(Gt!==Ze)return Gt?-1:1;return ie.label.localeCompare(pe.label)}),F},[l,i,d]),Ri=f.useMemo(()=>Ni.find(_=>_.session_key===d),[Ni,d]),jT=(Ri==null?void 0:Ri.label)||d,Sy=!!(Ri&&Ri.chat_type!=="web");function Ii(_){return _ instanceof Ls&&_.status===401}function Cy(_){return _ instanceof Ls&&_.status===403}function Pi(_="Authentication required. Please sign in."){$(!1),Oe(_),x(_)}async function hl(){try{const _=await ut("/api/auth/status"),H=!!_.has_password,F=!!_.authenticated,V=!!_.using_default_password;return md(H),$(F),he(V),ll(!0),F&&(Oe(""),x("")),F&&V&&dl(!0),V||dl(!1),_}catch(_){throw ll(!0),_}}async function ky(){try{const _=await ut("/api/health");_y(String(_.version||"").trim())}catch{}}async function Ey(){x("");const _=await ut("/api/sessions"),H=Array.isArray(_.sessions)?_.sessions:[];a(H);const F=eb(H),V=w8(),pe=(V?H.some($e=>$e.session_key===V):!1)?V:F;h(pe),Zw(pe),H.some($e=>$e.session_key===pe)?await oo(pe):(m([]),y($e=>({...$e,[pe]:0})),g($e=>$e+1),x(""))}async function pl(){try{const _=await ut("/api/sessions");a(Array.isArray(_.sessions)?_.sessions:[])}catch(_){if(Ii(_)){Pi();return}throw _}}async function oo(_=d){try{const H=new URLSearchParams({session_key:_,limit:"200"}),F=await ut(`/api/history?${H.toString()}`),V=Array.isArray(F.messages)?F.messages:[],ie=N8(V);m(ie),y(pe=>({...pe,[_]:V.length})),g(pe=>pe+1),x("")}catch(H){if(Ii(H)){Pi();return}if(H instanceof Ls&&H.status===404){m([]),y(F=>({...F,[_]:0})),g(F=>F+1),x("");return}throw H}}async function vd(_){const H=_.trim();if(!H){Oe("Please enter your password.");return}ul(!0),Oe("");try{await ut("/api/auth/login",{method:"POST",body:JSON.stringify({password:H})}),cn(""),await hl(),await Ey(),N("Authenticated")}catch(F){if(F instanceof Ls){if(F.status===401){Oe("Password is incorrect. Please try again or reset with `microclaw web password-generate`.");return}if(F.status===429){Oe("Too many login attempts. Please wait and retry.");return}}Oe(F instanceof Error?F.message:String(F))}finally{ul(!1)}}async function Ty(){const _=Fr.trim(),H=yt.trim(),F=un.trim();if(!_){Oe("Bootstrap token is required.");return}if(H.length<8){Oe("Password must be at least 8 characters.");return}if(H!==F){Oe("Passwords do not match.");return}ul(!0),Oe("");try{await ut("/api/auth/password",{method:"POST",headers:{"x-bootstrap-token":_},body:JSON.stringify({password:H})}),C8(),await vd(H),qn(""),gd(""),py("")}catch(V){if(V instanceof Ls&&V.status===401){Oe("Bootstrap token is invalid or expired. Please copy the latest token from startup logs.");return}Oe(V instanceof Error?V.message:String(V))}finally{ul(!1)}}async function Ny(){const _=yy.trim(),H=xy.trim();if(_.length<8){fl("Password must be at least 8 characters.");return}if(_!==H){fl("Passwords do not match.");return}gy(!0),fl("");try{await ut("/api/auth/password",{method:"POST",body:JSON.stringify({password:_})}),vy(""),wy(""),await hl(),dl(!1),N("Password updated")}catch(F){fl(F instanceof Error?F.message:String(F))}finally{gy(!1)}}async function MT(){N("Signing out..."),x("");try{await ut("/api/auth/logout",{method:"POST"})}catch(_){x(_ instanceof Error?_.message:String(_))}finally{a([]),u([]),m([]),y({}),g(_=>_+1),_y(""),h(rs()),Q(!1),L(!1),await hl().catch(()=>{$(!1)}),Oe("Signed out. Please sign in again."),N("Signed out")}}const OT=f.useMemo(()=>({run:async function*(_){const H=T8(_.messages);if(H){O(!0),N("Sending..."),T(""),x("");try{if(Sy)throw N("Read-only channel"),new Error("This channel is read-only in Web UI. Send messages from the original channel.");const V=(await ut("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:d,sender_name:"web-user",message:H}),signal:_.abortSignal})).run_id;if(!V)throw new Error("missing run_id");const ie=new URLSearchParams({run_id:V}),pe=await fetch(`/api/stream?${ie.toString()}`,{method:"GET",headers:IT(),credentials:"same-origin",cache:"no-store",signal:_.abortSignal});if(!pe.ok){const Ze=await pe.text().catch(()=>"");throw new Ls(Ze||`HTTP ${pe.status}`,pe.status)}let Ge="";const $e=new Map,Gt=()=>{const Ze=Array.from($e.entries()).map(([Qe,se])=>({type:"tool-call",toolCallId:Qe,toolName:se.name,args:se.args,argsText:JSON.stringify(se.args),...se.result?{result:se.result}:{},...se.isError!==void 0?{isError:se.isError}:{}}));return[...Ge?[{type:"text",text:Ge}]:[],...Ze]};for await(const Ze of E8(pe,_.abortSignal)){const Qe=Ze.payload;if(Ze.event==="replay_meta"){if(Qe.replay_truncated===!0){const se=typeof Qe.oldest_event_id=="number"?Qe.oldest_event_id:null,lt=se!==null?`Stream history was truncated. Recovery resumed from event #${se}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";T(lt)}continue}if(Ze.event==="status"){const se=typeof Qe.message=="string"?Qe.message:"";se&&N(se);continue}if(Ze.event==="tool_start"){const se=Qe;if(!se.tool_use_id||!se.name)continue;$e.set(se.tool_use_id,{name:se.name,args:tb(se.input)}),N(`tool: ${se.name}...`);const lt=Gt();lt.length>0&&(yield{content:lt});continue}if(Ze.event==="tool_result"){const se=Qe;if(!se.tool_use_id||!se.name)continue;const lt=$e.get(se.tool_use_id),Br=tb({output:se.output??"",duration_ms:se.duration_ms??null,bytes:se.bytes??null,status_code:se.status_code??null,error_type:se.error_type??null});$e.set(se.tool_use_id,{name:se.name,args:(lt==null?void 0:lt.args)??{},result:Br,isError:!!se.is_error});const $r=typeof se.duration_ms=="number"?se.duration_ms:0,Ur=typeof se.bytes=="number"?se.bytes:0;N(`tool: ${se.name} ${se.is_error?"error":"ok"} ${$r}ms ${Ur}b`);const gr=Gt();gr.length>0&&(yield{content:gr});continue}if(Ze.event==="delta"){const se=typeof Qe.delta=="string"?Qe.delta:"";if(!se)continue;Ge+=se;const lt=Gt();lt.length>0&&(yield{content:lt});continue}if(Ze.event==="error"){const se=typeof Qe.error=="string"?Qe.error:"stream error";throw new Error(se)}if(Ze.event==="done"){N("Done");break}}}catch(F){throw Ii(F)&&(Pi("Session expired. Please sign in again."),N("Auth required")),F}finally{O(!1),pl(),oo(d)}}}}),[d,Sy]);function Ry(){if((w[d]??p.length)===0){N("Current session is empty. Reuse this session.");return}const H=rs(),F=new Date().toISOString(),V={session_key:H,label:H,chat_id:0,chat_type:"web",last_message_time:F};u(ie=>ie.some(pe=>pe.session_key===H)?ie:[V,...ie]),h(H),y(ie=>({...ie,[H]:0})),m([]),g(ie=>ie+1),T(""),x(""),N("Idle")}function Iy(){t(_=>_==="dark"?"light":"dark")}async function Py(_){try{await ut("/api/reset",{method:"POST",body:JSON.stringify({session_key:_})}),_===d&&await oo(_),await pl(),N("Session reset")}catch(H){x(H instanceof Error?H.message:String(H))}}async function Ay(_){try{_===d&&await oo(_),await pl(),N("Session refreshed")}catch(H){x(H instanceof Error?H.message:String(H))}}async function jy(_){var H;try{const F=await ut("/api/delete_session",{method:"POST",body:JSON.stringify({session_key:_})});F.deleted===!1&&N("No session data found to delete."),u(ie=>ie.filter(pe=>pe.session_key!==_)),y(ie=>{const pe={...ie};return delete pe[_],pe});const V=((H=Ni.find(ie=>ie.session_key!==_))==null?void 0:H.session_key)||rs();_===d&&(h(V),await oo(V)),await pl(),F.deleted!==!1&&N("Session deleted")}catch(F){x(F instanceof Error?F.message:String(F))}}async function My(){var _,H,F,V,ie,pe,Ge,$e,Gt,Ze,Qe,se,lt,Br,$r,Ur,gr,io,ao,lo,co,uo,fo,ji,yr,vl;He(""),E(""),ae(!0);try{const[W,vt]=await Promise.all([ut("/api/config"),ut("/api/config/self_check").catch(me=>(E(me instanceof Error?me.message:String(me)),null))]);K(W.config||null),ee(Array.isArray(W.soul_files)?W.soul_files.map(me=>String(me)):[]),U(vt);const Nt=((_=W.config)==null?void 0:_.channels)||{},Rt=Nt.telegram||{},ct=wa(Rt),Ft=p8(Rt),zt=y8(Rt),Rs=dn(zt.length||1),Tn={};for(let me=1;me<=es;me+=1){const xt=zt[me-1],po=(xt==null?void 0:xt[0])||Zl(me),It=(xt==null?void 0:xt[1])||{};Tn[`telegram_bot_${me}_account_id`]=po,Tn[`telegram_bot_${me}_token`]="",Tn[`telegram_bot_${me}_has_token`]=!!(typeof It.bot_token=="string"&&String(It.bot_token||"").trim()),Tn[`telegram_bot_${me}_username`]=String(It.bot_username||""),Tn[`telegram_bot_${me}_soul_path`]=String(It.soul_path||""),Tn[`telegram_bot_${me}_allowed_user_ids`]=Array.isArray(It.allowed_user_ids)?It.allowed_user_ids.join(","):""}const Gn=Nt.discord||{},xd=wa(Gn),ho=sp(Gn),wd=dn(ho.length||1),Yn={};for(let me=1;me<=es;me+=1){const xt=ho[me-1],po=(xt==null?void 0:xt[0])||Kr(me),It=(xt==null?void 0:xt[1])||{};Yn[`discord_bot_${me}_account_id`]=po,Yn[`discord_bot_${me}_token`]="",Yn[`discord_bot_${me}_has_token`]=!!(typeof It.bot_token=="string"&&String(It.bot_token||"").trim()),Yn[`discord_bot_${me}_allowed_channels_csv`]=Array.isArray(It.allowed_channels)?It.allowed_channels.join(","):"",Yn[`discord_bot_${me}_username`]=String(It.bot_username||""),Yn[`discord_bot_${me}_model`]=String(It.model||"")}const Nn=Nt.irc||{};G({llm_provider:((H=W.config)==null?void 0:H.llm_provider)||"",model:((F=W.config)==null?void 0:F.model)||Jw(String(((V=W.config)==null?void 0:V.llm_provider)||"anthropic")),llm_base_url:String(((ie=W.config)==null?void 0:ie.llm_base_url)||""),api_key:"",bot_username:String(((pe=W.config)==null?void 0:pe.bot_username)||""),telegram_account_id:ct,telegram_bot_count:Rs,telegram_model:String(Rt.model||Ft.model||""),telegram_allowed_user_ids:Array.isArray(Rt.allowed_user_ids)?Rt.allowed_user_ids.join(","):"",...Tn,discord_account_id:xd,discord_bot_count:wd,...Yn,irc_server:String(Nn.server||""),irc_port:String(Nn.port||""),irc_nick:String(Nn.nick||""),irc_username:String(Nn.username||""),irc_real_name:String(Nn.real_name||""),irc_channels:String(Nn.channels||""),irc_password:"",irc_mention_required:String(Nn.mention_required||""),irc_tls:String(Nn.tls||""),irc_tls_server_name:String(Nn.tls_server_name||""),irc_tls_danger_accept_invalid_certs:String(Nn.tls_danger_accept_invalid_certs||""),irc_model:String(Nn.model||""),web_bot_username:String(((Ge=Nt.web)==null?void 0:Ge.bot_username)||""),working_dir_isolation:Nf((($e=W.config)==null?void 0:$e.working_dir_isolation)||rt.working_dir_isolation),high_risk_tool_user_confirmation_required:((Gt=W.config)==null?void 0:Gt.high_risk_tool_user_confirmation_required)!==!1,max_tokens:Number(((Ze=W.config)==null?void 0:Ze.max_tokens)??8192),max_tool_iterations:Number(((Qe=W.config)==null?void 0:Qe.max_tool_iterations)??100),max_document_size_mb:Number(((se=W.config)==null?void 0:se.max_document_size_mb)??rt.max_document_size_mb),memory_token_budget:Number(((lt=W.config)==null?void 0:lt.memory_token_budget)??rt.memory_token_budget),show_thinking:!!((Br=W.config)!=null&&Br.show_thinking),web_enabled:!!(($r=W.config)!=null&&$r.web_enabled),web_host:String(((Ur=W.config)==null?void 0:Ur.web_host)||"127.0.0.1"),web_port:Number(((gr=W.config)==null?void 0:gr.web_port)??10961),reflector_enabled:((io=W.config)==null?void 0:io.reflector_enabled)!==!1,reflector_interval_mins:Number(((ao=W.config)==null?void 0:ao.reflector_interval_mins)??rt.reflector_interval_mins),embedding_provider:String(((lo=W.config)==null?void 0:lo.embedding_provider)||""),embedding_api_key:"",embedding_base_url:String(((co=W.config)==null?void 0:co.embedding_base_url)||""),embedding_model:String(((uo=W.config)==null?void 0:uo.embedding_model)||""),embedding_dim:String(((fo=W.config)==null?void 0:fo.embedding_dim)||""),souls_dir:String(((ji=W.config)==null?void 0:ji.souls_dir)||(String(((yr=W.config)==null?void 0:yr.data_dir)||"").trim()?`${String((vl=W.config)==null?void 0:vl.data_dir).trim()}/souls`:"")),...Object.fromEntries(Jl.flatMap(me=>{const xt=Nt[me.name]||{},po=sp(xt),It=dn(po.length||1),mo=[[`${me.name}__account_id`,wa(xt)],[`${me.name}__bot_count`,It]];for(let vr=1;vr<=es;vr+=1){const go=po[vr-1],zT=(go==null?void 0:go[0])||Kr(vr),bd=(go==null?void 0:go[1])||{};mo.push([`${me.name}__bot_${vr}__account_id`,zT]),mo.push([`${me.name}__bot_${vr}__soul_path`,String(bd.soul_path||"")]);for(const Is of me.fields)Is.secret?(mo.push([`${me.name}__bot_${vr}__has__${Is.yamlKey}`,!!String(bd[Is.yamlKey]||"").trim()]),mo.push([`${me.name}__bot_${vr}__${Is.yamlKey}`,""])):mo.push([`${me.name}__bot_${vr}__${Is.yamlKey}`,F8(bd[Is.yamlKey],Is.valueType||"string")])}return mo}))}),L(!0)}catch(W){if(Ii(W)){Pi("Session expired. Please sign in again.");return}if(Cy(W)){x("Forbidden: Runtime Config is not accessible with current credentials.");return}x(W instanceof Error?W.message:String(W))}finally{ae(!1)}}async function ml(_=d){Me(!0),ln(""),ve(""),at(null),Cn([]),kn([]);const H=i.some(V=>V.session_key===_),F=H?_:i.length>0?eb(i):_;pd(F);try{if(!H&&i.length===0){ln("No usage data yet. Send a message in this session first."),Q(!0);return}const V=new URLSearchParams({session_key:F}),ie=await ut(`/api/usage?${V.toString()}`);ve(String(ie.report||"").trim()),at(ie.memory_observability??null);const pe=new URLSearchParams({session_key:F,scope:"chat",hours:"168",limit:"1000",offset:"0"}),Ge=await ut(`/api/memory_observability?${pe.toString()}`);Cn(Array.isArray(Ge.reflector_runs)?Ge.reflector_runs:[]),kn(Array.isArray(Ge.injection_logs)?Ge.injection_logs:[]),Q(!0)}catch(V){if(Ii(V)){Pi("Session expired. Please sign in again.");return}if(Cy(V)){ln("Forbidden: Usage panel requires permission."),Q(!0);return}ln(V instanceof Error?V.message:String(V)),Q(!0)}finally{Me(!1)}}function te(_,H){G(F=>({...F,[_]:H}))}async function LT(){try{const _=String(R.llm_provider||"").trim().toLowerCase();if(_==="openai-codex"){const W=String(R.api_key||"").trim(),vt=String(R.llm_base_url||"").trim();if(W||vt){He("Save failed: openai-codex ignores api_key/llm_base_url in microclaw config. Configure ~/.codex/auth.json and ~/.codex/config.toml.");return}}const H={llm_provider:String(R.llm_provider||""),model:String(R.model||""),bot_username:String(R.bot_username||"").trim(),web_bot_username:String(R.web_bot_username||"").trim()||null,working_dir_isolation:Nf(R.working_dir_isolation||rt.working_dir_isolation),high_risk_tool_user_confirmation_required:R.high_risk_tool_user_confirmation_required!==!1,max_tokens:Number(R.max_tokens||8192),max_tool_iterations:Number(R.max_tool_iterations||100),max_document_size_mb:Number(R.max_document_size_mb||rt.max_document_size_mb),memory_token_budget:Number(R.memory_token_budget||rt.memory_token_budget),show_thinking:!!R.show_thinking,web_enabled:!!R.web_enabled,web_host:String(R.web_host||"127.0.0.1"),web_port:Number(R.web_port||10961),reflector_enabled:R.reflector_enabled!==!1,reflector_interval_mins:Number(R.reflector_interval_mins||rt.reflector_interval_mins),embedding_provider:String(R.embedding_provider||"").trim()||null,embedding_base_url:String(R.embedding_base_url||"").trim()||null,embedding_model:String(R.embedding_model||"").trim()||null,embedding_dim:String(R.embedding_dim||"").trim()?Number(R.embedding_dim):null,souls_dir:String(R.souls_dir||"").trim()||null};String(R.llm_provider||"").trim().toLowerCase()==="custom"?H.llm_base_url=String(R.llm_base_url||"").trim()||null:_==="openai-codex"&&(H.llm_base_url=null);const F=String(R.api_key||"").trim();_==="openai-codex"?H.api_key="":F&&(H.api_key=F);const V=So(R.telegram_account_id),ie=String(R.telegram_model||"").trim(),pe=dn(R.telegram_bot_count),Ge=nb(String(R.telegram_allowed_user_ids||""),"telegram_allowed_user_ids"),$e={};for(let W=1;W<=pe;W+=1){const vt=So(R[`telegram_bot_${W}_account_id`]||Zl(W)),Nt=String(R[`telegram_bot_${W}_token`]||"").trim(),Rt=!!R[`telegram_bot_${W}_has_token`],ct=String(R[`telegram_bot_${W}_username`]||"").trim(),Ft=yu(R[`telegram_bot_${W}_soul_path`],R.souls_dir),zt=nb(String(R[`telegram_bot_${W}_allowed_user_ids`]||""),`telegram_bot_${W}_allowed_user_ids`);if(Nt||Rt||ct||Ft||zt.length>0||vt===V){if(Object.prototype.hasOwnProperty.call($e,vt))throw new Error(`Duplicate Telegram account id: ${vt}`);$e[vt]={enabled:!0,...Nt?{bot_token:Nt}:{},...ct?{bot_username:ct}:{},...Ft?{soul_path:Ft}:{},...zt.length>0?{allowed_user_ids:zt}:{}}}}const Gt=So(R.discord_account_id),Ze=dn(R.discord_bot_count),Qe={};for(let W=1;W<=Ze;W+=1){const vt=So(R[`discord_bot_${W}_account_id`]||Kr(W)),Nt=String(R[`discord_bot_${W}_token`]||"").trim(),Rt=!!R[`discord_bot_${W}_has_token`],ct=L8(String(R[`discord_bot_${W}_allowed_channels_csv`]||"")),Ft=String(R[`discord_bot_${W}_username`]||"").trim(),zt=String(R[`discord_bot_${W}_model`]||"").trim();if(Nt||Rt||ct.length>0||Ft||zt||vt===Gt){if(Object.prototype.hasOwnProperty.call(Qe,vt))throw new Error(`Duplicate Discord account id: ${vt}`);Qe[vt]={enabled:!0,...Nt?{bot_token:Nt}:{},...ct.length>0?{allowed_channels:ct}:{},...Ft?{bot_username:Ft}:{},...zt?{model:zt}:{}}}}const se=String(R.irc_server||"").trim(),lt=String(R.irc_port||"").trim(),Br=String(R.irc_nick||"").trim(),$r=String(R.irc_username||"").trim(),Ur=String(R.irc_real_name||"").trim(),gr=String(R.irc_channels||"").trim(),io=String(R.irc_password||"").trim(),ao=String(R.irc_mention_required||"").trim(),lo=String(R.irc_tls||"").trim(),co=String(R.irc_tls_server_name||"").trim(),uo=String(R.irc_tls_danger_accept_invalid_certs||"").trim(),fo=String(R.irc_model||"").trim(),ji=String(R.embedding_api_key||"").trim();ji&&(H.embedding_api_key=ji);const yr={};(Object.keys($e).length>0||Ge.length>0||ie)&&(yr.telegram={default_account:V,...ie?{model:ie}:{},...Ge.length>0?{allowed_user_ids:Ge}:{},accounts:$e}),Object.keys(Qe).length>0&&(yr.discord={default_account:Gt,accounts:Qe}),(se||lt||Br||$r||Ur||gr||io||ao||lo||co||uo||fo)&&(yr.irc={...se?{server:se}:{},...lt?{port:lt}:{},...Br?{nick:Br}:{},...$r?{username:$r}:{},...Ur?{real_name:Ur}:{},...gr?{channels:gr}:{},...io?{password:io}:{},...ao?{mention_required:ao}:{},...lo?{tls:lo}:{},...co?{tls_server_name:co}:{},...uo?{tls_danger_accept_invalid_certs:uo}:{},...fo?{model:fo}:{}});for(const W of Jl){const vt=So(R[`${W.name}__account_id`]),Nt=dn(R[`${W.name}__bot_count`]),Rt={};for(let ct=1;ct<=Nt;ct+=1){const Ft=So(R[`${W.name}__bot_${ct}__account_id`]||Kr(ct)),zt=yu(R[`${W.name}__bot_${ct}__soul_path`],R.souls_dir),Rs={};let Tn=Ft===vt||!!zt;for(const Gn of W.fields){const xd=`${W.name}__bot_${ct}__${Gn.yamlKey}`,ho=String(R[xd]||"").trim(),wd=Gn.secret?!!R[`${W.name}__bot_${ct}__has__${Gn.yamlKey}`]:!1;if(ho){if((Gn.valueType||"string")==="bool"){const Yn=D8(ho,`${W.name}_bot_${ct}_${Gn.yamlKey}`);Yn!==null&&(Rs[Gn.yamlKey]=Yn)}else Rs[Gn.yamlKey]=ho;Tn=!0}else wd&&(Tn=!0)}if(Tn){if(Object.prototype.hasOwnProperty.call(Rt,Ft))throw new Error(`Duplicate ${W.name} account id: ${Ft}`);Rt[Ft]={enabled:!0,...zt?{soul_path:zt}:{},...Rs}}}Object.keys(Rt).length>0&&(yr[W.name]={default_account:vt,accounts:{...Rt}})}Object.keys(yr).length>0&&(H.channel_configs=yr),await ut("/api/config",{method:"PUT",body:JSON.stringify(H)}),ae(!0),E("");const vl=await ut("/api/config/self_check").catch(W=>(E(W instanceof Error?W.message:String(W)),null));U(vl),ae(!1),He("Saved. Restart microclaw to apply changes.")}catch(_){He(`Save failed: ${_ instanceof Error?_.message:String(_)}`)}}f.useEffect(()=>{v8(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),f.useEffect(()=>{x8(n),document.documentElement.setAttribute("data-ui-theme",n)},[n]),f.useEffect(()=>{(async()=>{try{const _=await hl();if(_.authenticated&&await ky(),!_.has_password||!_.authenticated)return;await Ey()}catch(_){x(_ instanceof Error?_.message:String(_))}})()},[]),f.useEffect(()=>{M&&oo(d).catch(_=>x(_ instanceof Error?_.message:String(_)))},[d,M]),f.useEffect(()=>{M&&ky().catch(()=>{})},[M]),f.useEffect(()=>{Zw(d)},[d]);const Oy=`${d}-${b}`,DT=h8[n]??"green",Ai=String(R.llm_provider||rt.llm_provider).trim().toLowerCase(),FT=Array.from(new Set([Ai,...d8.map(_=>_.toLowerCase())].filter(Boolean))),Ly=f8[Ai]||[],zr=e==="dark"?"rounded-xl border p-5":"rounded-xl border border-slate-200/80 p-5",mr=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 68%, transparent)"}:void 0,gl=e==="dark"?"rounded-lg border p-3":"rounded-lg border border-slate-200/80 p-3",yl=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 60%, transparent)"}:void 0;return c.jsx(hd,{appearance:e,accentColor:DT,grayColor:"slate",radius:"medium",scaling:"100%",children:c.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[var(--mc-bg-main)]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[c.jsxs("div",{className:"grid h-full min-h-0 grid-cols-1 md:grid-cols-[320px_minmax(0,1fr)]",children:[c.jsx("div",{className:"hidden md:block md:h-full",children:c.jsx(Qw,{appearance:e,onToggleAppearance:Iy,uiTheme:n,onUiThemeChange:_=>r(_),uiThemeOptions:rp,sessionItems:Ni,selectedSessionKey:d,onSessionSelect:_=>h(_),onRefreshSession:_=>void Ay(_),onResetSession:_=>void Py(_),onDeleteSession:_=>void jy(_),onOpenConfig:My,onOpenUsage:()=>ml(d),onNewSession:Ry,appVersion:by})}),s?c.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[c.jsx("button",{type:"button","aria-label":"Close sessions sidebar",className:"absolute inset-0 bg-black/45",onClick:()=>o(!1)}),c.jsx("div",{className:e==="dark"?"relative h-full w-[min(92vw,340px)] border-r border-[color:var(--mc-border-soft)] bg-[var(--mc-bg-sidebar)]":"relative h-full w-[min(92vw,340px)] border-r border-slate-200 bg-white",children:c.jsx(Qw,{appearance:e,onToggleAppearance:Iy,uiTheme:n,onUiThemeChange:_=>r(_),uiThemeOptions:rp,sessionItems:Ni,selectedSessionKey:d,onSessionSelect:_=>{h(_),o(!1)},onRefreshSession:_=>{Ay(_),o(!1)},onResetSession:_=>{Py(_),o(!1)},onDeleteSession:_=>{jy(_),o(!1)},onOpenConfig:async()=>{o(!1),await My()},onOpenUsage:async()=>{o(!1),await ml(d)},onNewSession:()=>{Ry(),o(!1)},appVersion:by})})]}):null,c.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[var(--mc-bg-panel)]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[c.jsx("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>o(!0),"aria-label":"Open sessions sidebar",className:e==="dark"?"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] text-slate-200 md:hidden":"inline-flex h-8 w-8 shrink-0 items-center justify-center rounded-md border border-slate-300 text-slate-700 md:hidden",children:""}),c.jsx(ry,{size:"6",className:"min-w-0 truncate",children:jT})]})}),c.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,var(--mc-bg-panel),var(--mc-bg-main)_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[c.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[k?c.jsx(fn,{color:"orange",size:"1",variant:"soft",children:c.jsx(hn,{children:k})}):null,v?c.jsx(fn,{color:"red",size:"1",variant:"soft",className:k?"mt-2":"",children:c.jsx(hn,{children:v})}):null]}),c.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:c.jsx(O8,{adapter:OT,initialMessages:p,runtimeKey:Oy},Oy)})]})]})]}),c.jsx(Lo,{open:Ei&&!cl,children:c.jsxs(Do,{maxWidth:"520px",children:[c.jsx(Fo,{children:"Set Operator Password"}),c.jsx(zo,{size:"2",children:"First-time setup: set an admin password using the bootstrap token from server logs."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"Bootstrap Token",description:c.jsxs(c.Fragment,{children:["Copy ",c.jsx("code",{children:"x-bootstrap-token"})," from MicroClaw startup logs."]}),children:c.jsx(ne,{className:"mt-2",value:Fr,onChange:_=>Ns(_.target.value),placeholder:"902439dd-a93b-4c66-81bb-7ffba0057936"})}),c.jsxs(Z,{label:"Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:[c.jsx(ne,{className:"mt-2",type:"password",value:yt,onChange:_=>qn(_.target.value),placeholder:"********"}),c.jsx("div",{className:"mt-2 flex items-center justify-end",children:c.jsx(pn,{size:"1",variant:"soft",onClick:()=>{const _=k8();qn(_),gd(_),py(_)},disabled:Ti,children:"Generate Password"})})]}),c.jsx(Z,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the same password."}),children:c.jsx(ne,{className:"mt-2",type:"password",value:un,onChange:_=>gd(_.target.value),onKeyDown:_=>{_.key==="Enter"&&Ty()},placeholder:"********"})})]}),Re?c.jsx(fn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(hn,{children:Re})}):null,hy?c.jsx(fn,{color:"green",size:"1",variant:"soft",className:"mt-3",children:c.jsxs(hn,{children:["Generated password: ",c.jsx("code",{children:hy})]})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(pn,{onClick:()=>void Ty(),disabled:Ti,children:Ti?"Applying...":"Set Password"})})]})}),c.jsx(Lo,{open:Ei&&cl&&!M,children:c.jsxs(Do,{maxWidth:"460px",children:[c.jsx(Fo,{children:"Sign In"}),c.jsx(zo,{size:"2",children:"Enter your operator password to access sessions and history."}),ce?c.jsx(fn,{color:"orange",size:"1",variant:"soft",className:"mt-2",children:c.jsxs(hn,{children:["No custom password is set yet. Temporary default password: ",c.jsx("code",{children:"helloworld"})]})}):null,c.jsx(Z,{label:"Password",description:c.jsx(c.Fragment,{children:"Use the password configured for this Web UI."}),children:c.jsx(ne,{className:"mt-2",type:"password",value:En,onChange:_=>cn(_.target.value),onKeyDown:_=>{_.key==="Enter"&&vd(En)},placeholder:"********"})}),Re?c.jsx(fn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(hn,{children:Re})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(pn,{onClick:()=>void vd(En),disabled:Ti,children:Ti?"Signing in...":"Sign In"})})]})}),c.jsx(Lo,{open:Ei&&M&&ce&&AT,children:c.jsxs(Do,{maxWidth:"520px",children:[c.jsx(Fo,{children:"Change Default Password"}),c.jsxs(zo,{size:"2",children:["You are using the default password ",c.jsx("code",{children:"helloworld"}),". Set a new password now, or skip for now."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"New Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:c.jsx(ne,{className:"mt-2",type:"password",value:yy,onChange:_=>vy(_.target.value),placeholder:"********"})}),c.jsx(Z,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the new password."}),children:c.jsx(ne,{className:"mt-2",type:"password",value:xy,onChange:_=>wy(_.target.value),onKeyDown:_=>{_.key==="Enter"&&Ny()},placeholder:"********"})})]}),my?c.jsx(fn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(hn,{children:my})}):null,c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx(pn,{variant:"soft",onClick:()=>dl(!1),disabled:yd,children:"Skip for now"}),c.jsx(pn,{onClick:()=>void Ny(),disabled:yd,children:yd?"Updating...":"Update Password"})]})]})}),c.jsx(Lo,{open:j,onOpenChange:L,children:c.jsxs(Do,{maxWidth:"1120px",className:"overflow-hidden flex flex-col",style:{width:"1120px",height:"760px",maxWidth:"1120px",maxHeight:"760px"},children:[c.jsx(Fo,{children:"Settings"}),c.jsx(zo,{size:"2",mb:"3",children:"Channel-first configuration. Save writes to microclaw.config.yaml. Restart is required."}),A?c.jsx(fn,{color:A.risk_level==="high"?"red":A.risk_level==="medium"?"orange":"green",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(hn,{children:["Config self-check: risk=",String(A.risk_level||"none"),", warnings=",Number(A.warning_count||0),"."," ",c.jsx("a",{href:`${Zr}/configuration`,target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})}):null,A!=null&&A.security_posture?c.jsxs("details",{className:"mb-2",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:"Security posture details"}),c.jsxs(St,{className:"mt-2 p-3",children:[c.jsxs(Y,{size:"2",weight:"bold",children:["Security posture"," ",c.jsx("a",{href:`${Zr}/permissions`,target:"_blank",rel:"noreferrer",className:"underline text-[color:var(--mc-accent)]",children:"Rules"})]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["sandbox=",String(A.security_posture.sandbox_mode||"off")," | runtime=",String(!!A.security_posture.sandbox_runtime_available)," | backend=",String(A.security_posture.sandbox_backend||"auto")]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["mount allowlist: ",String(((Dy=A.security_posture.mount_allowlist)==null?void 0:Dy.path)||"(default)")," | exists=",String(!!((Fy=A.security_posture.mount_allowlist)!=null&&Fy.exists))," | has_entries=",String(!!((zy=A.security_posture.mount_allowlist)!=null&&zy.has_entries))]}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(A.security_posture.execution_policies||[]).map((_,H)=>c.jsxs(oy,{color:_.risk==="high"?"red":_.risk==="medium"?"orange":"gray",variant:"soft",children:[String(_.tool),": ",String(_.policy)]},`${String(_.tool)}-${H}`))})]})]}):null,S?c.jsx(Y,{size:"1",color:"gray",className:"mb-2 block",children:"Checking critical config risks..."}):null,fe?c.jsx(fn,{color:"red",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(hn,{children:["Self-check failed: ",fe]})}):null,c.jsx("div",{className:"mt-2 min-h-0 flex-1",children:D?c.jsx(ET,{defaultValue:"general",orientation:"vertical",className:"h-full min-h-0",children:c.jsxs("div",{className:"grid h-full grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsx(St,{className:"h-full p-3",style:mr,children:c.jsxs(TT,{className:"mc-settings-tabs-list flex h-full w-full flex-col gap-1",children:[c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-1 uppercase tracking-wide",children:"Runtime"}),c.jsx(Yr,{value:"general",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  General"}),c.jsx(Yr,{value:"model",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Model"}),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Channels"}),c.jsx(Yr,{value:"telegram",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Telegram"}),c.jsx(Yr,{value:"discord",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Discord"}),c.jsx(Yr,{value:"irc",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  IRC"}),Jl.map(_=>c.jsxs(Yr,{value:_.name,className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:[_.icon,"  ",_.title]},_.name)),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Integrations"}),c.jsx(Yr,{value:"web",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Web"}),M?c.jsxs("div",{className:"mt-auto pt-3",children:[c.jsx(dy,{size:"4"}),c.jsx("button",{type:"button",onClick:()=>void MT(),className:"mt-3 inline-flex w-full items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition hover:brightness-110 active:brightness-95",style:e==="dark"?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-panel)",color:"var(--mc-text)"}:void 0,children:"Log out"})]}):null]})}),c.jsxs("div",{className:"min-w-0 overflow-y-auto pr-1",children:[c.jsx(Xr,{value:"general",children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"General"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Runtime defaults used across all channels."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"working_dir_isolation: chat = isolated workspace per chat; shared = one shared workspace."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"max_tokens / max_tool_iterations / max_document_size_mb / memory_token_budget control response budget and tool loop safety."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"bot_username",description:c.jsxs(c.Fragment,{children:["Global default bot username. Channel-specific ",c.jsx("code",{children:"channels.<name>.bot_username"})," overrides this."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.bot_username||""),onChange:_=>te("bot_username",_.target.value),placeholder:"bot"})}),c.jsx(Z,{label:"working_dir_isolation",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"chat"})," for per-chat isolation, or ",c.jsx("code",{children:"shared"})," for one shared workspace."]}),children:c.jsxs("select",{className:"mt-2 w-full rounded-md border border-[color:var(--mc-border-soft)] bg-transparent px-3 py-2 text-base text-[color:inherit] outline-none focus:border-[color:var(--mc-accent)]",value:Nf(R.working_dir_isolation||rt.working_dir_isolation),onChange:_=>te("working_dir_isolation",_.target.value),children:[c.jsx("option",{value:"chat",children:"chat (per-chat isolated workspace)"}),c.jsx("option",{value:"shared",children:"shared (single shared workspace)"})]})}),c.jsx(Z,{label:"souls_dir",description:c.jsx(c.Fragment,{children:"Directory used by SOUL picker and default SOUL path normalization."}),children:c.jsx(ne,{className:"mt-2",value:String(R.souls_dir||""),onChange:_=>te("souls_dir",_.target.value),placeholder:"~/.microclaw/souls"})}),c.jsx(Z,{label:"max_tokens",description:c.jsx(c.Fragment,{children:"Maximum output tokens for one model response."}),children:c.jsx(ne,{className:"mt-2",value:String(R.max_tokens||rt.max_tokens),onChange:_=>te("max_tokens",_.target.value),placeholder:"8192"})}),c.jsx(Z,{label:"max_tool_iterations",description:c.jsx(c.Fragment,{children:"Upper bound for tool loop iterations in one request."}),children:c.jsx(ne,{className:"mt-2",value:String(R.max_tool_iterations||rt.max_tool_iterations),onChange:_=>te("max_tool_iterations",_.target.value),placeholder:"100"})}),c.jsx(Z,{label:"max_document_size_mb",description:c.jsx(c.Fragment,{children:"Maximum uploaded file size in MB."}),children:c.jsx(ne,{className:"mt-2",value:String(R.max_document_size_mb||rt.max_document_size_mb),onChange:_=>te("max_document_size_mb",_.target.value),placeholder:"100"})}),c.jsx(Z,{label:"memory_token_budget",description:c.jsx(c.Fragment,{children:"Estimated token budget for injecting structured memories into the system prompt."}),children:c.jsx(ne,{className:"mt-2",type:"number",value:String(R.memory_token_budget||rt.memory_token_budget),onChange:_=>te("memory_token_budget",_.target.value),placeholder:"1500"})})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[c.jsx(ec,{label:"high_risk_tool_user_confirmation_required",description:c.jsxs(c.Fragment,{children:["Require explicit user confirmation before executing high-risk tools (for example ",c.jsx("code",{children:"bash"}),")."]}),checked:R.high_risk_tool_user_confirmation_required!==!1,onCheckedChange:_=>te("high_risk_tool_user_confirmation_required",_),className:gl,style:yl}),c.jsx(ec,{label:"show_thinking",description:c.jsx(c.Fragment,{children:"Show intermediate reasoning text in responses."}),checked:!!R.show_thinking,onCheckedChange:_=>te("show_thinking",_),className:gl,style:yl}),c.jsx(ec,{label:"web_enabled",description:c.jsx(c.Fragment,{children:"Enable built-in Web UI and API endpoint."}),checked:!!R.web_enabled,onCheckedChange:_=>te("web_enabled",_),className:gl,style:yl}),c.jsx(ec,{label:"reflector_enabled",description:c.jsx(c.Fragment,{children:"Periodically extract structured memories from conversations in the background."}),checked:R.reflector_enabled!==!1,onCheckedChange:_=>te("reflector_enabled",_),className:gl,style:yl})]}),c.jsx("div",{className:"mt-4 space-y-3",children:c.jsx(Z,{label:"reflector_interval_mins",description:c.jsx(c.Fragment,{children:"How often (in minutes) the memory reflector runs. Requires restart."}),children:c.jsx(ne,{className:"mt-2",type:"number",value:String(R.reflector_interval_mins??rt.reflector_interval_mins),onChange:_=>te("reflector_interval_mins",_.target.value),placeholder:"15"})})})]})}),c.jsxs(Xr,{value:"model",children:[c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Model"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"LLM provider and API settings."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"llm_provider selects routing preset; model is the exact model id sent to provider API."}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["For custom providers set ",c.jsx("code",{children:"llm_base_url"}),". For ",c.jsx("code",{children:"openai-codex"}),", configure auth/provider in ",c.jsx("code",{children:"~/.codex/auth.json"})," and ",c.jsx("code",{children:"~/.codex/config.toml"})," (this form ignores ",c.jsx("code",{children:"api_key"}),"/",c.jsx("code",{children:"llm_base_url"}),"). ",c.jsx("code",{children:"ollama"})," can leave ",c.jsx("code",{children:"api_key"})," empty."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"llm_provider",description:c.jsx(c.Fragment,{children:"Select provider preset for request routing and defaults."}),children:c.jsx("div",{className:"mt-2",children:c.jsxs(ly,{value:String(R.llm_provider||rt.llm_provider),onValueChange:_=>te("llm_provider",_),children:[c.jsx(cy,{className:"w-full mc-select-trigger-full",placeholder:"Select provider"}),c.jsx(uy,{children:FT.map(_=>c.jsx(xa,{value:_,children:_},_))})]})})}),c.jsxs(Z,{label:"model",description:c.jsx(c.Fragment,{children:"Exact model id to use for requests."}),children:[c.jsx(ne,{className:"mt-2",value:String(R.model||Jw(String(R.llm_provider||rt.llm_provider))),onChange:_=>te("model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"}),Ly.length>0?c.jsxs(Y,{size:"1",color:"gray",className:"mt-2 block",children:["Suggested: ",Ly.join(" / ")]}):null]}),Ai==="custom"?c.jsx(Z,{label:"llm_base_url",description:c.jsx(c.Fragment,{children:"Base URL for OpenAI-compatible custom provider endpoint."}),children:c.jsx(ne,{className:"mt-2",value:String(R.llm_base_url||""),onChange:_=>te("llm_base_url",_.target.value),placeholder:"https://api.example.com/v1"})}):null,c.jsx(Z,{label:"api_key",description:Ai==="openai-codex"?c.jsxs(c.Fragment,{children:["For ",c.jsx("code",{children:"openai-codex"}),", this field is ignored. Configure ",c.jsx("code",{children:"~/.codex/auth.json"})," instead."]}):c.jsx(c.Fragment,{children:"Provider API key. Leave blank to keep current secret unchanged."}),children:c.jsx(ne,{className:"mt-2",value:String(R.api_key||""),onChange:_=>te("api_key",_.target.value),placeholder:Ai==="openai-codex"?"(ignored for openai-codex)":"sk-..."})})]})]}),c.jsxs("div",{className:`${zr} mt-4`,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Embedding"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Optional embedding runtime settings for semantic memory (requires sqlite-vec build)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"embedding_provider",description:c.jsxs(c.Fragment,{children:["Optional runtime embedding provider: ",c.jsx("code",{children:"openai"})," or ",c.jsx("code",{children:"ollama"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.embedding_provider||""),onChange:_=>te("embedding_provider",_.target.value),placeholder:"openai"})}),c.jsx(Z,{label:"embedding_api_key",description:c.jsx(c.Fragment,{children:"Optional embedding API key. Leave blank to keep unchanged."}),children:c.jsx(ne,{className:"mt-2",value:String(R.embedding_api_key||""),onChange:_=>te("embedding_api_key",_.target.value),placeholder:"sk-..."})}),c.jsx(Z,{label:"embedding_base_url",description:c.jsx(c.Fragment,{children:"Optional embedding base URL override."}),children:c.jsx(ne,{className:"mt-2",value:String(R.embedding_base_url||""),onChange:_=>te("embedding_base_url",_.target.value),placeholder:"https://api.openai.com/v1"})}),c.jsx(Z,{label:"embedding_model",description:c.jsx(c.Fragment,{children:"Optional embedding model id."}),children:c.jsx(ne,{className:"mt-2",value:String(R.embedding_model||""),onChange:_=>te("embedding_model",_.target.value),placeholder:"text-embedding-3-small"})}),c.jsx(Z,{label:"embedding_dim",description:c.jsx(c.Fragment,{children:"Optional embedding vector dimension."}),children:c.jsx(ne,{className:"mt-2",type:"number",value:String(R.embedding_dim||""),onChange:_=>te("embedding_dim",_.target.value),placeholder:"1536"})})]})]})]}),c.jsx(Xr,{value:"telegram",children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Telegram"}),c.jsx(Yi,{steps:[c.jsxs(c.Fragment,{children:["Open Telegram and chat with ",c.jsx("code",{children:"@BotFather"}),"."]}),c.jsxs(c.Fragment,{children:["Run ",c.jsx("code",{children:"/newbot"}),", set name and username (must end with ",c.jsx("code",{children:"bot"}),")."]}),c.jsx(c.Fragment,{children:"Copy the bot token and paste below."}),c.jsx(c.Fragment,{children:"Configure one or more bot accounts; each account can set its own username."}),c.jsx(c.Fragment,{children:"In groups, mention the bot to trigger replies."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more bots (up to 10). Leave token blank to keep existing secret unchanged."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"telegram_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.telegram_account_id||"main"),onChange:_=>te("telegram_account_id",_.target.value),placeholder:"main"})}),c.jsx(Z,{label:"telegram_bot_count",description:c.jsx(c.Fragment,{children:"Number of Telegram bot accounts to configure (1-10)."}),children:c.jsx(ne,{className:"mt-2",type:"number",min:"1",max:String(es),value:String(R.telegram_bot_count||1),onChange:_=>te("telegram_bot_count",dn(_.target.value))})}),c.jsx(Z,{label:"telegram_model",description:c.jsx(c.Fragment,{children:"Optional Telegram channel-level model override."}),children:c.jsx(ne,{className:"mt-2",value:String(R.telegram_model||""),onChange:_=>te("telegram_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})}),c.jsx(Z,{label:"telegram_allowed_user_ids",description:c.jsxs(c.Fragment,{children:["Optional channel-level allowlist. Accepts CSV or JSON array (for example ",c.jsx("code",{children:"123,456"})," or ",c.jsx("code",{children:"[123,456]"}),"). Merged with each bot account's ",c.jsx("code",{children:"allowed_user_ids"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.telegram_allowed_user_ids||""),onChange:_=>te("telegram_allowed_user_ids",_.target.value),placeholder:"123456789,987654321"})}),Array.from({length:dn(R.telegram_bot_count||1)}).map((_,H)=>{const F=H+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Telegram bot #",F]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(Z,{label:`telegram_bot_${F}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R[`telegram_bot_${F}_account_id`]||Zl(F)),onChange:V=>te(`telegram_bot_${F}_account_id`,V.target.value),placeholder:Zl(F)})}),c.jsx(Z,{label:`telegram_bot_${F}_token`,description:c.jsx(c.Fragment,{children:"BotFather token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`telegram_bot_${F}_token`]||""),onChange:V=>te(`telegram_bot_${F}_token`,V.target.value),placeholder:"123456789:AA..."})}),c.jsx(Z,{label:`telegram_bot_${F}_username`,description:c.jsxs(c.Fragment,{children:["Telegram username without ",c.jsx("code",{children:"@"}),", used for group mention trigger."]}),children:c.jsx(ne,{className:"mt-2",value:String(R[`telegram_bot_${F}_username`]||""),onChange:V=>te(`telegram_bot_${F}_username`,V.target.value),placeholder:F===1?"my_main_bot":`my_bot_${F}`})}),c.jsx(Z,{label:`telegram_bot_${F}_soul_path`,description:c.jsxs(c.Fragment,{children:["Per-bot soul file. Select from ",c.jsxs("code",{children:[String(R.souls_dir||"").trim()||"souls","/*.md"]})," or input a custom filename/path."]}),children:c.jsx(rb,{value:R[`telegram_bot_${F}_soul_path`],soulsDir:R.souls_dir,soulFiles:q,onChange:V=>te(`telegram_bot_${F}_soul_path`,V)})}),c.jsx(Z,{label:`telegram_bot_${F}_allowed_user_ids`,description:c.jsx(c.Fragment,{children:"Optional per-bot private-chat allowlist (CSV or JSON array)."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`telegram_bot_${F}_allowed_user_ids`]||""),onChange:V=>te(`telegram_bot_${F}_allowed_user_ids`,V.target.value),placeholder:"123456789,987654321"})})]})]},`telegram-bot-${F}`)})]})]})}),c.jsx(Xr,{value:"discord",children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Discord"}),c.jsx(Yi,{steps:[c.jsx(c.Fragment,{children:"Open Discord Developer Portal and create an application + bot."}),c.jsxs(c.Fragment,{children:["Enable ",c.jsx("code",{children:"Message Content Intent"})," under Bot settings."]}),c.jsx(c.Fragment,{children:"Invite bot with scopes/permissions: bot, View Channels, Send Messages, Read Message History."}),c.jsx(c.Fragment,{children:"Paste bot token below."}),c.jsx(c.Fragment,{children:"Optional: limit handling to specific channel IDs."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more Discord bot accounts (up to 10)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"discord_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.discord_account_id||"main"),onChange:_=>te("discord_account_id",_.target.value),placeholder:"main"})}),c.jsx(Z,{label:"discord_bot_count",description:c.jsx(c.Fragment,{children:"Number of Discord bot accounts to configure (1-10)."}),children:c.jsx(ne,{className:"mt-2",type:"number",min:"1",max:String(es),value:String(R.discord_bot_count||1),onChange:_=>te("discord_bot_count",dn(_.target.value))})}),Array.from({length:dn(R.discord_bot_count||1)}).map((_,H)=>{const F=H+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Discord bot #",F]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(Z,{label:`discord_bot_${F}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R[`discord_bot_${F}_account_id`]||Kr(F)),onChange:V=>te(`discord_bot_${F}_account_id`,V.target.value),placeholder:Kr(F)})}),c.jsx(Z,{label:`discord_bot_${F}_token`,description:c.jsx(c.Fragment,{children:"Discord bot token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`discord_bot_${F}_token`]||""),onChange:V=>te(`discord_bot_${F}_token`,V.target.value),placeholder:"MTAx..."})}),c.jsx(Z,{label:`discord_bot_${F}_allowed_channels`,description:c.jsx(c.Fragment,{children:"Optional allowlist. Only listed channel IDs can trigger this bot."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`discord_bot_${F}_allowed_channels_csv`]||""),onChange:V=>te(`discord_bot_${F}_allowed_channels_csv`,V.target.value),placeholder:"1234567890,9876543210"})}),c.jsx(Z,{label:`discord_bot_${F}_username`,description:c.jsx(c.Fragment,{children:"Optional Discord bot username override."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`discord_bot_${F}_username`]||""),onChange:V=>te(`discord_bot_${F}_username`,V.target.value),placeholder:F===1?"discord_main_bot":`discord_bot_${F}`})}),c.jsx(Z,{label:`discord_bot_${F}_model`,description:c.jsx(c.Fragment,{children:"Optional model override for this bot account."}),children:c.jsx(ne,{className:"mt-2",value:String(R[`discord_bot_${F}_model`]||""),onChange:V=>te(`discord_bot_${F}_model`,V.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]},`discord-bot-${F}`)})]})]})}),c.jsx(Xr,{value:"irc",children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"IRC"}),c.jsx(Yi,{steps:[c.jsx(c.Fragment,{children:"Set IRC server and nick."}),c.jsxs(c.Fragment,{children:["Set channels as comma-separated list, for example ",c.jsx("code",{children:"#general,#bot"}),"."]}),c.jsx(c.Fragment,{children:"Use TLS fields when connecting to secure endpoints."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Required for IRC runtime: server and nick."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"irc_server",description:c.jsx(c.Fragment,{children:"IRC server hostname."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_server||""),onChange:_=>te("irc_server",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(Z,{label:"irc_port",description:c.jsx(c.Fragment,{children:"IRC server port. Typical values: 6667 or 6697 (TLS)."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_port||""),onChange:_=>te("irc_port",_.target.value),placeholder:"6667"})}),c.jsx(Z,{label:"irc_nick",description:c.jsx(c.Fragment,{children:"Bot nickname."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_nick||""),onChange:_=>te("irc_nick",_.target.value),placeholder:"microclaw"})}),c.jsx(Z,{label:"irc_username",description:c.jsx(c.Fragment,{children:"Optional IRC username. Defaults to nick when empty."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_username||""),onChange:_=>te("irc_username",_.target.value),placeholder:"microclaw"})}),c.jsx(Z,{label:"irc_real_name",description:c.jsx(c.Fragment,{children:"Optional IRC real name/gecos field."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_real_name||""),onChange:_=>te("irc_real_name",_.target.value),placeholder:"MicroClaw"})}),c.jsx(Z,{label:"irc_channels",description:c.jsx(c.Fragment,{children:"Comma-separated target channels."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_channels||""),onChange:_=>te("irc_channels",_.target.value),placeholder:"#general,#support"})}),c.jsx(Z,{label:"irc_password",description:c.jsx(c.Fragment,{children:"Optional IRC server password. Leave blank to keep current secret unchanged."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_password||""),onChange:_=>te("irc_password",_.target.value),placeholder:"password"})}),c.jsx(Z,{label:"irc_mention_required",description:c.jsxs(c.Fragment,{children:["In channels, require bot mention before responding (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_mention_required||""),onChange:_=>te("irc_mention_required",_.target.value),placeholder:"true"})}),c.jsx(Z,{label:"irc_tls",description:c.jsxs(c.Fragment,{children:["Enable TLS (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_tls||""),onChange:_=>te("irc_tls",_.target.value),placeholder:"false"})}),c.jsx(Z,{label:"irc_tls_server_name",description:c.jsx(c.Fragment,{children:"Optional TLS SNI server name. Defaults to server."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_tls_server_name||""),onChange:_=>te("irc_tls_server_name",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(Z,{label:"irc_tls_danger_accept_invalid_certs",description:c.jsxs(c.Fragment,{children:["Allow invalid TLS certs (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),"). Only for testing."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_tls_danger_accept_invalid_certs||""),onChange:_=>te("irc_tls_danger_accept_invalid_certs",_.target.value),placeholder:"false"})}),c.jsx(Z,{label:"irc_model",description:c.jsx(c.Fragment,{children:"Optional IRC model override."}),children:c.jsx(ne,{className:"mt-2",value:String(R.irc_model||""),onChange:_=>te("irc_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),Jl.map(_=>c.jsx(Xr,{value:_.name,children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:_.title}),c.jsx(Yi,{steps:_.steps.map((H,F)=>c.jsx("span",{children:H},F))}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:_.hint}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:`${_.name}_default_account`,description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R[`${_.name}__account_id`]||"main"),onChange:H=>te(`${_.name}__account_id`,H.target.value),placeholder:"main"})},`${_.name}__account_id`),c.jsx(Z,{label:`${_.name}_bot_count`,description:c.jsxs(c.Fragment,{children:["Number of bot accounts to configure for ",c.jsx("code",{children:_.name})," (1-10)."]}),children:c.jsx(ne,{className:"mt-2",type:"number",min:"1",max:String(es),value:String(R[`${_.name}__bot_count`]||1),onChange:H=>te(`${_.name}__bot_count`,dn(H.target.value))})},`${_.name}__bot_count`),Array.from({length:dn(R[`${_.name}__bot_count`]||1)}).map((H,F)=>{const V=F+1;return c.jsxs(St,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:[_.title," bot #",V]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(Z,{label:`${_.name}_bot_${V}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(ne,{className:"mt-2",value:String(R[`${_.name}__bot_${V}__account_id`]||Kr(V)),onChange:ie=>te(`${_.name}__bot_${V}__account_id`,ie.target.value),placeholder:Kr(V)})},`${_.name}__bot_${V}__account_id`),c.jsx(Z,{label:`${_.name}_bot_${V}_soul_path`,description:c.jsxs(c.Fragment,{children:["Per-bot soul file. Select from ",c.jsxs("code",{children:[String(R.souls_dir||"").trim()||"souls","/*.md"]})," or input a custom filename/path."]}),children:c.jsx(rb,{value:R[`${_.name}__bot_${V}__soul_path`],soulsDir:R.souls_dir,soulFiles:q,onChange:ie=>te(`${_.name}__bot_${V}__soul_path`,ie)})},`${_.name}__bot_${V}__soul_path`),_.fields.map(ie=>{const pe=`${_.name}__bot_${V}__${ie.yamlKey}`;return c.jsx(Z,{label:`${_.name}_bot_${V}_${ie.yamlKey}`,description:c.jsx(c.Fragment,{children:ie.description}),children:c.jsx(ne,{className:"mt-2",value:String(R[pe]||""),onChange:Ge=>te(pe,Ge.target.value),placeholder:ie.placeholder})},pe)})]})]},`${_.name}-bot-${V}`)})]})]})},_.name)),c.jsx(Xr,{value:"web",children:c.jsxs("div",{className:zr,style:mr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Web"}),c.jsx(Yi,{steps:[c.jsxs(c.Fragment,{children:["Keep ",c.jsx("code",{children:"web_enabled"})," on for local UI access."]}),c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only host, or set LAN host explicitly."]}),c.jsxs(c.Fragment,{children:["Choose web port (default ",c.jsx("code",{children:"10961"}),")."]})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"For local only, keep host as 127.0.0.1. Use 0.0.0.0 only behind trusted network controls."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(Z,{label:"web_host",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only. Use ",c.jsx("code",{children:"0.0.0.0"})," only when intentionally exposing on LAN."]}),children:c.jsx(ne,{className:"mt-2",value:String(R.web_host||rt.web_host),onChange:_=>te("web_host",_.target.value),placeholder:"127.0.0.1"})}),c.jsx(Z,{label:"web_port",description:c.jsx(c.Fragment,{children:"HTTP port for Web UI and API endpoint."}),children:c.jsx(ne,{className:"mt-2",value:String(R.web_port||rt.web_port),onChange:_=>te("web_port",_.target.value),placeholder:"10961"})}),c.jsx(Z,{label:"web_bot_username",description:c.jsx(c.Fragment,{children:"Optional Web-specific bot username override."}),children:c.jsx(ne,{className:"mt-2",value:String(R.web_bot_username||""),onChange:_=>te("web_bot_username",_.target.value),placeholder:"web_bot_name"})})]}),Array.isArray(A==null?void 0:A.warnings)&&A.warnings.length>0?c.jsxs("details",{className:"mt-4",children:[c.jsxs("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:["Critical config warnings (",A.warnings.length,")"]}),c.jsxs(St,{className:"mt-2 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Critical Config Warnings"}),c.jsx("div",{className:"mt-2 space-y-2",children:A.warnings.map((_,H)=>c.jsx(fn,{color:_.severity==="high"?"red":"orange",size:"1",variant:"soft",children:c.jsxs(hn,{children:["[",String(_.severity||"unknown"),"] ",String(_.code||"warning"),": ",String(_.message||"")," ",c.jsx("a",{href:u8(_.code),target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})},`${_.code||"warning"}-${H}`))})]})]}):null]})})]})]})}):c.jsx(Y,{size:"2",color:"gray",children:"Loading..."})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-[color:var(--mc-border-soft)] pt-3",children:[Te?c.jsx(Y,{size:"2",color:Te.startsWith("Save failed")?"red":"green",children:Te}):c.jsx("span",{}),c.jsxs(wn,{justify:"end",gap:"2",children:[c.jsx(CT,{children:c.jsx(pn,{variant:"soft",children:"Close"})}),c.jsx(pn,{onClick:()=>void LT(),children:"Save"})]})]})]})}),c.jsx(l8,{open:be,onOpenChange:Q,usageSession:ki,sessionKey:d,usageLoading:ye,usageError:Ci,usageReport:_e,usageMemory:Ne,reflectorRuns:Dt,injectionLogs:Kn,onRefreshCurrent:()=>void ml(d),onRefreshThis:()=>void ml(ki||d)})]})})}yS(document.getElementById("root")).render(c.jsx(z8,{}));
